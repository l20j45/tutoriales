/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source visit the plugins github repository
*/

/*
License obsidian-tasks:
MIT License

Copyright (c) 2021 Martin Schenck and Clare Macrae

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/

/*
License rrule (included library):
rrule.js: Library for working with recurrence rules for calendar dates.
=======================================================================

Copyright 2010, Jakub Roztocil <jakub@roztocil.name> and Lars Schöning

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

    1. Redistributions of source code must retain the above copyright notice,
       this list of conditions and the following disclaimer.

    2. Redistributions in binary form must reproduce the above copyright
       notice, this list of conditions and the following disclaimer in the
       documentation and/or other materials provided with the distribution.

    3. Neither the name of The author nor the names of its contributors may
       be used to endorse or promote products derived from this software
       without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE AUTHOR AND CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.



./rrule.js and ./test/tests.js is based on python-dateutil. LICENCE:

python-dateutil - Extensions to the standard Python datetime module.
====================================================================

Copyright (c) 2003-2011 - Gustavo Niemeyer <gustavo@niemeyer.net>
Copyright (c) 2012 - Tomi Pieviläinen <tomi.pievilainen@iki.fi>

All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright notice,
      this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright notice,
      this list of conditions and the following disclaimer in the documentation
      and/or other materials provided with the distribution.
    * Neither the name of the copyright holder nor the names of its
      contributors may be used to endorse or promote products derived from
      this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

/*
License chrono-node (included library):
The MIT License

Copyright (c) 2014, Wanasit Tanakitrungruang

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/

"use strict";var Ak=Object.create;var $i=Object.defineProperty,Nk=Object.defineProperties,Ck=Object.getOwnPropertyDescriptor,Ik=Object.getOwnPropertyDescriptors,Fk=Object.getOwnPropertyNames,am=Object.getOwnPropertySymbols,Lk=Object.getPrototypeOf,um=Object.prototype.hasOwnProperty,Yk=Object.prototype.propertyIsEnumerable;var om=(r,e,t)=>e in r?$i(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ae=(r,e)=>{for(var t in e||(e={}))um.call(e,t)&&om(r,t,e[t]);if(am)for(var t of am(e))Yk.call(e,t)&&om(r,t,e[t]);return r},tr=(r,e)=>Nk(r,Ik(e));var O=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Uk=(r,e)=>{for(var t in e)$i(r,t,{get:e[t],enumerable:!0})},lm=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Fk(e))!um.call(r,s)&&s!==t&&$i(r,s,{get:()=>e[s],enumerable:!(n=Ck(e,s))||n.enumerable});return r};var In=(r,e,t)=>(t=r!=null?Ak(Lk(r)):{},lm(e||!r||!r.__esModule?$i(t,"default",{value:r,enumerable:!0}):t,r)),Wk=r=>lm($i({},"__esModule",{value:!0}),r);var X=(r,e,t)=>new Promise((n,s)=>{var a=c=>{try{l(t.next(c))}catch(f){s(f)}},o=c=>{try{l(t.throw(c))}catch(f){s(f)}},l=c=>c.done?n(c.value):Promise.resolve(c.value).then(a,o);l((t=t.apply(r,e)).next())});var Fe=O(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.matchAnyPattern=Fn.extractTerms=Fn.repeatedTimeunitPattern=void 0;function Gk(r,e){let t=e.replace(/\((?!\?)/g,"(?:");return`${r}${t}\\s{0,5}(?:,?\\s{0,5}${t}){0,10}`}Fn.repeatedTimeunitPattern=Gk;function cm(r){let e;return r instanceof Array?e=[...r]:r instanceof Map?e=Array.from(r.keys()):e=Object.keys(r),e}Fn.extractTerms=cm;function Hk(r){return`(?:${cm(r).sort((t,n)=>n.length-t.length).join("|").replace(/\./g,"\\.")})`}Fn.matchAnyPattern=Hk});var Re=O((Wl,ql)=>{(function(r,e){typeof Wl=="object"&&typeof ql!="undefined"?ql.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs=e()})(Wl,function(){"use strict";var r=1e3,e=6e4,t=36e5,n="millisecond",s="second",a="minute",o="hour",l="day",c="week",f="month",p="quarter",g="year",T="date",S="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},G=function(z,W,P){var te=String(z);return!te||te.length>=W?z:""+Array(W+1-te.length).join(P)+z},K={s:G,z:function(z){var W=-z.utcOffset(),P=Math.abs(W),te=Math.floor(P/60),Y=P%60;return(W<=0?"+":"-")+G(te,2,"0")+":"+G(Y,2,"0")},m:function z(W,P){if(W.date()<P.date())return-z(P,W);var te=12*(P.year()-W.year())+(P.month()-W.month()),Y=W.clone().add(te,f),le=P-Y<0,y=W.clone().add(te+(le?-1:1),f);return+(-(te+(P-Y)/(le?Y-y:y-Y))||0)},a:function(z){return z<0?Math.ceil(z)||0:Math.floor(z)},p:function(z){return{M:f,y:g,w:c,d:l,D:T,h:o,m:a,s,ms:n,Q:p}[z]||String(z||"").toLowerCase().replace(/s$/,"")},u:function(z){return z===void 0}},B="en",de={};de[B]=C;var ue=function(z){return z instanceof rt},ye=function(z,W,P){var te;if(!z)return B;if(typeof z=="string")de[z]&&(te=z),W&&(de[z]=W,te=z);else{var Y=z.name;de[Y]=z,te=Y}return!P&&te&&(B=te),te||!P&&B},Q=function(z,W){if(ue(z))return z.clone();var P=typeof W=="object"?W:{};return P.date=z,P.args=arguments,new rt(P)},ee=K;ee.l=ye,ee.i=ue,ee.w=function(z,W){return Q(z,{locale:W.$L,utc:W.$u,x:W.$x,$offset:W.$offset})};var rt=function(){function z(P){this.$L=ye(P.locale,null,!0),this.parse(P)}var W=z.prototype;return W.parse=function(P){this.$d=function(te){var Y=te.date,le=te.utc;if(Y===null)return new Date(NaN);if(ee.u(Y))return new Date;if(Y instanceof Date)return new Date(Y);if(typeof Y=="string"&&!/Z$/i.test(Y)){var y=Y.match(b);if(y){var _=y[2]-1||0,w=(y[7]||"0").substring(0,3);return le?new Date(Date.UTC(y[1],_,y[3]||1,y[4]||0,y[5]||0,y[6]||0,w)):new Date(y[1],_,y[3]||1,y[4]||0,y[5]||0,y[6]||0,w)}}return new Date(Y)}(P),this.$x=P.x||{},this.init()},W.init=function(){var P=this.$d;this.$y=P.getFullYear(),this.$M=P.getMonth(),this.$D=P.getDate(),this.$W=P.getDay(),this.$H=P.getHours(),this.$m=P.getMinutes(),this.$s=P.getSeconds(),this.$ms=P.getMilliseconds()},W.$utils=function(){return ee},W.isValid=function(){return this.$d.toString()!==S},W.isSame=function(P,te){var Y=Q(P);return this.startOf(te)<=Y&&Y<=this.endOf(te)},W.isAfter=function(P,te){return Q(P)<this.startOf(te)},W.isBefore=function(P,te){return this.endOf(te)<Q(P)},W.$g=function(P,te,Y){return ee.u(P)?this[te]:this.set(Y,P)},W.unix=function(){return Math.floor(this.valueOf()/1e3)},W.valueOf=function(){return this.$d.getTime()},W.startOf=function(P,te){var Y=this,le=!!ee.u(te)||te,y=ee.p(P),_=function(N,q){var Ee=ee.w(Y.$u?Date.UTC(Y.$y,q,N):new Date(Y.$y,q,N),Y);return le?Ee:Ee.endOf(l)},w=function(N,q){return ee.w(Y.toDate()[N].apply(Y.toDate("s"),(le?[0,0,0,0]:[23,59,59,999]).slice(q)),Y)},k=this.$W,D=this.$M,M=this.$D,E="set"+(this.$u?"UTC":"");switch(y){case g:return le?_(1,0):_(31,11);case f:return le?_(1,D):_(0,D+1);case c:var I=this.$locale().weekStart||0,A=(k<I?k+7:k)-I;return _(le?M-A:M+(6-A),D);case l:case T:return w(E+"Hours",0);case o:return w(E+"Minutes",1);case a:return w(E+"Seconds",2);case s:return w(E+"Milliseconds",3);default:return this.clone()}},W.endOf=function(P){return this.startOf(P,!1)},W.$set=function(P,te){var Y,le=ee.p(P),y="set"+(this.$u?"UTC":""),_=(Y={},Y[l]=y+"Date",Y[T]=y+"Date",Y[f]=y+"Month",Y[g]=y+"FullYear",Y[o]=y+"Hours",Y[a]=y+"Minutes",Y[s]=y+"Seconds",Y[n]=y+"Milliseconds",Y)[le],w=le===l?this.$D+(te-this.$W):te;if(le===f||le===g){var k=this.clone().set(T,1);k.$d[_](w),k.init(),this.$d=k.set(T,Math.min(this.$D,k.daysInMonth())).$d}else _&&this.$d[_](w);return this.init(),this},W.set=function(P,te){return this.clone().$set(P,te)},W.get=function(P){return this[ee.p(P)]()},W.add=function(P,te){var Y,le=this;P=Number(P);var y=ee.p(te),_=function(D){var M=Q(le);return ee.w(M.date(M.date()+Math.round(D*P)),le)};if(y===f)return this.set(f,this.$M+P);if(y===g)return this.set(g,this.$y+P);if(y===l)return _(1);if(y===c)return _(7);var w=(Y={},Y[a]=e,Y[o]=t,Y[s]=r,Y)[y]||1,k=this.$d.getTime()+P*w;return ee.w(k,this)},W.subtract=function(P,te){return this.add(-1*P,te)},W.format=function(P){var te=this,Y=this.$locale();if(!this.isValid())return Y.invalidDate||S;var le=P||"YYYY-MM-DDTHH:mm:ssZ",y=ee.z(this),_=this.$H,w=this.$m,k=this.$M,D=Y.weekdays,M=Y.months,E=function(q,Ee,ge,fe){return q&&(q[Ee]||q(te,le))||ge[Ee].substr(0,fe)},I=function(q){return ee.s(_%12||12,q,"0")},A=Y.meridiem||function(q,Ee,ge){var fe=q<12?"AM":"PM";return ge?fe.toLowerCase():fe},N={YY:String(this.$y).slice(-2),YYYY:this.$y,M:k+1,MM:ee.s(k+1,2,"0"),MMM:E(Y.monthsShort,k,M,3),MMMM:E(M,k),D:this.$D,DD:ee.s(this.$D,2,"0"),d:String(this.$W),dd:E(Y.weekdaysMin,this.$W,D,2),ddd:E(Y.weekdaysShort,this.$W,D,3),dddd:D[this.$W],H:String(_),HH:ee.s(_,2,"0"),h:I(1),hh:I(2),a:A(_,w,!0),A:A(_,w,!1),m:String(w),mm:ee.s(w,2,"0"),s:String(this.$s),ss:ee.s(this.$s,2,"0"),SSS:ee.s(this.$ms,3,"0"),Z:y};return le.replace(x,function(q,Ee){return Ee||N[q]||y.replace(":","")})},W.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},W.diff=function(P,te,Y){var le,y=ee.p(te),_=Q(P),w=(_.utcOffset()-this.utcOffset())*e,k=this-_,D=ee.m(this,_);return D=(le={},le[g]=D/12,le[f]=D,le[p]=D/3,le[c]=(k-w)/6048e5,le[l]=(k-w)/864e5,le[o]=k/t,le[a]=k/e,le[s]=k/r,le)[y]||k,Y?D:ee.a(D)},W.daysInMonth=function(){return this.endOf(f).$D},W.$locale=function(){return de[this.$L]},W.locale=function(P,te){if(!P)return this.$L;var Y=this.clone(),le=ye(P,te,!0);return le&&(Y.$L=le),Y},W.clone=function(){return ee.w(this.$d,this)},W.toDate=function(){return new Date(this.valueOf())},W.toJSON=function(){return this.isValid()?this.toISOString():null},W.toISOString=function(){return this.$d.toISOString()},W.toString=function(){return this.$d.toUTCString()},z}(),Tt=rt.prototype;return Q.prototype=Tt,[["$ms",n],["$s",s],["$m",a],["$H",o],["$W",l],["$M",f],["$y",g],["$D",T]].forEach(function(z){Tt[z[1]]=function(W){return this.$g(W,z[0],z[1])}}),Q.extend=function(z,W){return z.$i||(z(W,rt,Q),z.$i=!0),Q},Q.locale=ye,Q.isDayjs=ue,Q.unix=function(z){return Q(1e3*z)},Q.en=de[B],Q.Ls=de,Q.p={},Q})});var At=O(Ln=>{"use strict";var Bk=Ln&&Ln.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.findYearClosestToRef=Ln.findMostLikelyADYear=void 0;var zk=Bk(Re());function Vk(r){return r<100&&(r>50?r=r+1900:r=r+2e3),r}Ln.findMostLikelyADYear=Vk;function Kk(r,e,t){let n=zk.default(r),s=n;s=s.month(t-1),s=s.date(e),s=s.year(n.year());let a=s.add(1,"y"),o=s.add(-1,"y");return Math.abs(a.diff(n))<Math.abs(s.diff(n))?s=a:Math.abs(o.diff(n))<Math.abs(s.diff(n))&&(s=o),s.year()}Ln.findYearClosestToRef=Kk});var Nt=O(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.parseTimeUnits=Te.TIME_UNITS_PATTERN=Te.parseYear=Te.YEAR_PATTERN=Te.parseOrdinalNumberPattern=Te.ORDINAL_NUMBER_PATTERN=Te.parseNumberPattern=Te.NUMBER_PATTERN=Te.TIME_UNIT_DICTIONARY=Te.ORDINAL_WORD_DICTIONARY=Te.INTEGER_WORD_DICTIONARY=Te.MONTH_DICTIONARY=Te.FULL_MONTH_NAME_DICTIONARY=Te.WEEKDAY_DICTIONARY=void 0;var xo=Fe(),Zk=At();Te.WEEKDAY_DICTIONARY={sunday:0,sun:0,"sun.":0,monday:1,mon:1,"mon.":1,tuesday:2,tue:2,"tue.":2,wednesday:3,wed:3,"wed.":3,thursday:4,thurs:4,"thurs.":4,thur:4,"thur.":4,thu:4,"thu.":4,friday:5,fri:5,"fri.":5,saturday:6,sat:6,"sat.":6};Te.FULL_MONTH_NAME_DICTIONARY={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12};Te.MONTH_DICTIONARY=Object.assign(Object.assign({},Te.FULL_MONTH_NAME_DICTIONARY),{jan:1,"jan.":1,feb:2,"feb.":2,mar:3,"mar.":3,apr:4,"apr.":4,jun:6,"jun.":6,jul:7,"jul.":7,aug:8,"aug.":8,sep:9,"sep.":9,sept:9,"sept.":9,oct:10,"oct.":10,nov:11,"nov.":11,dec:12,"dec.":12});Te.INTEGER_WORD_DICTIONARY={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12};Te.ORDINAL_WORD_DICTIONARY={first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,twentieth:20,"twenty first":21,"twenty-first":21,"twenty second":22,"twenty-second":22,"twenty third":23,"twenty-third":23,"twenty fourth":24,"twenty-fourth":24,"twenty fifth":25,"twenty-fifth":25,"twenty sixth":26,"twenty-sixth":26,"twenty seventh":27,"twenty-seventh":27,"twenty eighth":28,"twenty-eighth":28,"twenty ninth":29,"twenty-ninth":29,thirtieth:30,"thirty first":31,"thirty-first":31};Te.TIME_UNIT_DICTIONARY={sec:"second",second:"second",seconds:"second",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",hour:"hour",hours:"hour",day:"d",days:"d",week:"week",weeks:"week",month:"month",months:"month",qtr:"quarter",quarter:"quarter",quarters:"quarter",y:"year",yr:"year",year:"year",years:"year"};Te.NUMBER_PATTERN=`(?:${xo.matchAnyPattern(Te.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s{0,2}an?)?|an?\\b(?:\\s{0,2}few)?|few|several|a?\\s{0,2}couple\\s{0,2}(?:of)?)`;function fm(r){let e=r.toLowerCase();return Te.INTEGER_WORD_DICTIONARY[e]!==void 0?Te.INTEGER_WORD_DICTIONARY[e]:e==="a"||e==="an"?1:e.match(/few/)?3:e.match(/half/)?.5:e.match(/couple/)?2:e.match(/several/)?7:parseFloat(e)}Te.parseNumberPattern=fm;Te.ORDINAL_NUMBER_PATTERN=`(?:${xo.matchAnyPattern(Te.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:st|nd|rd|th)?)`;function Qk(r){let e=r.toLowerCase();return Te.ORDINAL_WORD_DICTIONARY[e]!==void 0?Te.ORDINAL_WORD_DICTIONARY[e]:(e=e.replace(/(?:st|nd|rd|th)$/i,""),parseInt(e))}Te.parseOrdinalNumberPattern=Qk;Te.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s{0,2}(?:BE|AD|BC|BCE|CE)|[1-2][0-9]{3}|[5-9][0-9])";function Xk(r){if(/BE/i.test(r))return r=r.replace(/BE/i,""),parseInt(r)-543;if(/BCE?/i.test(r))return r=r.replace(/BCE?/i,""),-parseInt(r);if(/(AD|CE)/i.test(r))return r=r.replace(/(AD|CE)/i,""),parseInt(r);let e=parseInt(r);return Zk.findMostLikelyADYear(e)}Te.parseYear=Xk;var hm=`(${Te.NUMBER_PATTERN})\\s{0,3}(${xo.matchAnyPattern(Te.TIME_UNIT_DICTIONARY)})`,dm=new RegExp(hm,"i");Te.TIME_UNITS_PATTERN=xo.repeatedTimeunitPattern("(?:(?:about|around)\\s{0,3})?",hm);function Jk(r){let e={},t=r,n=dm.exec(t);for(;n;)eE(e,n),t=t.substring(n[0].length).trim(),n=dm.exec(t);return e}Te.parseTimeUnits=Jk;function eE(r,e){let t=fm(e[1]),n=Te.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var pm=O((jl,$l)=>{(function(r,e){typeof jl=="object"&&typeof $l!="undefined"?$l.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs_plugin_quarterOfYear=e()})(jl,function(){"use strict";var r="month",e="quarter";return function(t,n){var s=n.prototype;s.quarter=function(l){return this.$utils().u(l)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(l-1))};var a=s.add;s.add=function(l,c){return l=Number(l),this.$utils().p(c)===e?this.add(3*l,r):a.bind(this)(l,c)};var o=s.startOf;s.startOf=function(l,c){var f=this.$utils(),p=!!f.u(c)||c;if(f.p(l)===e){var g=this.quarter()-1;return p?this.month(3*g).startOf(r).startOf("day"):this.month(3*g+2).endOf(r).endOf("day")}return o.bind(this)(l,c)}}})});var yr=O(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.implySimilarTime=qr.assignSimilarTime=qr.assignSimilarDate=qr.assignTheNextDay=void 0;var mm=gt();function tE(r,e){e=e.add(1,"day"),ym(r,e),gm(r,e)}qr.assignTheNextDay=tE;function ym(r,e){r.assign("day",e.date()),r.assign("month",e.month()+1),r.assign("year",e.year())}qr.assignSimilarDate=ym;function rE(r,e){r.assign("hour",e.hour()),r.assign("minute",e.minute()),r.assign("second",e.second()),r.assign("millisecond",e.millisecond()),r.get("hour")<12?r.assign("meridiem",mm.Meridiem.AM):r.assign("meridiem",mm.Meridiem.PM)}qr.assignSimilarTime=rE;function gm(r,e){r.imply("hour",e.hour()),r.imply("minute",e.minute()),r.imply("second",e.second()),r.imply("millisecond",e.millisecond())}qr.implySimilarTime=gm});var _m=O(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.toTimezoneOffset=ls.TIMEZONE_ABBR_MAP=void 0;ls.TIMEZONE_ABBR_MAP={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:60,CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:-300,FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:180,MST:-420,MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:-480,PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360};function nE(r){var e;return r==null?null:typeof r=="number"?r:(e=ls.TIMEZONE_ABBR_MAP[r])!==null&&e!==void 0?e:null}ls.toTimezoneOffset=nE});var st=O(jr=>{"use strict";var Tm=jr&&jr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(jr,"__esModule",{value:!0});jr.ParsingResult=jr.ParsingComponents=jr.ReferenceWithTimezone=void 0;var sE=Tm(pm()),Po=Tm(Re()),Gl=yr(),iE=_m();Po.default.extend(sE.default);var Hl=class{constructor(e){var t;e=e!=null?e:new Date,e instanceof Date?this.instant=e:(this.instant=(t=e.instant)!==null&&t!==void 0?t:new Date,this.timezoneOffset=iE.toTimezoneOffset(e.timezone))}};jr.ReferenceWithTimezone=Hl;var cs=class{constructor(e,t){if(this.reference=e,this.knownValues={},this.impliedValues={},t)for(let s in t)this.knownValues[s]=t[s];let n=Po.default(e.instant);this.imply("day",n.date()),this.imply("month",n.month()+1),this.imply("year",n.year()),this.imply("hour",12),this.imply("minute",0),this.imply("second",0),this.imply("millisecond",0)}get(e){return e in this.knownValues?this.knownValues[e]:e in this.impliedValues?this.impliedValues[e]:null}isCertain(e){return e in this.knownValues}getCertainComponents(){return Object.keys(this.knownValues)}imply(e,t){return e in this.knownValues?this:(this.impliedValues[e]=t,this)}assign(e,t){return this.knownValues[e]=t,delete this.impliedValues[e],this}delete(e){delete this.knownValues[e],delete this.impliedValues[e]}clone(){let e=new cs(this.reference);e.knownValues={},e.impliedValues={};for(let t in this.knownValues)e.knownValues[t]=this.knownValues[t];for(let t in this.impliedValues)e.impliedValues[t]=this.impliedValues[t];return e}isOnlyDate(){return!this.isCertain("hour")&&!this.isCertain("minute")&&!this.isCertain("second")}isOnlyTime(){return!this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isOnlyWeekdayComponent(){return this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isOnlyDayMonthComponent(){return this.isCertain("day")&&this.isCertain("month")&&!this.isCertain("year")}isValidDate(){let e=this.dateWithoutTimezoneAdjustment();return!(e.getFullYear()!==this.get("year")||e.getMonth()!==this.get("month")-1||e.getDate()!==this.get("day")||this.get("hour")!=null&&e.getHours()!=this.get("hour")||this.get("minute")!=null&&e.getMinutes()!=this.get("minute"))}toString(){return`[ParsingComponents {knownValues: ${JSON.stringify(this.knownValues)}, impliedValues: ${JSON.stringify(this.impliedValues)}}, reference: ${JSON.stringify(this.reference)}]`}dayjs(){return Po.default(this.date())}date(){let e=this.dateWithoutTimezoneAdjustment();return new Date(e.getTime()+this.getSystemTimezoneAdjustmentMinute(e)*6e4)}dateWithoutTimezoneAdjustment(){let e=new Date(this.get("year"),this.get("month")-1,this.get("day"),this.get("hour"),this.get("minute"),this.get("second"),this.get("millisecond"));return e.setFullYear(this.get("year")),e}getSystemTimezoneAdjustmentMinute(e){var t,n;(!e||e.getTime()<0)&&(e=new Date);let s=-e.getTimezoneOffset(),a=(n=(t=this.get("timezoneOffset"))!==null&&t!==void 0?t:this.reference.timezoneOffset)!==null&&n!==void 0?n:s;return s-a}static createRelativeFromReference(e,t){let n=Po.default(e.instant);for(let a in t)n=n.add(t[a],a);let s=new cs(e);return t.hour||t.minute||t.second?(Gl.assignSimilarTime(s,n),Gl.assignSimilarDate(s,n),e.timezoneOffset!==null&&s.assign("timezoneOffset",-e.instant.getTimezoneOffset())):(Gl.implySimilarTime(s,n),e.timezoneOffset!==null&&s.imply("timezoneOffset",-e.instant.getTimezoneOffset()),t.d?(s.assign("day",n.date()),s.assign("month",n.month()+1),s.assign("year",n.year())):(t.week&&s.imply("weekday",n.day()),s.imply("day",n.date()),t.month?(s.assign("month",n.month()+1),s.assign("year",n.year())):(s.imply("month",n.month()+1),t.year?s.assign("year",n.year()):s.imply("year",n.year())))),s}};jr.ParsingComponents=cs;var Gi=class{constructor(e,t,n,s,a){this.reference=e,this.refDate=e.instant,this.index=t,this.text=n,this.start=s||new cs(e),this.end=a}clone(){let e=new Gi(this.reference,this.index,this.text);return e.start=this.start?this.start.clone():null,e.end=this.end?this.end.clone():null,e}date(){return this.start.date()}toString(){return`[ParsingResult {index: ${this.index}, text: '${this.text}', ...}]`}};jr.ParsingResult=Gi});var Z=O(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});Ao.AbstractParserWithWordBoundaryChecking=void 0;var Bl=class{constructor(){this.cachedInnerPattern=null,this.cachedPattern=null}patternLeftBoundary(){return"(\\W|^)"}pattern(e){let t=this.innerPattern(e);return t==this.cachedInnerPattern?this.cachedPattern:(this.cachedPattern=new RegExp(`${this.patternLeftBoundary()}${t.source}`,t.flags),this.cachedInnerPattern=t,this.cachedPattern)}extract(e,t){var n;let s=(n=t[1])!==null&&n!==void 0?n:"";t.index=t.index+s.length,t[0]=t[0].substring(s.length);for(let a=2;a<t.length;a++)t[a-1]=t[a];return this.innerExtract(e,t)}};Ao.AbstractParserWithWordBoundaryChecking=Bl});var bm=O(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});var Vl=Nt(),aE=st(),oE=Z(),uE=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${Vl.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),lE=new RegExp(`(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${Vl.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),zl=class extends oE.AbstractParserWithWordBoundaryChecking{innerPattern(e){return e.option.forwardDate?lE:uE}innerExtract(e,t){let n=Vl.parseTimeUnits(t[1]);return aE.ParsingComponents.createRelativeFromReference(e.reference,n)}};Kl.default=zl});var Sm=O(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});var cE=At(),Em=Nt(),Dm=Nt(),No=Nt(),dE=Fe(),fE=Z(),hE=new RegExp(`(?:on\\s{0,3})?(${No.ORDINAL_NUMBER_PATTERN})(?:\\s{0,3}(?:to|\\-|\\\u2013|until|through|till)?\\s{0,3}(${No.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s{0,3}(?:of)?\\s{0,3})(${dE.matchAnyPattern(Em.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s{0,3})(${Dm.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),vm=1,wm=2,pE=3,km=4,Zl=class extends fE.AbstractParserWithWordBoundaryChecking{innerPattern(){return hE}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=Em.MONTH_DICTIONARY[t[pE].toLowerCase()],a=No.parseOrdinalNumberPattern(t[vm]);if(a>31)return t.index=t.index+t[vm].length,null;if(n.start.assign("month",s),n.start.assign("day",a),t[km]){let o=Dm.parseYear(t[km]);n.start.assign("year",o)}else{let o=cE.findYearClosestToRef(e.refDate,a,s);n.start.imply("year",o)}if(t[wm]){let o=No.parseOrdinalNumberPattern(t[wm]);n.end=n.start.clone(),n.end.assign("day",o)}return n}};Ql.default=Zl});var Pm=O(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});var mE=At(),Rm=Nt(),Co=Nt(),xm=Nt(),yE=Fe(),gE=Z(),_E=new RegExp(`(${yE.matchAnyPattern(Rm.MONTH_DICTIONARY)})(?:-|/|\\s*,?\\s*)(${Co.ORDINAL_NUMBER_PATTERN})(?!\\s*(?:am|pm))\\s*(?:(?:to|\\-)\\s*(${Co.ORDINAL_NUMBER_PATTERN})\\s*)?(?:(?:-|/|\\s*,?\\s*)(${xm.YEAR_PATTERN}))?(?=\\W|$)(?!\\:\\d)`,"i"),TE=1,bE=2,Om=3,Mm=4,Xl=class extends gE.AbstractParserWithWordBoundaryChecking{innerPattern(){return _E}innerExtract(e,t){let n=Rm.MONTH_DICTIONARY[t[TE].toLowerCase()],s=Co.parseOrdinalNumberPattern(t[bE]);if(s>31)return null;let a=e.createParsingComponents({day:s,month:n});if(t[Mm]){let c=xm.parseYear(t[Mm]);a.assign("year",c)}else{let c=mE.findYearClosestToRef(e.refDate,s,n);a.imply("year",c)}if(!t[Om])return a;let o=Co.parseOrdinalNumberPattern(t[Om]),l=e.createParsingResult(t.index,t[0]);return l.start=a,l.end=a.clone(),l.end.assign("day",o),l}};Jl.default=Xl});var Cm=O(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});var ec=Nt(),vE=At(),wE=Fe(),Nm=Nt(),kE=Z(),EE=new RegExp(`((?:in)\\s*)?(${wE.matchAnyPattern(ec.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${Nm.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i"),DE=1,SE=2,Am=3,tc=class extends kE.AbstractParserWithWordBoundaryChecking{innerPattern(){return EE}innerExtract(e,t){let n=t[SE].toLowerCase();if(t[0].length<=3&&!ec.FULL_MONTH_NAME_DICTIONARY[n])return null;let s=e.createParsingResult(t.index+(t[DE]||"").length,t.index+t[0].length);s.start.imply("day",1);let a=ec.MONTH_DICTIONARY[n];if(s.start.assign("month",a),t[Am]){let o=Nm.parseYear(t[Am]);s.start.assign("year",o)}else{let o=vE.findYearClosestToRef(e.refDate,1,a);s.start.imply("year",o)}return s}};rc.default=tc});var Lm=O(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});var Fm=Nt(),OE=Fe(),ME=Z(),RE=new RegExp(`([0-9]{4})[\\.\\/\\s](?:(${OE.matchAnyPattern(Fm.MONTH_DICTIONARY)})|([0-9]{1,2}))[\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i"),xE=1,PE=2,Im=3,AE=4,nc=class extends ME.AbstractParserWithWordBoundaryChecking{innerPattern(){return RE}innerExtract(e,t){let n=t[Im]?parseInt(t[Im]):Fm.MONTH_DICTIONARY[t[PE].toLowerCase()];if(n<1||n>12)return null;let s=parseInt(t[xE]);return{day:parseInt(t[AE]),month:n,year:s}}};sc.default=nc});var Ym=O(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});var NE=Z(),CE=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i"),IE=1,FE=2,ic=class extends NE.AbstractParserWithWordBoundaryChecking{innerPattern(){return CE}innerExtract(e,t){let n=parseInt(t[FE]),s=parseInt(t[IE]);return e.createParsingComponents().imply("day",1).assign("month",s).assign("year",n)}};ac.default=ic});var ds=O(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.AbstractTimeExpressionParser=void 0;var Ht=gt();function LE(r,e,t,n){return new RegExp(`${r}${e}(\\d{1,4})(?:(?:\\.|:|\uFF1A)(\\d{1,2})(?:(?::|\uFF1A)(\\d{2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${t}`,n)}function YE(r,e){return new RegExp(`^(${r})(\\d{1,4})(?:(?:\\.|\\:|\\\uFF1A)(\\d{1,2})(?:(?:\\.|\\:|\\\uFF1A)(\\d{1,2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${e}`,"i")}var Um=2,Vs=3,Io=4,Fo=5,Hi=6,oc=class{constructor(e=!1){this.cachedPrimaryPrefix=null,this.cachedPrimarySuffix=null,this.cachedPrimaryTimePattern=null,this.cachedFollowingPhase=null,this.cachedFollowingSuffix=null,this.cachedFollowingTimePatten=null,this.strictMode=e}patternFlags(){return"i"}primaryPatternLeftBoundary(){return"(^|\\s|T|\\b)"}primarySuffix(){return"(?=\\W|$)"}followingSuffix(){return"(?=\\W|$)"}pattern(e){return this.getPrimaryTimePatternThroughCache()}extract(e,t){let n=this.extractPrimaryTimeComponents(e,t);if(!n)return t.index+=t[0].length,null;let s=t.index+t[1].length,a=t[0].substring(t[1].length),o=e.createParsingResult(s,a,n);t.index+=t[0].length;let l=e.text.substring(t.index),f=this.getFollowingTimePatternThroughCache().exec(l);return a.match(/^\d{3,4}/)&&f&&f[0].match(/^\s*([+-])\s*\d{2,4}$/)?null:!f||f[0].match(/^\s*([+-])\s*\d{3,4}$/)?this.checkAndReturnWithoutFollowingPattern(o):(o.end=this.extractFollowingTimeComponents(e,f,o),o.end&&(o.text+=f[0]),this.checkAndReturnWithFollowingPattern(o))}extractPrimaryTimeComponents(e,t,n=!1){let s=e.createParsingComponents(),a=0,o=null,l=parseInt(t[Um]);if(l>100){if(this.strictMode||t[Vs]!=null)return null;a=l%100,l=Math.floor(l/100)}if(l>24)return null;if(t[Vs]!=null){if(t[Vs].length==1&&!t[Hi])return null;a=parseInt(t[Vs])}if(a>=60)return null;if(l>12&&(o=Ht.Meridiem.PM),t[Hi]!=null){if(l>12)return null;let c=t[Hi][0].toLowerCase();c=="a"&&(o=Ht.Meridiem.AM,l==12&&(l=0)),c=="p"&&(o=Ht.Meridiem.PM,l!=12&&(l+=12))}if(s.assign("hour",l),s.assign("minute",a),o!==null?s.assign("meridiem",o):l<12?s.imply("meridiem",Ht.Meridiem.AM):s.imply("meridiem",Ht.Meridiem.PM),t[Fo]!=null){let c=parseInt(t[Fo].substring(0,3));if(c>=1e3)return null;s.assign("millisecond",c)}if(t[Io]!=null){let c=parseInt(t[Io]);if(c>=60)return null;s.assign("second",c)}return s}extractFollowingTimeComponents(e,t,n){let s=e.createParsingComponents();if(t[Fo]!=null){let c=parseInt(t[Fo].substring(0,3));if(c>=1e3)return null;s.assign("millisecond",c)}if(t[Io]!=null){let c=parseInt(t[Io]);if(c>=60)return null;s.assign("second",c)}let a=parseInt(t[Um]),o=0,l=-1;if(t[Vs]!=null?o=parseInt(t[Vs]):a>100&&(o=a%100,a=Math.floor(a/100)),o>=60||a>24)return null;if(a>=12&&(l=Ht.Meridiem.PM),t[Hi]!=null){if(a>12)return null;let c=t[Hi][0].toLowerCase();c=="a"&&(l=Ht.Meridiem.AM,a==12&&(a=0,s.isCertain("day")||s.imply("day",s.get("day")+1))),c=="p"&&(l=Ht.Meridiem.PM,a!=12&&(a+=12)),n.start.isCertain("meridiem")||(l==Ht.Meridiem.AM?(n.start.imply("meridiem",Ht.Meridiem.AM),n.start.get("hour")==12&&n.start.assign("hour",0)):(n.start.imply("meridiem",Ht.Meridiem.PM),n.start.get("hour")!=12&&n.start.assign("hour",n.start.get("hour")+12)))}return s.assign("hour",a),s.assign("minute",o),l>=0?s.assign("meridiem",l):n.start.isCertain("meridiem")&&n.start.get("hour")>12?n.start.get("hour")-12>a?s.imply("meridiem",Ht.Meridiem.AM):a<=12&&(s.assign("hour",a+12),s.assign("meridiem",Ht.Meridiem.PM)):a>12?s.imply("meridiem",Ht.Meridiem.PM):a<=12&&s.imply("meridiem",Ht.Meridiem.AM),s.date().getTime()<n.start.date().getTime()&&s.imply("day",s.get("day")+1),s}checkAndReturnWithoutFollowingPattern(e){if(e.text.match(/^\d$/)||e.text.match(/^\d\d\d+$/)||e.text.match(/\d[apAP]$/))return null;let t=e.text.match(/[^\d:.](\d[\d.]+)$/);if(t){let n=t[1];if(this.strictMode||n.includes(".")&&!n.match(/\d(\.\d{2})+$/)||parseInt(n)>24)return null}return e}checkAndReturnWithFollowingPattern(e){if(e.text.match(/^\d+-\d+$/))return null;let t=e.text.match(/[^\d:.](\d[\d.]+)\s*-\s*(\d[\d.]+)$/);if(t){if(this.strictMode)return null;let n=t[1],s=t[2];if(s.includes(".")&&!s.match(/\d(\.\d{2})+$/))return null;let a=parseInt(s),o=parseInt(n);if(a>24||o>24)return null}return e}getPrimaryTimePatternThroughCache(){let e=this.primaryPrefix(),t=this.primarySuffix();return this.cachedPrimaryPrefix===e&&this.cachedPrimarySuffix===t?this.cachedPrimaryTimePattern:(this.cachedPrimaryTimePattern=LE(this.primaryPatternLeftBoundary(),e,t,this.patternFlags()),this.cachedPrimaryPrefix=e,this.cachedPrimarySuffix=t,this.cachedPrimaryTimePattern)}getFollowingTimePatternThroughCache(){let e=this.followingPhase(),t=this.followingSuffix();return this.cachedFollowingPhase===e&&this.cachedFollowingSuffix===t?this.cachedFollowingTimePatten:(this.cachedFollowingTimePatten=YE(e,t),this.cachedFollowingPhase=e,this.cachedFollowingSuffix=t,this.cachedFollowingTimePatten)}};Lo.AbstractTimeExpressionParser=oc});var Wm=O(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});var Yo=gt(),UE=ds(),uc=class extends UE.AbstractTimeExpressionParser{constructor(e){super(e)}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|to|\\?)\\s*"}primaryPrefix(){return"(?:(?:at|from)\\s*)??"}primarySuffix(){return"(?:\\s*(?:o\\W*clock|at\\s*night|in\\s*the\\s*(?:morning|afternoon)))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(e,t){let n=super.extractPrimaryTimeComponents(e,t);if(n){if(t[0].endsWith("night")){let s=n.get("hour");s>=6&&s<12?(n.assign("hour",n.get("hour")+12),n.assign("meridiem",Yo.Meridiem.PM)):s<6&&n.assign("meridiem",Yo.Meridiem.AM)}if(t[0].endsWith("afternoon")){n.assign("meridiem",Yo.Meridiem.PM);let s=n.get("hour");s>=0&&s<=6&&n.assign("hour",n.get("hour")+12)}t[0].endsWith("morning")&&(n.assign("meridiem",Yo.Meridiem.AM),n.get("hour")<12&&n.assign("hour",n.get("hour")))}return n}};lc.default=uc});var gr=O(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.addImpliedTimeUnits=Ks.reverseTimeUnits=void 0;function WE(r){let e={};for(let t in r)e[t]=-r[t];return e}Ks.reverseTimeUnits=WE;function qE(r,e){let t=r.clone(),n=r.dayjs();for(let s in e)n=n.add(e[s],s);return("day"in e||"d"in e||"week"in e||"month"in e||"year"in e)&&(t.imply("day",n.date()),t.imply("month",n.month()+1),t.imply("year",n.year())),("second"in e||"minute"in e||"hour"in e)&&(t.imply("second",n.second()),t.imply("minute",n.minute()),t.imply("hour",n.hour())),t}Ks.addImpliedTimeUnits=qE});var qm=O(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});var dc=Nt(),jE=st(),$E=Z(),GE=gr(),HE=new RegExp(`(${dc.TIME_UNITS_PATTERN})\\s{0,5}(?:ago|before|earlier)(?=(?:\\W|$))`,"i"),BE=new RegExp(`(${dc.TIME_UNITS_PATTERN})\\s{0,5}ago(?=(?:\\W|$))`,"i"),cc=class extends $E.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?BE:HE}innerExtract(e,t){let n=dc.parseTimeUnits(t[1]),s=GE.reverseTimeUnits(n);return jE.ParsingComponents.createRelativeFromReference(e.reference,s)}};fc.default=cc});var jm=O(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});var pc=Nt(),zE=st(),VE=Z(),KE=new RegExp(`(${pc.TIME_UNITS_PATTERN})\\s{0,5}(?:later|after|from now|henceforth|forward|out)(?=(?:\\W|$))`,"i"),ZE=new RegExp("("+pc.TIME_UNITS_PATTERN+")(later|from now)(?=(?:\\W|$))","i"),QE=1,hc=class extends VE.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?ZE:KE}innerExtract(e,t){let n=pc.parseTimeUnits(t[QE]);return zE.ParsingComponents.createRelativeFromReference(e.reference,n)}};mc.default=hc});var Qs=O(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.MergingRefiner=Zs.Filter=void 0;var yc=class{refine(e,t){return t.filter(n=>this.isValid(e,n))}};Zs.Filter=yc;var gc=class{refine(e,t){if(t.length<2)return t;let n=[],s=t[0],a=null;for(let o=1;o<t.length;o++){a=t[o];let l=e.text.substring(s.index+s.text.length,a.index);if(!this.shouldMergeResults(l,s,a,e))n.push(s),s=a;else{let c=s,f=a,p=this.mergeResults(l,c,f,e);e.debug(()=>{console.log(`${this.constructor.name} merged ${c} and ${f} into ${p}`)}),s=p}}return s!=null&&n.push(s),n}};Zs.MergingRefiner=gc});var $r=O(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});var XE=Qs(),_c=class extends XE.MergingRefiner{shouldMergeResults(e,t,n){return!t.end&&!n.end&&e.match(this.patternBetween())!=null}mergeResults(e,t,n){if(!t.start.isOnlyWeekdayComponent()&&!n.start.isOnlyWeekdayComponent()&&(n.start.getCertainComponents().forEach(a=>{t.start.isCertain(a)||t.start.assign(a,n.start.get(a))}),t.start.getCertainComponents().forEach(a=>{n.start.isCertain(a)||n.start.assign(a,t.start.get(a))})),t.start.date().getTime()>n.start.date().getTime()){let a=t.start.dayjs(),o=n.start.dayjs();t.start.isOnlyWeekdayComponent()&&a.add(-7,"days").isBefore(o)?(a=a.add(-7,"days"),t.start.imply("day",a.date()),t.start.imply("month",a.month()+1),t.start.imply("year",a.year())):n.start.isOnlyWeekdayComponent()&&o.add(7,"days").isAfter(a)?(o=o.add(7,"days"),n.start.imply("day",o.date()),n.start.imply("month",o.month()+1),n.start.imply("year",o.year())):[n,t]=[t,n]}let s=t.clone();return s.start=t.start,s.end=n.start,s.index=Math.min(t.index,n.index),t.index<n.index?s.text=t.text+e+n.text:s.text=n.text+e+t.text,s}};Tc.default=_c});var $m=O(Bi=>{"use strict";var JE=Bi&&Bi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bi,"__esModule",{value:!0});var eD=JE($r()),bc=class extends eD.default{patternBetween(){return/^\s*(to|-)\s*$/i}};Bi.default=bc});var Gm=O(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.mergeDateTimeComponent=Xs.mergeDateTimeResult=void 0;var tD=gt();function rD(r,e){let t=r.clone(),n=r.start,s=e.start;if(t.start=vc(n,s),r.end!=null||e.end!=null){let a=r.end==null?r.start:r.end,o=e.end==null?e.start:e.end,l=vc(a,o);r.end==null&&l.date().getTime()<t.start.date().getTime()&&(l.isCertain("day")?l.assign("day",l.get("day")+1):l.imply("day",l.get("day")+1)),t.end=l}return t}Xs.mergeDateTimeResult=rD;function vc(r,e){let t=r.clone();return e.isCertain("hour")?(t.assign("hour",e.get("hour")),t.assign("minute",e.get("minute")),e.isCertain("second")?(t.assign("second",e.get("second")),e.isCertain("millisecond")?t.assign("millisecond",e.get("millisecond")):t.imply("millisecond",e.get("millisecond"))):(t.imply("second",e.get("second")),t.imply("millisecond",e.get("millisecond")))):(t.imply("hour",e.get("hour")),t.imply("minute",e.get("minute")),t.imply("second",e.get("second")),t.imply("millisecond",e.get("millisecond"))),e.isCertain("timezoneOffset")&&t.assign("timezoneOffset",e.get("timezoneOffset")),e.isCertain("meridiem")?t.assign("meridiem",e.get("meridiem")):e.get("meridiem")!=null&&t.get("meridiem")==null&&t.imply("meridiem",e.get("meridiem")),t.get("meridiem")==tD.Meridiem.PM&&t.get("hour")<12&&(e.isCertain("hour")?t.assign("hour",t.get("hour")+12):t.imply("hour",t.get("hour")+12)),t}Xs.mergeDateTimeComponent=vc});var un=O(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});var nD=Qs(),Hm=Gm(),wc=class extends nD.MergingRefiner{shouldMergeResults(e,t,n){return(t.start.isOnlyDate()&&n.start.isOnlyTime()||n.start.isOnlyDate()&&t.start.isOnlyTime())&&e.match(this.patternBetween())!=null}mergeResults(e,t,n){let s=t.start.isOnlyDate()?Hm.mergeDateTimeResult(t,n):Hm.mergeDateTimeResult(n,t);return s.index=t.index,s.text=t.text+e+n.text,s}};kc.default=wc});var Bm=O(zi=>{"use strict";var sD=zi&&zi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zi,"__esModule",{value:!0});var iD=sD(un()),Ec=class extends iD.default{patternBetween(){return new RegExp("^\\s*(T|at|after|before|on|of|,|-)?\\s*$")}};zi.default=Ec});var zm=O(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});var aD=new RegExp("^\\s*,?\\s*\\(?([A-Z]{2,4})\\)?(?=\\W|$)","i"),oD={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:60,CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:-300,FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:240,MST:-420,MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:-480,PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360},Dc=class{constructor(e){this.timezone=Object.assign(Object.assign({},oD),e)}refine(e,t){var n;let s=(n=e.option.timezones)!==null&&n!==void 0?n:{};return t.forEach(a=>{var o,l;let c=e.text.substring(a.index+a.text.length),f=aD.exec(c);if(!f)return;let p=f[1].toUpperCase(),g=(l=(o=s[p])!==null&&o!==void 0?o:this.timezone[p])!==null&&l!==void 0?l:null;if(g===null)return;e.debug(()=>{console.log(`Extracting timezone: '${p}' into: ${g} for: ${a.start}`)});let T=a.start.get("timezoneOffset");T!==null&&g!=T&&(a.start.isCertain("timezoneOffset")||p!=f[1])||a.start.isOnlyDate()&&p!=f[1]||(a.text+=f[0],a.start.isCertain("timezoneOffset")||a.start.assign("timezoneOffset",g),a.end!=null&&!a.end.isCertain("timezoneOffset")&&a.end.assign("timezoneOffset",g))}),t}};Sc.default=Dc});var Uo=O(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});var uD=new RegExp("^\\s*(?:\\(?(?:GMT|UTC)\\s?)?([+-])(\\d{1,2})(?::?(\\d{2}))?\\)?","i"),lD=1,cD=2,dD=3,Oc=class{refine(e,t){return t.forEach(function(n){if(n.start.isCertain("timezoneOffset"))return;let s=e.text.substring(n.index+n.text.length),a=uD.exec(s);if(!a)return;e.debug(()=>{console.log(`Extracting timezone: '${a[0]}' into : ${n}`)});let o=parseInt(a[cD]),l=parseInt(a[dD]||"0"),c=o*60+l;c>14*60||(a[lD]==="-"&&(c=-c),n.end!=null&&n.end.assign("timezoneOffset",c),n.start.assign("timezoneOffset",c),n.text+=a[0])}),t}};Mc.default=Oc});var Vm=O(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});var Rc=class{refine(e,t){if(t.length<2)return t;let n=[],s=t[0];for(let a=1;a<t.length;a++){let o=t[a];o.index<s.index+s.text.length?o.text.length>s.text.length&&(s=o):(n.push(s),s=o)}return s!=null&&n.push(s),n}};xc.default=Rc});var Km=O(Vi=>{"use strict";var fD=Vi&&Vi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vi,"__esModule",{value:!0});var hD=fD(Re()),Pc=class{refine(e,t){return e.option.forwardDate&&t.forEach(function(n){let s=hD.default(e.refDate);if(n.start.isOnlyDayMonthComponent()&&s.isAfter(n.start.dayjs()))for(let a=0;a<3&&s.isAfter(n.start.dayjs());a++)n.start.imply("year",n.start.get("year")+1),e.debug(()=>{console.log(`Forward yearly adjusted for ${n} (${n.start})`)}),n.end&&!n.end.isCertain("year")&&(n.end.imply("year",n.end.get("year")+1),e.debug(()=>{console.log(`Forward yearly adjusted for ${n} (${n.end})`)}));n.start.isOnlyWeekdayComponent()&&s.isAfter(n.start.dayjs())&&(s.day()>=n.start.get("weekday")?s=s.day(n.start.get("weekday")+7):s=s.day(n.start.get("weekday")),n.start.imply("day",s.date()),n.start.imply("month",s.month()+1),n.start.imply("year",s.year()),e.debug(()=>{console.log(`Forward weekly adjusted for ${n} (${n.start})`)}),n.end&&n.end.isOnlyWeekdayComponent()&&(s.day()>n.end.get("weekday")?s=s.day(n.end.get("weekday")+7):s=s.day(n.end.get("weekday")),n.end.imply("day",s.date()),n.end.imply("month",s.month()+1),n.end.imply("year",s.year()),e.debug(()=>{console.log(`Forward weekly adjusted for ${n} (${n.end})`)})))}),t}};Vi.default=Pc});var Zm=O(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});var pD=Qs(),Ac=class extends pD.Filter{constructor(e){super(),this.strictMode=e}isValid(e,t){return t.text.replace(" ","").match(/^\d*(\.\d*)?$/)?(e.debug(()=>{console.log(`Removing unlikely result '${t.text}'`)}),!1):t.start.isValidDate()?t.end&&!t.end.isValidDate()?(e.debug(()=>{console.log(`Removing invalid result: ${t} (${t.end})`)}),!1):this.strictMode?this.isStrictModeValid(e,t):!0:(e.debug(()=>{console.log(`Removing invalid result: ${t} (${t.start})`)}),!1)}isStrictModeValid(e,t){return t.start.isOnlyWeekdayComponent()?(e.debug(()=>{console.log(`(Strict) Removing weekday only component: ${t} (${t.end})`)}),!1):t.start.isOnlyTime()&&(!t.start.isCertain("hour")||!t.start.isCertain("minute"))?(e.debug(()=>{console.log(`(Strict) Removing uncertain time component: ${t} (${t.end})`)}),!1):!0}};Nc.default=Ac});var Fc=O(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});var mD=Z(),yD=new RegExp("([0-9]{4})\\-([0-9]{1,2})\\-([0-9]{1,2})(?:T([0-9]{1,2}):([0-9]{1,2})(?::([0-9]{1,2})(?:\\.(\\d{1,4}))?)?(?:Z|([+-]\\d{2}):?(\\d{2})?)?)?(?=\\W|$)","i"),gD=1,_D=2,TD=3,Qm=4,bD=5,Xm=6,Jm=7,ey=8,ty=9,Cc=class extends mD.AbstractParserWithWordBoundaryChecking{innerPattern(){return yD}innerExtract(e,t){let n={};if(n.year=parseInt(t[gD]),n.month=parseInt(t[_D]),n.day=parseInt(t[TD]),t[Qm]!=null)if(n.hour=parseInt(t[Qm]),n.minute=parseInt(t[bD]),t[Xm]!=null&&(n.second=parseInt(t[Xm])),t[Jm]!=null&&(n.millisecond=parseInt(t[Jm])),t[ey]==null)n.timezoneOffset=0;else{let s=parseInt(t[ey]),a=0;t[ty]!=null&&(a=parseInt(t[ty]));let o=s*60;o<0?o-=a:o+=a,n.timezoneOffset=o}return n}};Ic.default=Cc});var ry=O(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});var vD=Qs(),Lc=class extends vD.MergingRefiner{mergeResults(e,t,n){let s=n.clone();return s.index=t.index,s.text=t.text+e+s.text,s.start.assign("weekday",t.start.get("weekday")),s.end&&s.end.assign("weekday",t.start.get("weekday")),s}shouldMergeResults(e,t,n){return t.start.isOnlyWeekdayComponent()&&!t.start.isCertain("hour")&&n.start.isCertain("day")&&e.match(/^,?\s*$/)!=null}};Yc.default=Lc});var ln=O(Js=>{"use strict";var fs=Js&&Js.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Js,"__esModule",{value:!0});Js.includeCommonConfiguration=void 0;var wD=fs(zm()),kD=fs(Uo()),ny=fs(Vm()),ED=fs(Km()),DD=fs(Zm()),SD=fs(Fc()),OD=fs(ry());function MD(r,e=!1){return r.parsers.unshift(new SD.default),r.refiners.unshift(new OD.default),r.refiners.unshift(new wD.default),r.refiners.unshift(new kD.default),r.refiners.unshift(new ny.default),r.refiners.push(new ny.default),r.refiners.push(new ED.default),r.refiners.push(new DD.default(e)),r}Js.includeCommonConfiguration=MD});var dn=O(Ne=>{"use strict";var RD=Ne&&Ne.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.noon=Ne.morning=Ne.midnight=Ne.yesterdayEvening=Ne.evening=Ne.lastNight=Ne.tonight=Ne.theDayAfter=Ne.tomorrow=Ne.theDayBefore=Ne.yesterday=Ne.today=Ne.now=void 0;var Gr=st(),ei=RD(Re()),cn=yr(),Ki=gt();function xD(r){let e=ei.default(r.instant),t=new Gr.ParsingComponents(r,{});return cn.assignSimilarDate(t,e),cn.assignSimilarTime(t,e),r.timezoneOffset!==null&&t.assign("timezoneOffset",e.utcOffset()),t}Ne.now=xD;function PD(r){let e=ei.default(r.instant),t=new Gr.ParsingComponents(r,{});return cn.assignSimilarDate(t,e),cn.implySimilarTime(t,e),t}Ne.today=PD;function AD(r){return sy(r,1)}Ne.yesterday=AD;function sy(r,e){return Uc(r,-e)}Ne.theDayBefore=sy;function ND(r){return Uc(r,1)}Ne.tomorrow=ND;function Uc(r,e){let t=ei.default(r.instant),n=new Gr.ParsingComponents(r,{});return t=t.add(e,"day"),cn.assignSimilarDate(n,t),cn.implySimilarTime(n,t),n}Ne.theDayAfter=Uc;function CD(r,e=22){let t=ei.default(r.instant),n=new Gr.ParsingComponents(r,{});return n.imply("hour",e),n.imply("meridiem",Ki.Meridiem.PM),cn.assignSimilarDate(n,t),n}Ne.tonight=CD;function ID(r,e=0){let t=ei.default(r.instant),n=new Gr.ParsingComponents(r,{});return t.hour()<6&&(t=t.add(-1,"day")),cn.assignSimilarDate(n,t),n.imply("hour",e),n}Ne.lastNight=ID;function FD(r,e=20){let t=new Gr.ParsingComponents(r,{});return t.imply("meridiem",Ki.Meridiem.PM),t.imply("hour",e),t}Ne.evening=FD;function LD(r,e=20){let t=ei.default(r.instant),n=new Gr.ParsingComponents(r,{});return t=t.add(-1,"day"),cn.assignSimilarDate(n,t),n.imply("hour",e),n.imply("meridiem",Ki.Meridiem.PM),n}Ne.yesterdayEvening=LD;function YD(r){let e=new Gr.ParsingComponents(r,{});return e.imply("hour",0),e.imply("minute",0),e.imply("second",0),e}Ne.midnight=YD;function UD(r,e=6){let t=new Gr.ParsingComponents(r,{});return t.imply("meridiem",Ki.Meridiem.AM),t.imply("hour",e),t}Ne.morning=UD;function WD(r){let e=new Gr.ParsingComponents(r,{});return e.imply("meridiem",Ki.Meridiem.AM),e.imply("hour",12),e}Ne.noon=WD});var iy=O(Rr=>{"use strict";var qD=Rr&&Rr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),jD=Rr&&Rr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),$D=Rr&&Rr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&qD(e,r,t);return jD(e,r),e},GD=Rr&&Rr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rr,"__esModule",{value:!0});var HD=GD(Re()),BD=Z(),zD=yr(),Zi=$D(dn()),VD=/(now|today|tonight|tomorrow|tmr|tmrw|yesterday|last\s*night)(?=\W|$)/i,Wc=class extends BD.AbstractParserWithWordBoundaryChecking{innerPattern(e){return VD}innerExtract(e,t){let n=HD.default(e.refDate),s=t[0].toLowerCase(),a=e.createParsingComponents();switch(s){case"now":return Zi.now(e.reference);case"today":return Zi.today(e.reference);case"yesterday":return Zi.yesterday(e.reference);case"tomorrow":case"tmr":case"tmrw":return Zi.tomorrow(e.reference);case"tonight":return Zi.tonight(e.reference);default:s.match(/last\s*night/)&&(n.hour()>6&&(n=n.add(-1,"day")),zD.assignSimilarDate(a,n),a.imply("hour",0));break}return a}};Rr.default=Wc});var ay=O(Qi=>{"use strict";var KD=Qi&&Qi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qi,"__esModule",{value:!0});var Wo=gt(),ZD=Z(),QD=KD(Re()),XD=yr(),JD=/(?:this)?\s{0,3}(morning|afternoon|evening|night|midnight|noon)(?=\W|$)/i,qc=class extends ZD.AbstractParserWithWordBoundaryChecking{innerPattern(){return JD}innerExtract(e,t){let n=QD.default(e.refDate),s=e.createParsingComponents();switch(t[1].toLowerCase()){case"afternoon":s.imply("meridiem",Wo.Meridiem.PM),s.imply("hour",15);break;case"evening":case"night":s.imply("meridiem",Wo.Meridiem.PM),s.imply("hour",20);break;case"midnight":XD.assignTheNextDay(s,n),s.imply("hour",0),s.imply("minute",0),s.imply("second",0);break;case"morning":s.imply("meridiem",Wo.Meridiem.AM),s.imply("hour",6);break;case"noon":s.imply("meridiem",Wo.Meridiem.AM),s.imply("hour",12);break}return s}};Qi.default=qc});var hs=O(Yn=>{"use strict";var eS=Yn&&Yn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.toDayJSClosestWeekday=Yn.toDayJSWeekday=void 0;var oy=eS(Re());function tS(r,e,t){if(!t)return uy(r,e);let n=oy.default(r);switch(t){case"this":n=n.day(e);break;case"next":n=n.day(e+7);break;case"last":n=n.day(e-7);break}return n}Yn.toDayJSWeekday=tS;function uy(r,e){let t=oy.default(r),n=t.day();return Math.abs(e-7-n)<Math.abs(e-n)?t=t.day(e-7):Math.abs(e+7-n)<Math.abs(e-n)?t=t.day(e+7):t=t.day(e),t}Yn.toDayJSClosestWeekday=uy});var cy=O($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});var ly=Nt(),rS=Fe(),nS=Z(),sS=hs(),iS=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:on\\s*?)?(?:(this|last|past|next)\\s*)?(${rS.matchAnyPattern(ly.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(this|last|past|next)\\s*week)?(?=\\W|$)`,"i"),aS=1,oS=2,uS=3,jc=class extends nS.AbstractParserWithWordBoundaryChecking{innerPattern(){return iS}innerExtract(e,t){let n=t[oS].toLowerCase(),s=ly.WEEKDAY_DICTIONARY[n],a=t[aS],o=t[uS],l=a||o;l=l||"",l=l.toLowerCase();let c=null;l=="last"||l=="past"?c="last":l=="next"?c="next":l=="this"&&(c="this");let f=sS.toDayJSWeekday(e.refDate,s,c);return e.createParsingComponents().assign("weekday",s).imply("day",f.date()).imply("month",f.month()+1).imply("year",f.year())}};$c.default=jc});var hy=O(Xi=>{"use strict";var lS=Xi&&Xi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xi,"__esModule",{value:!0});var fy=Nt(),dy=st(),cS=lS(Re()),dS=Z(),fS=Fe(),hS=new RegExp(`(this|last|past|next|after\\s*this)\\s*(${fS.matchAnyPattern(fy.TIME_UNIT_DICTIONARY)})(?=\\s*)(?=\\W|$)`,"i"),pS=1,mS=2,Gc=class extends dS.AbstractParserWithWordBoundaryChecking{innerPattern(){return hS}innerExtract(e,t){let n=t[pS].toLowerCase(),s=t[mS].toLowerCase(),a=fy.TIME_UNIT_DICTIONARY[s];if(n=="next"||n.startsWith("after")){let c={};return c[a]=1,dy.ParsingComponents.createRelativeFromReference(e.reference,c)}if(n=="last"||n=="past"){let c={};return c[a]=-1,dy.ParsingComponents.createRelativeFromReference(e.reference,c)}let o=e.createParsingComponents(),l=cS.default(e.reference.instant);return s.match(/week/i)?(l=l.add(-l.get("d"),"d"),o.imply("day",l.date()),o.imply("month",l.month()+1),o.imply("year",l.year())):s.match(/month/i)?(l=l.add(-l.date()+1,"d"),o.imply("day",l.date()),o.assign("year",l.year()),o.assign("month",l.month()+1)):s.match(/year/i)&&(l=l.add(-l.date()+1,"d"),l=l.add(-l.month(),"month"),o.imply("day",l.date()),o.imply("month",l.month()+1),o.assign("year",l.year())),o}};Xi.default=Gc});var xr=O(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.ParsingContext=ni.Chrono=void 0;var ti=st(),yS=Hc(),ri=class{constructor(e){e=e||yS.createCasualConfiguration(),this.parsers=[...e.parsers],this.refiners=[...e.refiners]}clone(){return new ri({parsers:[...this.parsers],refiners:[...this.refiners]})}parseDate(e,t,n){let s=this.parse(e,t,n);return s.length>0?s[0].start.date():null}parse(e,t,n){let s=new qo(e,t,n),a=[];return this.parsers.forEach(o=>{let l=ri.executeParser(s,o);a=a.concat(l)}),a.sort((o,l)=>o.index-l.index),this.refiners.forEach(function(o){a=o.refine(s,a)}),a}static executeParser(e,t){let n=[],s=t.pattern(e),a=e.text,o=e.text,l=s.exec(o);for(;l;){let c=l.index+a.length-o.length;l.index=c;let f=t.extract(e,l);if(!f){o=a.substring(l.index+1),l=s.exec(o);continue}let p=null;f instanceof ti.ParsingResult?p=f:f instanceof ti.ParsingComponents?(p=e.createParsingResult(l.index,l[0]),p.start=f):p=e.createParsingResult(l.index,l[0],f),e.debug(()=>console.log(`${t.constructor.name} extracted result ${p}`)),n.push(p),o=a.substring(c+p.text.length),l=s.exec(o)}return n}};ni.Chrono=ri;var qo=class{constructor(e,t,n){this.text=e,this.reference=new ti.ReferenceWithTimezone(t),this.option=n!=null?n:{},this.refDate=this.reference.instant}createParsingComponents(e){return e instanceof ti.ParsingComponents?e:new ti.ParsingComponents(this.reference,e)}createParsingResult(e,t,n,s){let a=typeof t=="string"?t:this.text.substring(e,t),o=n?this.createParsingComponents(n):null,l=s?this.createParsingComponents(s):null;return new ti.ParsingResult(this.reference,e,a,o,l)}debug(e){this.option.debug&&(this.option.debug instanceof Function?this.option.debug(e):this.option.debug.debug(e))}};ni.ParsingContext=qo});var ps=O(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});var py=At(),gS=new RegExp("([^\\d]|^)([0-3]{0,1}[0-9]{1})[\\/\\.\\-]([0-3]{0,1}[0-9]{1})(?:[\\/\\.\\-]([0-9]{4}|[0-9]{2}))?(\\W|$)","i"),jo=1,my=5,yy=2,gy=3,Bc=4,zc=class{constructor(e){this.groupNumberMonth=e?gy:yy,this.groupNumberDay=e?yy:gy}pattern(){return gS}extract(e,t){if(t[jo]=="/"||t[my]=="/"){t.index+=t[0].length;return}let n=t.index+t[jo].length,s=t[0].substr(t[jo].length,t[0].length-t[jo].length-t[my].length);if(s.match(/^\d\.\d$/)||s.match(/^\d\.\d{1,2}\.\d{1,2}\s*$/)||!t[Bc]&&t[0].indexOf("/")<0)return;let a=e.createParsingResult(n,s),o=parseInt(t[this.groupNumberMonth]),l=parseInt(t[this.groupNumberDay]);if((o<1||o>12)&&o>12)if(l>=1&&l<=12&&o<=31)[l,o]=[o,l];else return null;if(l<1||l>31)return null;if(a.start.assign("day",l),a.start.assign("month",o),t[Bc]){let c=parseInt(t[Bc]),f=py.findMostLikelyADYear(c);a.start.assign("year",f)}else{let c=py.findYearClosestToRef(e.refDate,l,o);a.start.imply("year",c)}return a}};Vc.default=zc});var Ty=O(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});var _y=Nt(),_S=st(),TS=Z(),bS=gr(),vS=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${_y.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),Kc=class extends TS.AbstractParserWithWordBoundaryChecking{innerPattern(){return vS}innerExtract(e,t){let n=t[1].toLowerCase(),s=_y.parseTimeUnits(t[2]);switch(n){case"last":case"past":case"-":s=bS.reverseTimeUnits(s);break}return _S.ParsingComponents.createRelativeFromReference(e.reference,s)}};Zc.default=Kc});var vy=O(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});var wS=Qs(),Qc=st(),kS=Nt(),ES=gr();function by(r){return r.text.match(/\s+(before|from)$/i)!=null}function DS(r){return r.text.match(/\s+(after|since)$/i)!=null}var Xc=class extends wS.MergingRefiner{patternBetween(){return/^\s*$/i}shouldMergeResults(e,t,n){return!e.match(this.patternBetween())||!by(t)&&!DS(t)?!1:!!n.start.get("day")&&!!n.start.get("month")&&!!n.start.get("year")}mergeResults(e,t,n){let s=kS.parseTimeUnits(t.text);by(t)&&(s=ES.reverseTimeUnits(s));let a=Qc.ParsingComponents.createRelativeFromReference(new Qc.ReferenceWithTimezone(n.start.date()),s);return new Qc.ParsingResult(n.reference,t.index,`${t.text}${e}${n.text}`,a)}};Jc.default=Xc});var Hc=O(ut=>{"use strict";var wt=ut&&ut.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ut,"__esModule",{value:!0});ut.createConfiguration=ut.createCasualConfiguration=ut.parseDate=ut.parse=ut.GB=ut.strict=ut.casual=void 0;var SS=wt(bm()),OS=wt(Sm()),MS=wt(Pm()),RS=wt(Cm()),xS=wt(Lm()),PS=wt(Ym()),AS=wt(Wm()),NS=wt(qm()),CS=wt(jm()),IS=wt($m()),FS=wt(Bm()),LS=ln(),YS=wt(iy()),US=wt(ay()),WS=wt(cy()),qS=wt(hy()),ed=xr(),jS=wt(ps()),$S=wt(Ty()),GS=wt(vy());ut.casual=new ed.Chrono(wy(!1));ut.strict=new ed.Chrono($o(!0,!1));ut.GB=new ed.Chrono($o(!1,!0));function HS(r,e,t){return ut.casual.parse(r,e,t)}ut.parse=HS;function BS(r,e,t){return ut.casual.parseDate(r,e,t)}ut.parseDate=BS;function wy(r=!1){let e=$o(!1,r);return e.parsers.unshift(new YS.default),e.parsers.unshift(new US.default),e.parsers.unshift(new RS.default),e.parsers.unshift(new qS.default),e.parsers.unshift(new $S.default),e}ut.createCasualConfiguration=wy;function $o(r=!0,e=!1){return LS.includeCommonConfiguration({parsers:[new jS.default(e),new SS.default,new OS.default,new MS.default,new WS.default,new xS.default,new PS.default,new AS.default(r),new NS.default(r),new CS.default(r)],refiners:[new GS.default,new FS.default,new IS.default]},r)}ut.createConfiguration=$o});var ky=O(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});var zS=ds(),td=class extends zS.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:um|von)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|bis)\\s*"}extractPrimaryTimeComponents(e,t){return t[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(e,t)}};rd.default=td});var Ji=O(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.parseTimeUnits=We.TIME_UNITS_PATTERN=We.parseYear=We.YEAR_PATTERN=We.parseNumberPattern=We.NUMBER_PATTERN=We.TIME_UNIT_DICTIONARY=We.INTEGER_WORD_DICTIONARY=We.MONTH_DICTIONARY=We.WEEKDAY_DICTIONARY=void 0;var nd=Fe(),VS=At();We.WEEKDAY_DICTIONARY={sonntag:0,so:0,montag:1,mo:1,dienstag:2,di:2,mittwoch:3,mi:3,donnerstag:4,do:4,freitag:5,fr:5,samstag:6,sa:6};We.MONTH_DICTIONARY={januar:1,j\u00E4nner:1,janner:1,jan:1,"jan.":1,februar:2,feber:2,feb:2,"feb.":2,m\u00E4rz:3,maerz:3,m\u00E4r:3,"m\xE4r.":3,mrz:3,"mrz.":3,april:4,apr:4,"apr.":4,mai:5,juni:6,jun:6,"jun.":6,juli:7,jul:7,"jul.":7,august:8,aug:8,"aug.":8,september:9,sep:9,"sep.":9,sept:9,"sept.":9,oktober:10,okt:10,"okt.":10,november:11,nov:11,"nov.":11,dezember:12,dez:12,"dez.":12};We.INTEGER_WORD_DICTIONARY={eins:1,eine:1,einem:1,einen:1,einer:1,zwei:2,drei:3,vier:4,f\u00FCnf:5,fuenf:5,sechs:6,sieben:7,acht:8,neun:9,zehn:10,elf:11,zw\u00F6lf:12,zwoelf:12};We.TIME_UNIT_DICTIONARY={sek:"second",sekunde:"second",sekunden:"second",min:"minute",minute:"minute",minuten:"minute",h:"hour",std:"hour",stunde:"hour",stunden:"hour",tag:"d",tage:"d",tagen:"d",woche:"week",wochen:"week",monat:"month",monate:"month",monaten:"month",monats:"month",quartal:"quarter",quartals:"quarter",quartale:"quarter",quartalen:"quarter",a:"year",j:"year",jr:"year",jahr:"year",jahre:"year",jahren:"year",jahres:"year"};We.NUMBER_PATTERN=`(?:${nd.matchAnyPattern(We.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s*an?)?|an?\\b(?:\\s*few)?|few|several|a?\\s*couple\\s*(?:of)?)`;function Dy(r){let e=r.toLowerCase();return We.INTEGER_WORD_DICTIONARY[e]!==void 0?We.INTEGER_WORD_DICTIONARY[e]:e==="a"||e==="an"?1:e.match(/few/)?3:e.match(/half/)?.5:e.match(/couple/)?2:e.match(/several/)?7:parseFloat(e)}We.parseNumberPattern=Dy;We.YEAR_PATTERN="(?:[0-9]{1,4}(?:\\s*[vn]\\.?\\s*(?:C(?:hr)?|(?:u\\.?|d\\.?(?:\\s*g\\.?)?)?\\s*Z)\\.?|\\s*(?:u\\.?|d\\.?(?:\\s*g\\.)?)\\s*Z\\.?)?)";function KS(r){if(/v/i.test(r))return-parseInt(r.replace(/[^0-9]+/gi,""));if(/n/i.test(r))return parseInt(r.replace(/[^0-9]+/gi,""));if(/z/i.test(r))return parseInt(r.replace(/[^0-9]+/gi,""));let e=parseInt(r);return VS.findMostLikelyADYear(e)}We.parseYear=KS;var Sy=`(${We.NUMBER_PATTERN})\\s{0,5}(${nd.matchAnyPattern(We.TIME_UNIT_DICTIONARY)})\\s{0,5}`,Ey=new RegExp(Sy,"i");We.TIME_UNITS_PATTERN=nd.repeatedTimeunitPattern("",Sy);function ZS(r){let e={},t=r,n=Ey.exec(t);for(;n;)QS(e,n),t=t.substring(n[0].length),n=Ey.exec(t);return e}We.parseTimeUnits=ZS;function QS(r,e){let t=Dy(e[1]),n=We.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var My=O(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});var Oy=Ji(),XS=Fe(),JS=Z(),eO=hs(),tO=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:a[mn]\\s*?)?(?:(diese[mn]|letzte[mn]|n(?:\xE4|ae)chste[mn])\\s*)?(${XS.matchAnyPattern(Oy.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(diese|letzte|n(?:\xE4|ae)chste)\\s*woche)?(?=\\W|$)`,"i"),rO=1,nO=3,sO=2,sd=class extends JS.AbstractParserWithWordBoundaryChecking{innerPattern(){return tO}innerExtract(e,t){let n=t[sO].toLowerCase(),s=Oy.WEEKDAY_DICTIONARY[n],a=t[rO],o=t[nO],l=a||o;l=l||"",l=l.toLowerCase();let c=null;l.match(/letzte/)?c="last":l.match(/chste/)?c="next":l.match(/diese/)&&(c="this");let f=eO.toDayJSWeekday(e.refDate,s,c);return e.createParsingComponents().assign("weekday",s).imply("day",f.date()).imply("month",f.month()+1).imply("year",f.year())}};id.default=sd});var Ay=O(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});var Un=gt(),iO=new RegExp("(^|\\s|T)(?:(?:um|von)\\s*)?(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s)?)?(?:\\s*Uhr)?(?:\\s*(morgens|vormittags|nachmittags|abends|nachts|am\\s+(?:Morgen|Vormittag|Nachmittag|Abend)|in\\s+der\\s+Nacht))?(?=\\W|$)","i"),aO=new RegExp("^\\s*(\\-|\\\u2013|\\~|\\\u301C|bis(?:\\s+um)?|\\?)\\s*(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s)?)?(?:\\s*Uhr)?(?:\\s*(morgens|vormittags|nachmittags|abends|nachts|am\\s+(?:Morgen|Vormittag|Nachmittag|Abend)|in\\s+der\\s+Nacht))?(?=\\W|$)","i"),oO=2,Ry=3,xy=4,Py=5,si=class{pattern(e){return iO}extract(e,t){let n=e.createParsingResult(t.index+t[1].length,t[0].substring(t[1].length));if(n.text.match(/^\d{4}$/)||(n.start=si.extractTimeComponent(n.start.clone(),t),!n.start))return t.index+=t[0].length,null;let s=e.text.substring(t.index+t[0].length),a=aO.exec(s);return a&&(n.end=si.extractTimeComponent(n.start.clone(),a),n.end&&(n.text+=a[0])),n}static extractTimeComponent(e,t){let n=0,s=0,a=null;if(n=parseInt(t[oO]),t[Ry]!=null&&(s=parseInt(t[Ry])),s>=60||n>24)return null;if(n>=12&&(a=Un.Meridiem.PM),t[Py]!=null){if(n>12)return null;let o=t[Py].toLowerCase();o.match(/morgen|vormittag/)&&(a=Un.Meridiem.AM,n==12&&(n=0)),o.match(/nachmittag|abend/)&&(a=Un.Meridiem.PM,n!=12&&(n+=12)),o.match(/nacht/)&&(n==12?(a=Un.Meridiem.AM,n=0):n<6?a=Un.Meridiem.AM:(a=Un.Meridiem.PM,n+=12))}if(e.assign("hour",n),e.assign("minute",s),a!==null?e.assign("meridiem",a):n<12?e.imply("meridiem",Un.Meridiem.AM):e.imply("meridiem",Un.Meridiem.PM),t[xy]!=null){let o=parseInt(t[xy]);if(o>=60)return null;e.assign("second",o)}return e}};ad.default=si});var Ny=O(ea=>{"use strict";var uO=ea&&ea.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ea,"__esModule",{value:!0});var lO=uO($r()),od=class extends lO.default{patternBetween(){return/^\s*(bis(?:\s*(?:am|zum))?|-)\s*$/i}};ea.default=od});var Cy=O(ta=>{"use strict";var cO=ta&&ta.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ta,"__esModule",{value:!0});var dO=cO(un()),ud=class extends dO.default{patternBetween(){return new RegExp("^\\s*(T|um|am|,|-)?\\s*$")}};ta.default=ud});var ld=O(na=>{"use strict";var fO=na&&na.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(na,"__esModule",{value:!0});var hO=fO(Re()),ms=gt(),pO=Z(),mO=yr(),yO=gr(),ra=class extends pO.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(diesen)?\s*(morgen|vormittag|mittags?|nachmittag|abend|nacht|mitternacht)(?=\W|$)/i}innerExtract(e,t){let n=hO.default(e.refDate),s=t[2].toLowerCase(),a=e.createParsingComponents();return mO.implySimilarTime(a,n),ra.extractTimeComponents(a,s)}static extractTimeComponents(e,t){switch(t){case"morgen":e.imply("hour",6),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",ms.Meridiem.AM);break;case"vormittag":e.imply("hour",9),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",ms.Meridiem.AM);break;case"mittag":case"mittags":e.imply("hour",12),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",ms.Meridiem.AM);break;case"nachmittag":e.imply("hour",15),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",ms.Meridiem.PM);break;case"abend":e.imply("hour",18),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",ms.Meridiem.PM);break;case"nacht":e.imply("hour",22),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",ms.Meridiem.PM);break;case"mitternacht":e.get("hour")>1&&(e=yO.addImpliedTimeUnits(e,{day:1})),e.imply("hour",0),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",ms.Meridiem.AM);break}return e}};na.default=ra});var Ly=O(Pr=>{"use strict";var gO=Pr&&Pr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),_O=Pr&&Pr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),TO=Pr&&Pr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&gO(e,r,t);return _O(e,r),e},Fy=Pr&&Pr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pr,"__esModule",{value:!0});var bO=Fy(Re()),vO=Z(),ys=yr(),wO=Fy(ld()),Iy=TO(dn()),kO=new RegExp("(jetzt|heute|morgen|\xFCbermorgen|uebermorgen|gestern|vorgestern|letzte\\s*nacht)(?:\\s*(morgen|vormittag|mittags?|nachmittag|abend|nacht|mitternacht))?(?=\\W|$)","i"),EO=1,DO=2,cd=class extends vO.AbstractParserWithWordBoundaryChecking{innerPattern(e){return kO}innerExtract(e,t){let n=bO.default(e.refDate),s=(t[EO]||"").toLowerCase(),a=(t[DO]||"").toLowerCase(),o=e.createParsingComponents();switch(s){case"jetzt":o=Iy.now(e.reference);break;case"heute":o=Iy.today(e.reference);break;case"morgen":ys.assignTheNextDay(o,n);break;case"\xFCbermorgen":case"uebermorgen":n=n.add(1,"day"),ys.assignTheNextDay(o,n);break;case"gestern":n=n.add(-1,"day"),ys.assignSimilarDate(o,n),ys.implySimilarTime(o,n);break;case"vorgestern":n=n.add(-2,"day"),ys.assignSimilarDate(o,n),ys.implySimilarTime(o,n);break;default:s.match(/letzte\s*nacht/)&&(n.hour()>6&&(n=n.add(-1,"day")),ys.assignSimilarDate(o,n),o.imply("hour",0));break}return a&&(o=wO.default.extractTimeComponents(o,a)),o}};Pr.default=cd});var $y=O(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});var SO=At(),qy=Ji(),jy=Ji(),OO=Fe(),MO=Z(),RO=new RegExp(`(?:am\\s*?)?(?:den\\s*?)?([0-9]{1,2})\\.(?:\\s*(?:bis(?:\\s*(?:am|zum))?|\\-|\\\u2013|\\s)\\s*([0-9]{1,2})\\.?)?\\s*(${OO.matchAnyPattern(qy.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s*)(${jy.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),Yy=1,Uy=2,xO=3,Wy=4,dd=class extends MO.AbstractParserWithWordBoundaryChecking{innerPattern(){return RO}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=qy.MONTH_DICTIONARY[t[xO].toLowerCase()],a=parseInt(t[Yy]);if(a>31)return t.index=t.index+t[Yy].length,null;if(n.start.assign("month",s),n.start.assign("day",a),t[Wy]){let o=jy.parseYear(t[Wy]);n.start.assign("year",o)}else{let o=SO.findYearClosestToRef(e.refDate,a,s);n.start.imply("year",o)}if(t[Uy]){let o=parseInt(t[Uy]);n.end=n.start.clone(),n.end.assign("day",o)}return n}};fd.default=dd});var Gy=O(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});var Go=Ji(),PO=st(),AO=Z(),NO=gr(),CO=Fe(),hd=class extends AO.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`(?:\\s*((?:n\xE4chste|kommende|folgende|letzte|vergangene|vorige|vor(?:her|an)gegangene)(?:s|n|m|r)?|vor|in)\\s*)?(${Go.NUMBER_PATTERN})?(?:\\s*(n\xE4chste|kommende|folgende|letzte|vergangene|vorige|vor(?:her|an)gegangene)(?:s|n|m|r)?)?\\s*(${CO.matchAnyPattern(Go.TIME_UNIT_DICTIONARY)})`,"i")}innerExtract(e,t){let n=t[2]?Go.parseNumberPattern(t[2]):1,s=Go.TIME_UNIT_DICTIONARY[t[4].toLowerCase()],a={};a[s]=n;let o=t[1]||t[3]||"";if(o=o.toLowerCase(),!!o)return(/vor/.test(o)||/letzte/.test(o)||/vergangen/.test(o))&&(a=NO.reverseTimeUnits(a)),PO.ParsingComponents.createRelativeFromReference(e.reference,a)}};pd.default=hd});var zy=O(kt=>{"use strict";var Ar=kt&&kt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(kt,"__esModule",{value:!0});kt.createConfiguration=kt.createCasualConfiguration=kt.parseDate=kt.parse=kt.strict=kt.casual=void 0;var IO=ln(),Hy=xr(),FO=Ar(ps()),LO=Ar(Fc()),YO=Ar(ky()),UO=Ar(My()),WO=Ar(Ay()),qO=Ar(Ny()),jO=Ar(Cy()),$O=Ar(Ly()),GO=Ar(ld()),HO=Ar($y()),BO=Ar(Gy());kt.casual=new Hy.Chrono(By());kt.strict=new Hy.Chrono(md(!0));function zO(r,e,t){return kt.casual.parse(r,e,t)}kt.parse=zO;function VO(r,e,t){return kt.casual.parseDate(r,e,t)}kt.parseDate=VO;function By(r=!0){let e=md(!1,r);return e.parsers.unshift(new GO.default),e.parsers.unshift(new $O.default),e.parsers.unshift(new BO.default),e}kt.createCasualConfiguration=By;function md(r=!0,e=!0){return IO.includeCommonConfiguration({parsers:[new LO.default,new FO.default(e),new YO.default,new WO.default,new HO.default,new UO.default],refiners:[new qO.default,new jO.default]},r)}kt.createConfiguration=md});var Ky=O(Nr=>{"use strict";var KO=Nr&&Nr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ZO=Nr&&Nr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),QO=Nr&&Nr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&KO(e,r,t);return ZO(e,r),e},XO=Nr&&Nr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Nr,"__esModule",{value:!0});var JO=XO(Re()),eM=gt(),tM=Z(),Vy=yr(),Ho=QO(dn()),yd=class extends tM.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(maintenant|aujourd'hui|demain|hier|cette\s*nuit|la\s*veille)(?=\W|$)/i}innerExtract(e,t){let n=JO.default(e.refDate),s=t[0].toLowerCase(),a=e.createParsingComponents();switch(s){case"maintenant":return Ho.now(e.reference);case"aujourd'hui":return Ho.today(e.reference);case"hier":return Ho.yesterday(e.reference);case"demain":return Ho.tomorrow(e.reference);default:s.match(/cette\s*nuit/)?(Vy.assignSimilarDate(a,n),a.imply("hour",22),a.imply("meridiem",eM.Meridiem.PM)):s.match(/la\s*veille/)&&(n=n.add(-1,"day"),Vy.assignSimilarDate(a,n),a.imply("hour",0))}return a}};Nr.default=yd});var Zy=O(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});var sa=gt(),rM=Z(),gd=class extends rM.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(cet?)?\s*(matin|soir|après-midi|aprem|a midi|à minuit)(?=\W|$)/i}innerExtract(e,t){let n=t[2].toLowerCase(),s=e.createParsingComponents();switch(n){case"apr\xE8s-midi":case"aprem":s.imply("hour",14),s.imply("minute",0),s.imply("meridiem",sa.Meridiem.PM);break;case"soir":s.imply("hour",18),s.imply("minute",0),s.imply("meridiem",sa.Meridiem.PM);break;case"matin":s.imply("hour",8),s.imply("minute",0),s.imply("meridiem",sa.Meridiem.AM);break;case"a midi":s.imply("hour",12),s.imply("minute",0),s.imply("meridiem",sa.Meridiem.AM);break;case"\xE0 minuit":s.imply("hour",0),s.imply("meridiem",sa.Meridiem.AM);break}return s}};_d.default=gd});var Qy=O(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});var nM=ds(),Td=class extends nM.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:[\xE0a])\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|[\xE0a]|\\?)\\s*"}extractPrimaryTimeComponents(e,t){return t[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(e,t)}};bd.default=Td});var Xy=O(ia=>{"use strict";var sM=ia&&ia.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ia,"__esModule",{value:!0});var iM=sM(un()),vd=class extends iM.default{patternBetween(){return new RegExp("^\\s*(T|\xE0|a|vers|de|,|-)?\\s*$")}};ia.default=vd});var Jy=O(aa=>{"use strict";var aM=aa&&aa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(aa,"__esModule",{value:!0});var oM=aM($r()),wd=class extends oM.default{patternBetween(){return/^\s*(à|a|-)\s*$/i}};aa.default=wd});var Wn=O(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.parseTimeUnits=xe.TIME_UNITS_PATTERN=xe.parseYear=xe.YEAR_PATTERN=xe.parseOrdinalNumberPattern=xe.ORDINAL_NUMBER_PATTERN=xe.parseNumberPattern=xe.NUMBER_PATTERN=xe.TIME_UNIT_DICTIONARY=xe.INTEGER_WORD_DICTIONARY=xe.MONTH_DICTIONARY=xe.WEEKDAY_DICTIONARY=void 0;var kd=Fe();xe.WEEKDAY_DICTIONARY={dimanche:0,dim:0,lundi:1,lun:1,mardi:2,mar:2,mercredi:3,mer:3,jeudi:4,jeu:4,vendredi:5,ven:5,samedi:6,sam:6};xe.MONTH_DICTIONARY={janvier:1,jan:1,"jan.":1,f\u00E9vrier:2,f\u00E9v:2,"f\xE9v.":2,fevrier:2,fev:2,"fev.":2,mars:3,mar:3,"mar.":3,avril:4,avr:4,"avr.":4,mai:5,juin:6,jun:6,juillet:7,juil:7,jul:7,"jul.":7,ao\u00FBt:8,aout:8,septembre:9,sep:9,"sep.":9,sept:9,"sept.":9,octobre:10,oct:10,"oct.":10,novembre:11,nov:11,"nov.":11,d\u00E9cembre:12,decembre:12,dec:12,"dec.":12};xe.INTEGER_WORD_DICTIONARY={un:1,deux:2,trois:3,quatre:4,cinq:5,six:6,sept:7,huit:8,neuf:9,dix:10,onze:11,douze:12,treize:13};xe.TIME_UNIT_DICTIONARY={sec:"second",seconde:"second",secondes:"second",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",heure:"hour",heures:"hour",jour:"d",jours:"d",semaine:"week",semaines:"week",mois:"month",trimestre:"quarter",trimestres:"quarter",ans:"year",ann\u00E9e:"year",ann\u00E9es:"year"};xe.NUMBER_PATTERN=`(?:${kd.matchAnyPattern(xe.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|une?\\b|quelques?|demi-?)`;function tg(r){let e=r.toLowerCase();return xe.INTEGER_WORD_DICTIONARY[e]!==void 0?xe.INTEGER_WORD_DICTIONARY[e]:e==="une"||e==="un"?1:e.match(/quelques?/)?3:e.match(/demi-?/)?.5:parseFloat(e)}xe.parseNumberPattern=tg;xe.ORDINAL_NUMBER_PATTERN="(?:[0-9]{1,2}(?:er)?)";function uM(r){let e=r.toLowerCase();return e=e.replace(/(?:er)$/i,""),parseInt(e)}xe.parseOrdinalNumberPattern=uM;xe.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s*(?:AC|AD|p\\.\\s*C(?:hr?)?\\.\\s*n\\.)|[1-2][0-9]{3}|[5-9][0-9])";function lM(r){if(/AC/i.test(r))return r=r.replace(/BC/i,""),-parseInt(r);if(/AD/i.test(r)||/C/i.test(r))return r=r.replace(/[^\d]+/i,""),parseInt(r);let e=parseInt(r);return e<100&&(e>50?e=e+1900:e=e+2e3),e}xe.parseYear=lM;var rg=`(${xe.NUMBER_PATTERN})\\s{0,5}(${kd.matchAnyPattern(xe.TIME_UNIT_DICTIONARY)})\\s{0,5}`,eg=new RegExp(rg,"i");xe.TIME_UNITS_PATTERN=kd.repeatedTimeunitPattern("",rg);function cM(r){let e={},t=r,n=eg.exec(t);for(;n;)dM(e,n),t=t.substring(n[0].length),n=eg.exec(t);return e}xe.parseTimeUnits=cM;function dM(r,e){let t=tg(e[1]),n=xe.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var sg=O(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});var ng=Wn(),fM=Fe(),hM=Z(),pM=hs(),mM=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:(?:ce)\\s*)?(${fM.matchAnyPattern(ng.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(dernier|prochain)\\s*)?(?=\\W|\\d|$)`,"i"),yM=1,gM=2,Ed=class extends hM.AbstractParserWithWordBoundaryChecking{innerPattern(){return mM}innerExtract(e,t){let n=t[yM].toLowerCase(),s=ng.WEEKDAY_DICTIONARY[n];if(s===void 0)return null;let a=t[gM];a=a||"",a=a.toLowerCase();let o=null;a=="dernier"?o="last":a=="prochain"&&(o="next");let l=pM.toDayJSWeekday(e.refDate,s,o);return e.createParsingComponents().assign("weekday",s).imply("day",l.date()).imply("month",l.month()+1).imply("year",l.year())}};Dd.default=Ed});var ug=O(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});var oa=gt(),_M=new RegExp("(^|\\s|T)(?:(?:[\xE0a])\\s*)?(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s|:)?)?(?:\\s*(A\\.M\\.|P\\.M\\.|AM?|PM?))?(?=\\W|$)","i"),TM=new RegExp("^\\s*(\\-|\\\u2013|\\~|\\\u301C|[\xE0a]|\\?)\\s*(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s|:)?)?(?:\\s*(A\\.M\\.|P\\.M\\.|AM?|PM?))?(?=\\W|$)","i"),bM=2,ig=3,ag=4,og=5,ii=class{pattern(e){return _M}extract(e,t){let n=e.createParsingResult(t.index+t[1].length,t[0].substring(t[1].length));if(n.text.match(/^\d{4}$/)||(n.start=ii.extractTimeComponent(n.start.clone(),t),!n.start))return t.index+=t[0].length,null;let s=e.text.substring(t.index+t[0].length),a=TM.exec(s);return a&&(n.end=ii.extractTimeComponent(n.start.clone(),a),n.end&&(n.text+=a[0])),n}static extractTimeComponent(e,t){let n=0,s=0,a=null;if(n=parseInt(t[bM]),t[ig]!=null&&(s=parseInt(t[ig])),s>=60||n>24)return null;if(n>=12&&(a=oa.Meridiem.PM),t[og]!=null){if(n>12)return null;let o=t[og][0].toLowerCase();o=="a"&&(a=oa.Meridiem.AM,n==12&&(n=0)),o=="p"&&(a=oa.Meridiem.PM,n!=12&&(n+=12))}if(e.assign("hour",n),e.assign("minute",s),a!==null?e.assign("meridiem",a):n<12?e.imply("meridiem",oa.Meridiem.AM):e.imply("meridiem",oa.Meridiem.PM),t[ag]!=null){let o=parseInt(t[ag]);if(o>=60)return null;e.assign("second",o)}return e}};Sd.default=ii});var pg=O(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});var vM=At(),fg=Wn(),hg=Wn(),Bo=Wn(),wM=Fe(),kM=Z(),EM=new RegExp(`(?:on\\s*?)?(${Bo.ORDINAL_NUMBER_PATTERN})(?:\\s*(?:au|\\-|\\\u2013|jusqu'au?|\\s)\\s*(${Bo.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s*(?:de)?\\s*)(${wM.matchAnyPattern(fg.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s*)(${hg.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),lg=1,cg=2,DM=3,dg=4,Od=class extends kM.AbstractParserWithWordBoundaryChecking{innerPattern(){return EM}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=fg.MONTH_DICTIONARY[t[DM].toLowerCase()],a=Bo.parseOrdinalNumberPattern(t[lg]);if(a>31)return t.index=t.index+t[lg].length,null;if(n.start.assign("month",s),n.start.assign("day",a),t[dg]){let o=hg.parseYear(t[dg]);n.start.assign("year",o)}else{let o=vM.findYearClosestToRef(e.refDate,a,s);n.start.imply("year",o)}if(t[cg]){let o=Bo.parseOrdinalNumberPattern(t[cg]);n.end=n.start.clone(),n.end.assign("day",o)}return n}};Md.default=Od});var yg=O(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});var mg=Wn(),SM=st(),OM=Z(),MM=gr(),Rd=class extends OM.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`il y a\\s*(${mg.TIME_UNITS_PATTERN})(?=(?:\\W|$))`,"i")}innerExtract(e,t){let n=mg.parseTimeUnits(t[1]),s=MM.reverseTimeUnits(n);return SM.ParsingComponents.createRelativeFromReference(e.reference,s)}};xd.default=Rd});var _g=O(Ad=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});var gg=Wn(),RM=st(),xM=Z(),Pd=class extends xM.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp(`(?:dans|en|pour|pendant|de)\\s*(${gg.TIME_UNITS_PATTERN})(?=\\W|$)`,"i")}innerExtract(e,t){let n=gg.parseTimeUnits(t[1]);return RM.ParsingComponents.createRelativeFromReference(e.reference,n)}};Ad.default=Pd});var Tg=O(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});var zo=Wn(),PM=st(),AM=Z(),NM=gr(),CM=Fe(),Nd=class extends AM.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`(?:les?|la|l'|du|des?)\\s*(${zo.NUMBER_PATTERN})?(?:\\s*(prochaine?s?|derni[e\xE8]re?s?|pass[\xE9e]e?s?|pr[\xE9e]c[\xE9e]dents?|suivante?s?))?\\s*(${CM.matchAnyPattern(zo.TIME_UNIT_DICTIONARY)})(?:\\s*(prochaine?s?|derni[e\xE8]re?s?|pass[\xE9e]e?s?|pr[\xE9e]c[\xE9e]dents?|suivante?s?))?`,"i")}innerExtract(e,t){let n=t[1]?zo.parseNumberPattern(t[1]):1,s=zo.TIME_UNIT_DICTIONARY[t[3].toLowerCase()],a={};a[s]=n;let o=t[2]||t[4]||"";if(o=o.toLowerCase(),!!o)return(/derni[eè]re?s?/.test(o)||/pass[ée]e?s?/.test(o)||/pr[ée]c[ée]dents?/.test(o))&&(a=NM.reverseTimeUnits(a)),PM.ParsingComponents.createRelativeFromReference(e.reference,a)}};Cd.default=Nd});var wg=O(Et=>{"use strict";var _r=Et&&Et.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Et,"__esModule",{value:!0});Et.createConfiguration=Et.createCasualConfiguration=Et.parseDate=Et.parse=Et.strict=Et.casual=void 0;var IM=ln(),bg=xr(),FM=_r(Ky()),LM=_r(Zy()),YM=_r(ps()),UM=_r(Qy()),WM=_r(Xy()),qM=_r(Jy()),jM=_r(sg()),$M=_r(ug()),GM=_r(pg()),HM=_r(yg()),BM=_r(_g()),zM=_r(Tg());Et.casual=new bg.Chrono(vg());Et.strict=new bg.Chrono(Id(!0));function VM(r,e,t){return Et.casual.parse(r,e,t)}Et.parse=VM;function KM(r,e,t){return Et.casual.parseDate(r,e,t)}Et.parseDate=KM;function vg(r=!0){let e=Id(!1,r);return e.parsers.unshift(new FM.default),e.parsers.unshift(new LM.default),e.parsers.unshift(new zM.default),e}Et.createCasualConfiguration=vg;function Id(r=!0,e=!0){return IM.includeCommonConfiguration({parsers:[new YM.default(e),new GM.default,new UM.default,new $M.default,new HM.default,new BM.default,new jM.default],refiners:[new WM.default,new qM.default]},r)}Et.createConfiguration=Id});var kg=O(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.toHankaku=void 0;function ZM(r){return String(r).replace(/\u2019/g,"'").replace(/\u201D/g,'"').replace(/\u3000/g," ").replace(/\uFFE5/g,"\xA5").replace(/[\uFF01\uFF03-\uFF06\uFF08\uFF09\uFF0C-\uFF19\uFF1C-\uFF1F\uFF21-\uFF3B\uFF3D\uFF3F\uFF41-\uFF5B\uFF5D\uFF5E]/g,QM)}Vo.toHankaku=ZM;function QM(r){return String.fromCharCode(r.charCodeAt(0)-65248)}});var Dg=O(ua=>{"use strict";var XM=ua&&ua.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ua,"__esModule",{value:!0});var Fd=kg(),JM=At(),eR=XM(Re()),tR=/(?:(?:([同今本])|((昭和|平成|令和)?([0-9０-９]{1,4}|元)))年\s*)?([0-9０-９]{1,2})月\s*([0-9０-９]{1,2})日/i,Eg=1,rR=2,Ld=3,nR=4,sR=5,iR=6,Yd=class{pattern(){return tR}extract(e,t){let n=parseInt(Fd.toHankaku(t[sR])),s=parseInt(Fd.toHankaku(t[iR])),a=e.createParsingComponents({day:s,month:n});if(t[Eg]&&t[Eg].match("\u540C|\u4ECA|\u672C")){let o=eR.default(e.refDate);a.assign("year",o.year())}if(t[rR]){let o=t[nR],l=o=="\u5143"?1:parseInt(Fd.toHankaku(o));t[Ld]=="\u4EE4\u548C"?l+=2018:t[Ld]=="\u5E73\u6210"?l+=1988:t[Ld]=="\u662D\u548C"&&(l+=1925),a.assign("year",l)}else{let o=JM.findYearClosestToRef(e.refDate,s,n);a.imply("year",o)}return a}};ua.default=Yd});var Sg=O(la=>{"use strict";var aR=la&&la.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(la,"__esModule",{value:!0});var oR=aR($r()),Ud=class extends oR.default{patternBetween(){return/^\s*(から|ー|-)\s*$/i}};la.default=Ud});var Mg=O(Cr=>{"use strict";var uR=Cr&&Cr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),lR=Cr&&Cr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),cR=Cr&&Cr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&uR(e,r,t);return lR(e,r),e},dR=Cr&&Cr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Cr,"__esModule",{value:!0});var fR=dR(Re()),Og=gt(),Wd=cR(dn()),hR=/今日|当日|昨日|明日|今夜|今夕|今晩|今朝/i,qd=class{pattern(){return hR}extract(e,t){let n=t[0],s=fR.default(e.refDate),a=e.createParsingComponents();switch(n){case"\u6628\u65E5":return Wd.yesterday(e.reference);case"\u660E\u65E5":return Wd.tomorrow(e.reference);case"\u4ECA\u65E5":case"\u5F53\u65E5":return Wd.today(e.reference)}return n=="\u4ECA\u591C"||n=="\u4ECA\u5915"||n=="\u4ECA\u6669"?(a.imply("hour",22),a.assign("meridiem",Og.Meridiem.PM)):n.match("\u4ECA\u671D")&&(a.imply("hour",6),a.assign("meridiem",Og.Meridiem.AM)),a.assign("day",s.date()),a.assign("month",s.month()+1),a.assign("year",s.year()),a}};Cr.default=qd});var Pg=O(Dt=>{"use strict";var jd=Dt&&Dt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.createConfiguration=Dt.createCasualConfiguration=Dt.parseDate=Dt.parse=Dt.strict=Dt.casual=void 0;var pR=jd(Dg()),mR=jd(Sg()),yR=jd(Mg()),Rg=xr();Dt.casual=new Rg.Chrono(xg());Dt.strict=new Rg.Chrono($d());function gR(r,e,t){return Dt.casual.parse(r,e,t)}Dt.parse=gR;function _R(r,e,t){return Dt.casual.parseDate(r,e,t)}Dt.parseDate=_R;function xg(){let r=$d();return r.parsers.unshift(new yR.default),r}Dt.createCasualConfiguration=xg;function $d(){return{parsers:[new pR.default],refiners:[new mR.default]}}Dt.createConfiguration=$d});var Ko=O(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});Hr.parseYear=Hr.YEAR_PATTERN=Hr.MONTH_DICTIONARY=Hr.WEEKDAY_DICTIONARY=void 0;Hr.WEEKDAY_DICTIONARY={domingo:0,dom:0,segunda:1,"segunda-feira":1,seg:1,ter\u00E7a:2,"ter\xE7a-feira":2,ter:2,quarta:3,"quarta-feira":3,qua:3,quinta:4,"quinta-feira":4,qui:4,sexta:5,"sexta-feira":5,sex:5,s\u00E1bado:6,sabado:6,sab:6};Hr.MONTH_DICTIONARY={janeiro:1,jan:1,"jan.":1,fevereiro:2,fev:2,"fev.":2,mar\u00E7o:3,mar:3,"mar.":3,abril:4,abr:4,"abr.":4,maio:5,mai:5,"mai.":5,junho:6,jun:6,"jun.":6,julho:7,jul:7,"jul.":7,agosto:8,ago:8,"ago.":8,setembro:9,set:9,"set.":9,outubro:10,out:10,"out.":10,novembro:11,nov:11,"nov.":11,dezembro:12,dez:12,"dez.":12};Hr.YEAR_PATTERN="[0-9]{1,4}(?![^\\s]\\d)(?:\\s*[a|d]\\.?\\s*c\\.?|\\s*a\\.?\\s*d\\.?)?";function TR(r){if(r.match(/^[0-9]{1,4}$/)){let e=parseInt(r);return e<100&&(e>50?e=e+1900:e=e+2e3),e}return r.match(/a\.?\s*c\.?/i)?(r=r.replace(/a\.?\s*c\.?/i,""),-parseInt(r)):parseInt(r)}Hr.parseYear=TR});var Ng=O(Hd=>{"use strict";Object.defineProperty(Hd,"__esModule",{value:!0});var Ag=Ko(),bR=Fe(),vR=Z(),wR=hs(),kR=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:(este|esta|passado|pr[o\xF3]ximo)\\s*)?(${bR.matchAnyPattern(Ag.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(este|esta|passado|pr[\xF3o]ximo)\\s*semana)?(?=\\W|\\d|$)`,"i"),ER=1,DR=2,SR=3,Gd=class extends vR.AbstractParserWithWordBoundaryChecking{innerPattern(){return kR}innerExtract(e,t){let n=t[DR].toLowerCase(),s=Ag.WEEKDAY_DICTIONARY[n];if(s===void 0)return null;let a=t[ER],o=t[SR],l=a||o||"";l=l.toLowerCase();let c=null;l=="passado"?c="this":l=="pr\xF3ximo"||l=="proximo"?c="next":l=="este"&&(c="this");let f=wR.toDayJSWeekday(e.refDate,s,c);return e.createParsingComponents().assign("weekday",s).imply("day",f.date()).imply("month",f.month()+1).imply("year",f.year())}};Hd.default=Gd});var Cg=O(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});var OR=ds(),Bd=class extends OR.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:ao?|\xE0s?|das|da|de|do)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|a(?:o)?|\\?)\\s*"}};zd.default=Bd});var Ig=O(ca=>{"use strict";var MR=ca&&ca.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ca,"__esModule",{value:!0});var RR=MR(un()),Vd=class extends RR.default{patternBetween(){return new RegExp("^\\s*(?:,|\xE0)?\\s*$")}};ca.default=Vd});var Fg=O(da=>{"use strict";var xR=da&&da.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(da,"__esModule",{value:!0});var PR=xR($r()),Kd=class extends PR.default{patternBetween(){return/^\s*(?:-)\s*$/i}};da.default=Kd});var jg=O(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});var AR=At(),Wg=Ko(),qg=Ko(),NR=Fe(),CR=Z(),IR=new RegExp(`([0-9]{1,2})(?:\xBA|\xAA|\xB0)?(?:\\s*(?:desde|de|\\-|\\\u2013|ao?|\\s)\\s*([0-9]{1,2})(?:\xBA|\xAA|\xB0)?)?\\s*(?:de)?\\s*(?:-|/|\\s*(?:de|,)?\\s*)(${NR.matchAnyPattern(Wg.MONTH_DICTIONARY)})(?:\\s*(?:de|,)?\\s*(${qg.YEAR_PATTERN}))?(?=\\W|$)`,"i"),Lg=1,Yg=2,FR=3,Ug=4,Zd=class extends CR.AbstractParserWithWordBoundaryChecking{innerPattern(){return IR}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=Wg.MONTH_DICTIONARY[t[FR].toLowerCase()],a=parseInt(t[Lg]);if(a>31)return t.index=t.index+t[Lg].length,null;if(n.start.assign("month",s),n.start.assign("day",a),t[Ug]){let o=qg.parseYear(t[Ug]);n.start.assign("year",o)}else{let o=AR.findYearClosestToRef(e.refDate,a,s);n.start.imply("year",o)}if(t[Yg]){let o=parseInt(t[Yg]);n.end=n.start.clone(),n.end.assign("day",o)}return n}};Qd.default=Zd});var $g=O(fn=>{"use strict";var LR=fn&&fn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),YR=fn&&fn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),UR=fn&&fn.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&LR(e,r,t);return YR(e,r),e};Object.defineProperty(fn,"__esModule",{value:!0});var WR=Z(),Zo=UR(dn()),Xd=class extends WR.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(agora|hoje|amanha|amanhã|ontem)(?=\W|$)/i}innerExtract(e,t){let n=t[0].toLowerCase(),s=e.createParsingComponents();switch(n){case"agora":return Zo.now(e.reference);case"hoje":return Zo.today(e.reference);case"amanha":case"amanh\xE3":return Zo.tomorrow(e.reference);case"ontem":return Zo.yesterday(e.reference)}return s}};fn.default=Xd});var Gg=O(fa=>{"use strict";var qR=fa&&fa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fa,"__esModule",{value:!0});var Qo=gt(),jR=Z(),$R=yr(),GR=qR(Re()),Jd=class extends jR.AbstractParserWithWordBoundaryChecking{innerPattern(){return/(?:esta\s*)?(manha|manhã|tarde|meia-noite|meio-dia|noite)(?=\W|$)/i}innerExtract(e,t){let n=GR.default(e.refDate),s=e.createParsingComponents();switch(t[1].toLowerCase()){case"tarde":s.imply("meridiem",Qo.Meridiem.PM),s.imply("hour",15);break;case"noite":s.imply("meridiem",Qo.Meridiem.PM),s.imply("hour",22);break;case"manha":case"manh\xE3":s.imply("meridiem",Qo.Meridiem.AM),s.imply("hour",6);break;case"meia-noite":$R.assignTheNextDay(s,n),s.imply("hour",0),s.imply("minute",0),s.imply("second",0);break;case"meio-dia":s.imply("meridiem",Qo.Meridiem.AM),s.imply("hour",12);break}return s}};fa.default=Jd});var zg=O(St=>{"use strict";var qn=St&&St.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(St,"__esModule",{value:!0});St.createConfiguration=St.createCasualConfiguration=St.parseDate=St.parse=St.strict=St.casual=void 0;var HR=ln(),Hg=xr(),BR=qn(ps()),zR=qn(Ng()),VR=qn(Cg()),KR=qn(Ig()),ZR=qn(Fg()),QR=qn(jg()),XR=qn($g()),JR=qn(Gg());St.casual=new Hg.Chrono(Bg());St.strict=new Hg.Chrono(ef(!0));function ex(r,e,t){return St.casual.parse(r,e,t)}St.parse=ex;function tx(r,e,t){return St.casual.parseDate(r,e,t)}St.parseDate=tx;function Bg(r=!0){let e=ef(!1,r);return e.parsers.push(new XR.default),e.parsers.push(new JR.default),e}St.createCasualConfiguration=Bg;function ef(r=!0,e=!0){return HR.includeCommonConfiguration({parsers:[new BR.default(e),new zR.default,new VR.default,new QR.default],refiners:[new KR.default,new ZR.default]},r)}St.createConfiguration=ef});var Vg=O(ha=>{"use strict";var rx=ha&&ha.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ha,"__esModule",{value:!0});var nx=rx($r()),tf=class extends nx.default{patternBetween(){return/^\s*(tot|-)\s*$/i}};ha.default=tf});var Kg=O(pa=>{"use strict";var sx=pa&&pa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pa,"__esModule",{value:!0});var ix=sx(un()),rf=class extends ix.default{patternBetween(){return new RegExp("^\\s*(om|na|voor|in de|,|-)?\\s*$")}};pa.default=rf});var Zg=O(hn=>{"use strict";var ax=hn&&hn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ox=hn&&hn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ux=hn&&hn.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ax(e,r,t);return ox(e,r),e};Object.defineProperty(hn,"__esModule",{value:!0});var lx=Z(),Xo=ux(dn()),nf=class extends lx.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(nu|vandaag|morgen|morgend|gisteren)(?=\W|$)/i}innerExtract(e,t){let n=t[0].toLowerCase(),s=e.createParsingComponents();switch(n){case"nu":return Xo.now(e.reference);case"vandaag":return Xo.today(e.reference);case"morgen":case"morgend":return Xo.tomorrow(e.reference);case"gisteren":return Xo.yesterday(e.reference)}return s}};hn.default=nf});var Qg=O(ma=>{"use strict";var cx=ma&&ma.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ma,"__esModule",{value:!0});var Jo=gt(),dx=Z(),fx=cx(Re()),hx=yr(),px=1,mx=2,sf=class extends dx.AbstractParserWithWordBoundaryChecking{innerPattern(){return/(deze)?\s*(namiddag|avond|middernacht|ochtend|middag|'s middags|'s avonds|'s ochtends)(?=\W|$)/i}innerExtract(e,t){let n=fx.default(e.refDate),s=e.createParsingComponents();switch(t[px]==="deze"&&(s.assign("day",e.refDate.getDate()),s.assign("month",e.refDate.getMonth()+1),s.assign("year",e.refDate.getFullYear())),t[mx].toLowerCase()){case"namiddag":case"'s namiddags":s.imply("meridiem",Jo.Meridiem.PM),s.imply("hour",15);break;case"avond":case"'s avonds'":s.imply("meridiem",Jo.Meridiem.PM),s.imply("hour",20);break;case"middernacht":hx.assignTheNextDay(s,n),s.imply("hour",0),s.imply("minute",0),s.imply("second",0);break;case"ochtend":case"'s ochtends":s.imply("meridiem",Jo.Meridiem.AM),s.imply("hour",6);break;case"middag":case"'s middags":s.imply("meridiem",Jo.Meridiem.AM),s.imply("hour",12);break}return s}};ma.default=sf});var rr=O(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.parseTimeUnits=we.TIME_UNITS_PATTERN=we.parseYear=we.YEAR_PATTERN=we.parseOrdinalNumberPattern=we.ORDINAL_NUMBER_PATTERN=we.parseNumberPattern=we.NUMBER_PATTERN=we.TIME_UNIT_DICTIONARY=we.ORDINAL_WORD_DICTIONARY=we.INTEGER_WORD_DICTIONARY=we.MONTH_DICTIONARY=we.WEEKDAY_DICTIONARY=void 0;var eu=Fe(),yx=At();we.WEEKDAY_DICTIONARY={zondag:0,zon:0,"zon.":0,zo:0,"zo.":0,maandag:1,ma:1,"ma.":1,dinsdag:2,din:2,"din.":2,di:2,"di.":2,woensdag:3,woe:3,"woe.":3,wo:3,"wo.":3,donderdag:4,dond:4,"dond.":4,do:4,"do.":4,vrijdag:5,vrij:5,"vrij.":5,vr:5,"vr.":5,zaterdag:6,zat:6,"zat.":6,za:6,"za.":6};we.MONTH_DICTIONARY={januari:1,jan:1,"jan.":1,februari:2,feb:2,"feb.":2,maart:3,mar:3,"mar.":3,april:4,apr:4,"apr.":4,mei:5,juni:6,jun:6,"jun.":6,juli:7,jul:7,"jul.":7,augustus:8,aug:8,"aug.":8,september:9,sep:9,"sep.":9,sept:9,"sept.":9,oktober:10,okt:10,"okt.":10,november:11,nov:11,"nov.":11,december:12,dec:12,"dec.":12};we.INTEGER_WORD_DICTIONARY={een:1,twee:2,drie:3,vier:4,vijf:5,zes:6,zeven:7,acht:8,negen:9,tien:10,elf:11,twaalf:12};we.ORDINAL_WORD_DICTIONARY={eerste:1,tweede:2,derde:3,vierde:4,vijfde:5,zesde:6,zevende:7,achtste:8,negende:9,tiende:10,elfde:11,twaalfde:12,dertiende:13,veertiende:14,vijftiende:15,zestiende:16,zeventiende:17,achttiende:18,negentiende:19,twintigste:20,eenentwintigste:21,twee\u00EBntwintigste:22,drieentwintigste:23,vierentwintigste:24,vijfentwintigste:25,zesentwintigste:26,zevenentwintigste:27,achtentwintig:28,negenentwintig:29,dertigste:30,eenendertigste:31};we.TIME_UNIT_DICTIONARY={sec:"second",second:"second",seconden:"second",min:"minute",mins:"minute",minute:"minute",minuut:"minute",minuten:"minute",minuutje:"minute",h:"hour",hr:"hour",hrs:"hour",uur:"hour",u:"hour",uren:"hour",dag:"d",dagen:"d",week:"week",weken:"week",maand:"month",maanden:"month",jaar:"year",jr:"year",jaren:"year"};we.NUMBER_PATTERN=`(?:${eu.matchAnyPattern(we.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+[\\.,][0-9]+|halve?|half|paar)`;function Jg(r){let e=r.toLowerCase();return we.INTEGER_WORD_DICTIONARY[e]!==void 0?we.INTEGER_WORD_DICTIONARY[e]:e==="paar"?2:e==="half"||e.match(/halve?/)?.5:parseFloat(e.replace(",","."))}we.parseNumberPattern=Jg;we.ORDINAL_NUMBER_PATTERN=`(?:${eu.matchAnyPattern(we.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:ste|de)?)`;function gx(r){let e=r.toLowerCase();return we.ORDINAL_WORD_DICTIONARY[e]!==void 0?we.ORDINAL_WORD_DICTIONARY[e]:(e=e.replace(/(?:ste|de)$/i,""),parseInt(e))}we.parseOrdinalNumberPattern=gx;we.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s*(?:voor Christus|na Christus)|[1-2][0-9]{3}|[5-9][0-9])";function _x(r){if(/voor Christus/i.test(r))return r=r.replace(/voor Christus/i,""),-parseInt(r);if(/na Christus/i.test(r))return r=r.replace(/na Christus/i,""),parseInt(r);let e=parseInt(r);return yx.findMostLikelyADYear(e)}we.parseYear=_x;var e_=`(${we.NUMBER_PATTERN})\\s{0,5}(${eu.matchAnyPattern(we.TIME_UNIT_DICTIONARY)})\\s{0,5}`,Xg=new RegExp(e_,"i");we.TIME_UNITS_PATTERN=eu.repeatedTimeunitPattern("(?:(?:binnen|in)\\s*)?",e_);function Tx(r){let e={},t=r,n=Xg.exec(t);for(;n;)bx(e,n),t=t.substring(n[0].length),n=Xg.exec(t);return e}we.parseTimeUnits=Tx;function bx(r,e){let t=Jg(e[1]),n=we.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var r_=O(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});var t_=rr(),vx=st(),wx=Z(),af=class extends wx.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(?:binnen|in|binnen de|voor)\\s*("+t_.TIME_UNITS_PATTERN+")(?=\\W|$)","i")}innerExtract(e,t){let n=t_.parseTimeUnits(t[1]);return vx.ParsingComponents.createRelativeFromReference(e.reference,n)}};of.default=af});var s_=O(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});var n_=rr(),kx=Fe(),Ex=Z(),Dx=hs(),Sx=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:op\\s*?)?(?:(deze|vorige|volgende)\\s*(?:week\\s*)?)?(${kx.matchAnyPattern(n_.WEEKDAY_DICTIONARY)})(?=\\W|$)`,"i"),Ox=1,Mx=2,Rx=3,uf=class extends Ex.AbstractParserWithWordBoundaryChecking{innerPattern(){return Sx}innerExtract(e,t){let n=t[Mx].toLowerCase(),s=n_.WEEKDAY_DICTIONARY[n],a=t[Ox],o=t[Rx],l=a||o;l=l||"",l=l.toLowerCase();let c=null;l=="vorige"?c="last":l=="volgende"?c="next":l=="deze"&&(c="this");let f=Dx.toDayJSWeekday(e.refDate,s,c);return e.createParsingComponents().assign("weekday",s).imply("day",f.date()).imply("month",f.month()+1).imply("year",f.year())}};lf.default=uf});var c_=O(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});var xx=At(),u_=rr(),tu=rr(),l_=rr(),Px=Fe(),Ax=Z(),Nx=new RegExp(`(?:on\\s*?)?(${tu.ORDINAL_NUMBER_PATTERN})(?:\\s*(?:tot|\\-|\\\u2013|until|through|till|\\s)\\s*(${tu.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s*(?:of)?\\s*)(`+Px.matchAnyPattern(u_.MONTH_DICTIONARY)+`)(?:(?:-|/|,?\\s*)(${l_.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),Cx=3,i_=1,a_=2,o_=4,cf=class extends Ax.AbstractParserWithWordBoundaryChecking{innerPattern(){return Nx}innerExtract(e,t){let n=u_.MONTH_DICTIONARY[t[Cx].toLowerCase()],s=tu.parseOrdinalNumberPattern(t[i_]);if(s>31)return t.index=t.index+t[i_].length,null;let a=e.createParsingComponents({day:s,month:n});if(t[o_]){let c=l_.parseYear(t[o_]);a.assign("year",c)}else{let c=xx.findYearClosestToRef(e.refDate,s,n);a.imply("year",c)}if(!t[a_])return a;let o=tu.parseOrdinalNumberPattern(t[a_]),l=e.createParsingResult(t.index,t[0]);return l.start=a,l.end=a.clone(),l.end.assign("day",o),l}};df.default=cf});var p_=O(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});var f_=rr(),Ix=At(),Fx=Fe(),h_=rr(),Lx=Z(),Yx=new RegExp(`(${Fx.matchAnyPattern(f_.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${h_.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i"),Ux=1,d_=2,ff=class extends Lx.AbstractParserWithWordBoundaryChecking{innerPattern(){return Yx}innerExtract(e,t){let n=e.createParsingComponents();n.imply("day",1);let s=t[Ux],a=f_.MONTH_DICTIONARY[s.toLowerCase()];if(n.assign("month",a),t[d_]){let o=h_.parseYear(t[d_]);n.assign("year",o)}else{let o=Ix.findYearClosestToRef(e.refDate,1,a);n.imply("year",o)}return n}};hf.default=ff});var m_=O(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});var Wx=Z(),qx=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i"),jx=1,$x=2,pf=class extends Wx.AbstractParserWithWordBoundaryChecking{innerPattern(){return qx}innerExtract(e,t){let n=parseInt(t[$x]),s=parseInt(t[jx]);return e.createParsingComponents().imply("day",1).assign("month",s).assign("year",n)}};mf.default=pf});var y_=O(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});var Gx=ds(),yf=class extends Gx.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:om)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|om|\\?)\\s*"}primarySuffix(){return"(?:\\s*(?:uur))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(e,t){return t[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(e,t)}};gf.default=yf});var T_=O(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});var __=rr(),Hx=Fe(),Bx=Z(),zx=new RegExp(`([0-9]{4})[\\.\\/\\s](?:(${Hx.matchAnyPattern(__.MONTH_DICTIONARY)})|([0-9]{1,2}))[\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i"),Vx=1,Kx=2,g_=3,Zx=4,_f=class extends Bx.AbstractParserWithWordBoundaryChecking{innerPattern(){return zx}innerExtract(e,t){let n=t[g_]?parseInt(t[g_]):__.MONTH_DICTIONARY[t[Kx].toLowerCase()];if(n<1||n>12)return null;let s=parseInt(t[Vx]);return{day:parseInt(t[Zx]),month:n,year:s}}};Tf.default=_f});var b_=O(ya=>{"use strict";var Qx=ya&&ya.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ya,"__esModule",{value:!0});var Xx=Z(),ru=gt(),bf=yr(),Jx=Qx(Re()),eP=1,tP=2,vf=class extends Xx.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(gisteren|morgen|van)(ochtend|middag|namiddag|avond|nacht)(?=\W|$)/i}innerExtract(e,t){let n=t[eP].toLowerCase(),s=t[tP].toLowerCase(),a=e.createParsingComponents(),o=Jx.default(e.refDate);switch(n){case"gisteren":bf.assignSimilarDate(a,o.add(-1,"day"));break;case"van":bf.assignSimilarDate(a,o);break;case"morgen":bf.assignTheNextDay(a,o);break}switch(s){case"ochtend":a.imply("meridiem",ru.Meridiem.AM),a.imply("hour",6);break;case"middag":a.imply("meridiem",ru.Meridiem.AM),a.imply("hour",12);break;case"namiddag":a.imply("meridiem",ru.Meridiem.PM),a.imply("hour",15);break;case"avond":a.imply("meridiem",ru.Meridiem.PM),a.imply("hour",20);break}return a}};ya.default=vf});var w_=O(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});var v_=rr(),rP=st(),nP=Z(),sP=gr(),iP=new RegExp(`(deze|vorige|afgelopen|komende|over|\\+|-)\\s*(${v_.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),wf=class extends nP.AbstractParserWithWordBoundaryChecking{innerPattern(){return iP}innerExtract(e,t){let n=t[1].toLowerCase(),s=v_.parseTimeUnits(t[2]);switch(n){case"vorige":case"afgelopen":case"-":s=sP.reverseTimeUnits(s);break}return rP.ParsingComponents.createRelativeFromReference(e.reference,s)}};kf.default=wf});var D_=O(ga=>{"use strict";var aP=ga&&ga.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ga,"__esModule",{value:!0});var E_=rr(),k_=st(),oP=aP(Re()),uP=Z(),lP=Fe(),cP=new RegExp(`(dit|deze|komende|volgend|volgende|afgelopen|vorige)\\s*(${lP.matchAnyPattern(E_.TIME_UNIT_DICTIONARY)})(?=\\s*)(?=\\W|$)`,"i"),dP=1,fP=2,Ef=class extends uP.AbstractParserWithWordBoundaryChecking{innerPattern(){return cP}innerExtract(e,t){let n=t[dP].toLowerCase(),s=t[fP].toLowerCase(),a=E_.TIME_UNIT_DICTIONARY[s];if(n=="volgend"||n=="volgende"||n=="komende"){let c={};return c[a]=1,k_.ParsingComponents.createRelativeFromReference(e.reference,c)}if(n=="afgelopen"||n=="vorige"){let c={};return c[a]=-1,k_.ParsingComponents.createRelativeFromReference(e.reference,c)}let o=e.createParsingComponents(),l=oP.default(e.reference.instant);return s.match(/week/i)?(l=l.add(-l.get("d"),"d"),o.imply("day",l.date()),o.imply("month",l.month()+1),o.imply("year",l.year())):s.match(/maand/i)?(l=l.add(-l.date()+1,"d"),o.imply("day",l.date()),o.assign("year",l.year()),o.assign("month",l.month()+1)):s.match(/jaar/i)&&(l=l.add(-l.date()+1,"d"),l=l.add(-l.month(),"month"),o.imply("day",l.date()),o.imply("month",l.month()+1),o.assign("year",l.year())),o}};ga.default=Ef});var S_=O(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});var Sf=rr(),hP=st(),pP=Z(),mP=gr(),yP=new RegExp("("+Sf.TIME_UNITS_PATTERN+")(?:geleden|voor|eerder)(?=(?:\\W|$))","i"),gP=new RegExp("("+Sf.TIME_UNITS_PATTERN+")geleden(?=(?:\\W|$))","i"),Df=class extends pP.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?gP:yP}innerExtract(e,t){let n=Sf.parseTimeUnits(t[1]),s=mP.reverseTimeUnits(n);return hP.ParsingComponents.createRelativeFromReference(e.reference,s)}};Of.default=Df});var O_=O(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});var Rf=rr(),_P=st(),TP=Z(),bP=new RegExp("("+Rf.TIME_UNITS_PATTERN+")(later|na|vanaf nu|voortaan|vooruit|uit)(?=(?:\\W|$))","i"),vP=new RegExp("("+Rf.TIME_UNITS_PATTERN+")(later|vanaf nu)(?=(?:\\W|$))","i"),wP=1,Mf=class extends TP.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?vP:bP}innerExtract(e,t){let n=Rf.parseTimeUnits(t[wP]);return _P.ParsingComponents.createRelativeFromReference(e.reference,n)}};xf.default=Mf});var P_=O(Ot=>{"use strict";var Ct=Ot&&Ot.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.createConfiguration=Ot.createCasualConfiguration=Ot.parseDate=Ot.parse=Ot.strict=Ot.casual=void 0;var kP=ln(),M_=xr(),EP=Ct(Vg()),DP=Ct(Kg()),SP=Ct(Zg()),OP=Ct(Qg()),MP=Ct(ps()),RP=Ct(r_()),xP=Ct(s_()),PP=Ct(c_()),R_=Ct(p_()),AP=Ct(m_()),NP=Ct(y_()),CP=Ct(T_()),IP=Ct(b_()),FP=Ct(w_()),LP=Ct(D_()),YP=Ct(S_()),UP=Ct(O_());Ot.casual=new M_.Chrono(x_());Ot.strict=new M_.Chrono(Pf(!0));function WP(r,e,t){return Ot.casual.parse(r,e,t)}Ot.parse=WP;function qP(r,e,t){return Ot.casual.parseDate(r,e,t)}Ot.parseDate=qP;function x_(r=!0){let e=Pf(!1,r);return e.parsers.unshift(new SP.default),e.parsers.unshift(new OP.default),e.parsers.unshift(new IP.default),e.parsers.unshift(new R_.default),e.parsers.unshift(new LP.default),e.parsers.unshift(new FP.default),e}Ot.createCasualConfiguration=x_;function Pf(r=!0,e=!0){return kP.includeCommonConfiguration({parsers:[new MP.default(e),new RP.default,new PP.default,new R_.default,new xP.default,new CP.default,new AP.default,new NP.default(r),new YP.default(r),new UP.default(r)],refiners:[new DP.default,new EP.default]},r)}Ot.createConfiguration=Pf});var I_=O(_a=>{"use strict";var jP=_a&&_a.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_a,"__esModule",{value:!0});var $P=jP(Re()),GP=Z(),HP=1,A_=2,BP=3,N_=4,C_=5,zP=6,Af=class extends GP.AbstractParserWithWordBoundaryChecking{innerPattern(e){return new RegExp("(\u800C\u5BB6|\u7ACB(?:\u523B|\u5373)|\u5373\u523B)|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(?:\u65E5|\u5929)(?:[\\s|,|\uFF0C]*)(?:(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?","i")}innerExtract(e,t){let n=t.index,s=e.createParsingResult(n,t[0]),a=$P.default(e.refDate),o=a;if(t[HP])s.start.imply("hour",a.hour()),s.start.imply("minute",a.minute()),s.start.imply("second",a.second()),s.start.imply("millisecond",a.millisecond());else if(t[A_]){let l=t[A_],c=t[BP];l=="\u660E"||l=="\u807D"?a.hour()>1&&(o=o.add(1,"day")):l=="\u6628"||l=="\u5C0B"||l=="\u7434"?o=o.add(-1,"day"):l=="\u524D"?o=o.add(-2,"day"):l=="\u5927\u524D"?o=o.add(-3,"day"):l=="\u5F8C"?o=o.add(2,"day"):l=="\u5927\u5F8C"&&(o=o.add(3,"day")),c=="\u65E9"||c=="\u671D"?s.start.imply("hour",6):c=="\u665A"&&(s.start.imply("hour",22),s.start.imply("meridiem",1))}else if(t[N_]){let c=t[N_][0];c=="\u65E9"||c=="\u671D"||c=="\u4E0A"?s.start.imply("hour",6):c=="\u4E0B"||c=="\u664F"?(s.start.imply("hour",15),s.start.imply("meridiem",1)):c=="\u4E2D"?(s.start.imply("hour",12),s.start.imply("meridiem",1)):c=="\u591C"||c=="\u665A"?(s.start.imply("hour",22),s.start.imply("meridiem",1)):c=="\u51CC"&&s.start.imply("hour",0)}else if(t[C_]){let l=t[C_];l=="\u660E"||l=="\u807D"?a.hour()>1&&(o=o.add(1,"day")):l=="\u6628"||l=="\u5C0B"||l=="\u7434"?o=o.add(-1,"day"):l=="\u524D"?o=o.add(-2,"day"):l=="\u5927\u524D"?o=o.add(-3,"day"):l=="\u5F8C"?o=o.add(2,"day"):l=="\u5927\u5F8C"&&(o=o.add(3,"day"));let c=t[zP];if(c){let f=c[0];f=="\u65E9"||f=="\u671D"||f=="\u4E0A"?s.start.imply("hour",6):f=="\u4E0B"||f=="\u664F"?(s.start.imply("hour",15),s.start.imply("meridiem",1)):f=="\u4E2D"?(s.start.imply("hour",12),s.start.imply("meridiem",1)):f=="\u591C"||f=="\u665A"?(s.start.imply("hour",22),s.start.imply("meridiem",1)):f=="\u51CC"&&s.start.imply("hour",0)}}return s.start.assign("day",o.date()),s.start.assign("month",o.month()+1),s.start.assign("year",o.year()),s}};_a.default=Af});var ai=O(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.zhStringToYear=Kt.zhStringToNumber=Kt.WEEKDAY_OFFSET=Kt.NUMBER=void 0;Kt.NUMBER={\u96F6:0,\u4E00:1,\u4E8C:2,\u5169:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6,\u4E03:7,\u516B:8,\u4E5D:9,\u5341:10,\u5EFF:20,\u5345:30};Kt.WEEKDAY_OFFSET={\u5929:0,\u65E5:0,\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6};function VP(r){let e=0;for(let t=0;t<r.length;t++){let n=r[t];n==="\u5341"?e=e===0?Kt.NUMBER[n]:e*Kt.NUMBER[n]:e+=Kt.NUMBER[n]}return e}Kt.zhStringToNumber=VP;function KP(r){let e="";for(let t=0;t<r.length;t++){let n=r[t];e=e+Kt.NUMBER[n]}return parseInt(e)}Kt.zhStringToYear=KP});var L_=O(Ta=>{"use strict";var ZP=Ta&&Ta.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ta,"__esModule",{value:!0});var QP=ZP(Re()),XP=Z(),gs=ai(),Nf=1,F_=2,Cf=3,If=class extends XP.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(\\d{2,4}|["+Object.keys(gs.NUMBER).join("")+"]{4}|["+Object.keys(gs.NUMBER).join("")+"]{2})?(?:\\s*)(?:\u5E74)?(?:[\\s|,|\uFF0C]*)(\\d{1,2}|["+Object.keys(gs.NUMBER).join("")+"]{1,2})(?:\\s*)(?:\u6708)(?:\\s*)(\\d{1,2}|["+Object.keys(gs.NUMBER).join("")+"]{1,2})?(?:\\s*)(?:\u65E5|\u865F)?")}innerExtract(e,t){let n=QP.default(e.refDate),s=e.createParsingResult(t.index,t[0]),a=parseInt(t[F_]);if(isNaN(a)&&(a=gs.zhStringToNumber(t[F_])),s.start.assign("month",a),t[Cf]){let o=parseInt(t[Cf]);isNaN(o)&&(o=gs.zhStringToNumber(t[Cf])),s.start.assign("day",o)}else s.start.imply("day",n.date());if(t[Nf]){let o=parseInt(t[Nf]);isNaN(o)&&(o=gs.zhStringToYear(t[Nf])),s.start.assign("year",o)}else s.start.imply("year",n.year());return s}};Ta.default=If});var U_=O(ba=>{"use strict";var JP=ba&&ba.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ba,"__esModule",{value:!0});var eA=JP(Re()),tA=Z(),Y_=ai(),rA=new RegExp("(\\d+|["+Object.keys(Y_.NUMBER).join("")+"]+|\u534A|\u5E7E)(?:\\s*)(?:\u500B)?(\u79D2(?:\u9418)?|\u5206\u9418|\u5C0F\u6642|\u9418|\u65E5|\u5929|\u661F\u671F|\u79AE\u62DC|\u6708|\u5E74)(?:(?:\u4E4B|\u904E)?\u5F8C|(?:\u4E4B)?\u5167)","i"),Ff=1,nA=2,Lf=class extends tA.AbstractParserWithWordBoundaryChecking{innerPattern(){return rA}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=parseInt(t[Ff]);if(isNaN(s)&&(s=Y_.zhStringToNumber(t[Ff])),isNaN(s)){let c=t[Ff];if(c==="\u5E7E")s=3;else if(c==="\u534A")s=.5;else return null}let a=eA.default(e.refDate),l=t[nA][0];return l.match(/[日天星禮月年]/)?(l=="\u65E5"||l=="\u5929"?a=a.add(s,"d"):l=="\u661F"||l=="\u79AE"?a=a.add(s*7,"d"):l=="\u6708"?a=a.add(s,"month"):l=="\u5E74"&&(a=a.add(s,"year")),n.start.assign("year",a.year()),n.start.assign("month",a.month()+1),n.start.assign("day",a.date()),n):(l=="\u79D2"?a=a.add(s,"second"):l=="\u5206"?a=a.add(s,"minute"):(l=="\u5C0F"||l=="\u9418")&&(a=a.add(s,"hour")),n.start.imply("year",a.year()),n.start.imply("month",a.month()+1),n.start.imply("day",a.date()),n.start.assign("hour",a.hour()),n.start.assign("minute",a.minute()),n.start.assign("second",a.second()),n)}};ba.default=Lf});var q_=O(va=>{"use strict";var sA=va&&va.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(va,"__esModule",{value:!0});var iA=sA(Re()),aA=Z(),W_=ai(),oA=new RegExp("(?<prefix>\u4E0A|\u4ECA|\u4E0B|\u9019|\u5462)(?:\u500B)?(?:\u661F\u671F|\u79AE\u62DC|\u9031)(?<weekday>"+Object.keys(W_.WEEKDAY_OFFSET).join("|")+")"),Yf=class extends aA.AbstractParserWithWordBoundaryChecking{innerPattern(){return oA}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=t.groups.weekday,a=W_.WEEKDAY_OFFSET[s];if(a===void 0)return null;let o=null,l=t.groups.prefix;l=="\u4E0A"?o="last":l=="\u4E0B"?o="next":(l=="\u4ECA"||l=="\u9019"||l=="\u5462")&&(o="this");let c=iA.default(e.refDate),f=!1,p=c.day();return o=="last"||o=="past"?(c=c.day(a-7),f=!0):o=="next"?(c=c.day(a+7),f=!0):o=="this"?c=c.day(a):Math.abs(a-7-p)<Math.abs(a-p)?c=c.day(a-7):Math.abs(a+7-p)<Math.abs(a-p)?c=c.day(a+7):c=c.day(a),n.start.assign("weekday",a),f?(n.start.assign("day",c.date()),n.start.assign("month",c.month()+1),n.start.assign("year",c.year())):(n.start.imply("day",c.date()),n.start.imply("month",c.month()+1),n.start.imply("year",c.year())),n}};va.default=Yf});var j_=O(wa=>{"use strict";var uA=wa&&wa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wa,"__esModule",{value:!0});var lA=uA(Re()),cA=Z(),br=ai(),dA=new RegExp("(?:\u7531|\u5F9E|\u81EA)?(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(br.NUMBER).join("")+"]+)(?:\\s*)(?:\u9EDE|\u6642|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(br.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(br.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),fA=new RegExp("(?:^\\s*(?:\u5230|\u81F3|\\-|\\\u2013|\\~|\\\u301C)\\s*)(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(br.NUMBER).join("")+"]+)(?:\\s*)(?:\u9EDE|\u6642|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(br.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(br.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),nu=1,su=2,iu=3,au=4,ou=5,uu=6,Tr=7,oi=8,lu=9,Uf=class extends cA.AbstractParserWithWordBoundaryChecking{innerPattern(){return dA}innerExtract(e,t){if(t.index>0&&e.text[t.index-1].match(/\w/))return null;let n=lA.default(e.refDate),s=e.createParsingResult(t.index,t[0]),a=n.clone();if(t[nu]){var o=t[nu];o=="\u660E"||o=="\u807D"?n.hour()>1&&a.add(1,"day"):o=="\u6628"||o=="\u5C0B"||o=="\u7434"?a.add(-1,"day"):o=="\u524D"?a.add(-2,"day"):o=="\u5927\u524D"?a.add(-3,"day"):o=="\u5F8C"?a.add(2,"day"):o=="\u5927\u5F8C"&&a.add(3,"day"),s.start.assign("day",a.date()),s.start.assign("month",a.month()+1),s.start.assign("year",a.year())}else if(t[au]){var l=t[au];l=="\u660E"||l=="\u807D"?a.add(1,"day"):l=="\u6628"||l=="\u5C0B"||l=="\u7434"?a.add(-1,"day"):l=="\u524D"?a.add(-2,"day"):l=="\u5927\u524D"?a.add(-3,"day"):l=="\u5F8C"?a.add(2,"day"):l=="\u5927\u5F8C"&&a.add(3,"day"),s.start.assign("day",a.date()),s.start.assign("month",a.month()+1),s.start.assign("year",a.year())}else s.start.imply("day",a.date()),s.start.imply("month",a.month()+1),s.start.imply("year",a.year());let c=0,f=0,p=-1;if(t[oi]){var g=parseInt(t[oi]);if(isNaN(g)&&(g=br.zhStringToNumber(t[oi])),g>=60)return null;s.start.assign("second",g)}if(c=parseInt(t[uu]),isNaN(c)&&(c=br.zhStringToNumber(t[uu])),t[Tr]?t[Tr]=="\u534A"?f=30:t[Tr]=="\u6B63"||t[Tr]=="\u6574"?f=0:(f=parseInt(t[Tr]),isNaN(f)&&(f=br.zhStringToNumber(t[Tr]))):c>100&&(f=c%100,c=Math.floor(c/100)),f>=60||c>24)return null;if(c>=12&&(p=1),t[lu]){if(c>12)return null;var T=t[lu][0].toLowerCase();T=="a"&&(p=0,c==12&&(c=0)),T=="p"&&(p=1,c!=12&&(c+=12))}else if(t[su]){var S=t[su],b=S[0];b=="\u671D"||b=="\u65E9"?(p=0,c==12&&(c=0)):b=="\u665A"&&(p=1,c!=12&&(c+=12))}else if(t[iu]){var x=t[iu],C=x[0];C=="\u4E0A"||C=="\u671D"||C=="\u65E9"||C=="\u51CC"?(p=0,c==12&&(c=0)):(C=="\u4E0B"||C=="\u664F"||C=="\u665A")&&(p=1,c!=12&&(c+=12))}else if(t[ou]){var G=t[ou],K=G[0];K=="\u4E0A"||K=="\u671D"||K=="\u65E9"||K=="\u51CC"?(p=0,c==12&&(c=0)):(K=="\u4E0B"||K=="\u664F"||K=="\u665A")&&(p=1,c!=12&&(c+=12))}if(s.start.assign("hour",c),s.start.assign("minute",f),p>=0?s.start.assign("meridiem",p):c<12?s.start.imply("meridiem",0):s.start.imply("meridiem",1),t=fA.exec(e.text.substring(s.index+s.text.length)),!t)return s.text.match(/^\d+$/)?null:s;let B=a.clone();if(s.end=e.createParsingComponents(),t[nu]){var o=t[nu];o=="\u660E"||o=="\u807D"?n.hour()>1&&B.add(1,"day"):o=="\u6628"||o=="\u5C0B"||o=="\u7434"?B.add(-1,"day"):o=="\u524D"?B.add(-2,"day"):o=="\u5927\u524D"?B.add(-3,"day"):o=="\u5F8C"?B.add(2,"day"):o=="\u5927\u5F8C"&&B.add(3,"day"),s.end.assign("day",B.date()),s.end.assign("month",B.month()+1),s.end.assign("year",B.year())}else if(t[au]){var l=t[au];l=="\u660E"||l=="\u807D"?B.add(1,"day"):l=="\u6628"||l=="\u5C0B"||l=="\u7434"?B.add(-1,"day"):l=="\u524D"?B.add(-2,"day"):l=="\u5927\u524D"?B.add(-3,"day"):l=="\u5F8C"?B.add(2,"day"):l=="\u5927\u5F8C"&&B.add(3,"day"),s.end.assign("day",B.date()),s.end.assign("month",B.month()+1),s.end.assign("year",B.year())}else s.end.imply("day",B.date()),s.end.imply("month",B.month()+1),s.end.imply("year",B.year());if(c=0,f=0,p=-1,t[oi]){var g=parseInt(t[oi]);if(isNaN(g)&&(g=br.zhStringToNumber(t[oi])),g>=60)return null;s.end.assign("second",g)}if(c=parseInt(t[uu]),isNaN(c)&&(c=br.zhStringToNumber(t[uu])),t[Tr]?t[Tr]=="\u534A"?f=30:t[Tr]=="\u6B63"||t[Tr]=="\u6574"?f=0:(f=parseInt(t[Tr]),isNaN(f)&&(f=br.zhStringToNumber(t[Tr]))):c>100&&(f=c%100,c=Math.floor(c/100)),f>=60||c>24)return null;if(c>=12&&(p=1),t[lu]){if(c>12)return null;var T=t[lu][0].toLowerCase();T=="a"&&(p=0,c==12&&(c=0)),T=="p"&&(p=1,c!=12&&(c+=12)),s.start.isCertain("meridiem")||(p==0?(s.start.imply("meridiem",0),s.start.get("hour")==12&&s.start.assign("hour",0)):(s.start.imply("meridiem",1),s.start.get("hour")!=12&&s.start.assign("hour",s.start.get("hour")+12)))}else if(t[su]){var S=t[su],b=S[0];b=="\u671D"||b=="\u65E9"?(p=0,c==12&&(c=0)):b=="\u665A"&&(p=1,c!=12&&(c+=12))}else if(t[iu]){var x=t[iu],C=x[0];C=="\u4E0A"||C=="\u671D"||C=="\u65E9"||C=="\u51CC"?(p=0,c==12&&(c=0)):(C=="\u4E0B"||C=="\u664F"||C=="\u665A")&&(p=1,c!=12&&(c+=12))}else if(t[ou]){var G=t[ou],K=G[0];K=="\u4E0A"||K=="\u671D"||K=="\u65E9"||K=="\u51CC"?(p=0,c==12&&(c=0)):(K=="\u4E0B"||K=="\u664F"||K=="\u665A")&&(p=1,c!=12&&(c+=12))}return s.text=s.text+t[0],s.end.assign("hour",c),s.end.assign("minute",f),p>=0?s.end.assign("meridiem",p):s.start.isCertain("meridiem")&&s.start.get("meridiem")==1&&s.start.get("hour")>c?s.end.imply("meridiem",0):c>12&&s.end.imply("meridiem",1),s.end.date().getTime()<s.start.date().getTime()&&s.end.imply("day",s.end.get("day")+1),s}};wa.default=Uf});var G_=O(ka=>{"use strict";var hA=ka&&ka.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ka,"__esModule",{value:!0});var pA=hA(Re()),mA=Z(),$_=ai(),yA=new RegExp("(?:\u661F\u671F|\u79AE\u62DC|\u9031)(?<weekday>"+Object.keys($_.WEEKDAY_OFFSET).join("|")+")"),Wf=class extends mA.AbstractParserWithWordBoundaryChecking{innerPattern(){return yA}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=t.groups.weekday,a=$_.WEEKDAY_OFFSET[s];if(a===void 0)return null;let o=pA.default(e.refDate),l=!1,c=o.day();return Math.abs(a-7-c)<Math.abs(a-c)?o=o.day(a-7):Math.abs(a+7-c)<Math.abs(a-c)?o=o.day(a+7):o=o.day(a),n.start.assign("weekday",a),l?(n.start.assign("day",o.date()),n.start.assign("month",o.month()+1),n.start.assign("year",o.year())):(n.start.imply("day",o.date()),n.start.imply("month",o.month()+1),n.start.imply("year",o.year())),n}};ka.default=Wf});var H_=O(Ea=>{"use strict";var gA=Ea&&Ea.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ea,"__esModule",{value:!0});var _A=gA($r()),qf=class extends _A.default{patternBetween(){return/^\s*(至|到|\-|\~|～|－|ー)\s*$/i}};Ea.default=qf});var B_=O(Da=>{"use strict";var TA=Da&&Da.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Da,"__esModule",{value:!0});var bA=TA(un()),jf=class extends bA.default{patternBetween(){return/^\s*$/i}};Da.default=jf});var z_=O(lt=>{"use strict";var pn=lt&&lt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(lt,"__esModule",{value:!0});lt.createConfiguration=lt.createCasualConfiguration=lt.parseDate=lt.parse=lt.strict=lt.casual=lt.hant=void 0;var $f=xr(),vA=pn(Uo()),wA=ln(),kA=pn(I_()),EA=pn(L_()),DA=pn(U_()),SA=pn(q_()),OA=pn(j_()),MA=pn(G_()),RA=pn(H_()),xA=pn(B_());lt.hant=new $f.Chrono(Gf());lt.casual=new $f.Chrono(Gf());lt.strict=new $f.Chrono(Hf());function PA(r,e,t){return lt.casual.parse(r,e,t)}lt.parse=PA;function AA(r,e,t){return lt.casual.parseDate(r,e,t)}lt.parseDate=AA;function Gf(){let r=Hf();return r.parsers.unshift(new kA.default),r}lt.createCasualConfiguration=Gf;function Hf(){let r=wA.includeCommonConfiguration({parsers:[new EA.default,new SA.default,new MA.default,new OA.default,new DA.default],refiners:[new RA.default,new xA.default]});return r.refiners=r.refiners.filter(e=>!(e instanceof vA.default)),r}lt.createConfiguration=Hf});var Q_=O(Sa=>{"use strict";var NA=Sa&&Sa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Sa,"__esModule",{value:!0});var CA=NA(Re()),IA=Z(),FA=1,V_=2,LA=3,K_=4,Z_=5,YA=6,Bf=class extends IA.AbstractParserWithWordBoundaryChecking{innerPattern(e){return new RegExp("(\u73B0\u5728|\u7ACB(?:\u523B|\u5373)|\u5373\u523B)|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(\u65E9|\u665A)|(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(?:\u65E5|\u5929)(?:[\\s|,|\uFF0C]*)(?:(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?","i")}innerExtract(e,t){let n=t.index,s=e.createParsingResult(n,t[0]),a=CA.default(e.refDate),o=a;if(t[FA])s.start.imply("hour",a.hour()),s.start.imply("minute",a.minute()),s.start.imply("second",a.second()),s.start.imply("millisecond",a.millisecond());else if(t[V_]){let l=t[V_],c=t[LA];l=="\u660E"?a.hour()>1&&(o=o.add(1,"day")):l=="\u6628"?o=o.add(-1,"day"):l=="\u524D"?o=o.add(-2,"day"):l=="\u5927\u524D"?o=o.add(-3,"day"):l=="\u540E"?o=o.add(2,"day"):l=="\u5927\u540E"&&(o=o.add(3,"day")),c=="\u65E9"?s.start.imply("hour",6):c=="\u665A"&&(s.start.imply("hour",22),s.start.imply("meridiem",1))}else if(t[K_]){let c=t[K_][0];c=="\u65E9"||c=="\u4E0A"?s.start.imply("hour",6):c=="\u4E0B"?(s.start.imply("hour",15),s.start.imply("meridiem",1)):c=="\u4E2D"?(s.start.imply("hour",12),s.start.imply("meridiem",1)):c=="\u591C"||c=="\u665A"?(s.start.imply("hour",22),s.start.imply("meridiem",1)):c=="\u51CC"&&s.start.imply("hour",0)}else if(t[Z_]){let l=t[Z_];l=="\u660E"?a.hour()>1&&(o=o.add(1,"day")):l=="\u6628"?o=o.add(-1,"day"):l=="\u524D"?o=o.add(-2,"day"):l=="\u5927\u524D"?o=o.add(-3,"day"):l=="\u540E"?o=o.add(2,"day"):l=="\u5927\u540E"&&(o=o.add(3,"day"));let c=t[YA];if(c){let f=c[0];f=="\u65E9"||f=="\u4E0A"?s.start.imply("hour",6):f=="\u4E0B"?(s.start.imply("hour",15),s.start.imply("meridiem",1)):f=="\u4E2D"?(s.start.imply("hour",12),s.start.imply("meridiem",1)):f=="\u591C"||f=="\u665A"?(s.start.imply("hour",22),s.start.imply("meridiem",1)):f=="\u51CC"&&s.start.imply("hour",0)}}return s.start.assign("day",o.date()),s.start.assign("month",o.month()+1),s.start.assign("year",o.year()),s}};Sa.default=Bf});var ui=O(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.zhStringToYear=Zt.zhStringToNumber=Zt.WEEKDAY_OFFSET=Zt.NUMBER=void 0;Zt.NUMBER={\u96F6:0,"\u3007":0,\u4E00:1,\u4E8C:2,\u4E24:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6,\u4E03:7,\u516B:8,\u4E5D:9,\u5341:10};Zt.WEEKDAY_OFFSET={\u5929:0,\u65E5:0,\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6};function UA(r){let e=0;for(let t=0;t<r.length;t++){let n=r[t];n==="\u5341"?e=e===0?Zt.NUMBER[n]:e*Zt.NUMBER[n]:e+=Zt.NUMBER[n]}return e}Zt.zhStringToNumber=UA;function WA(r){let e="";for(let t=0;t<r.length;t++){let n=r[t];e=e+Zt.NUMBER[n]}return parseInt(e)}Zt.zhStringToYear=WA});var J_=O(Oa=>{"use strict";var qA=Oa&&Oa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Oa,"__esModule",{value:!0});var jA=qA(Re()),$A=Z(),_s=ui(),zf=1,X_=2,Vf=3,Kf=class extends $A.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(\\d{2,4}|["+Object.keys(_s.NUMBER).join("")+"]{4}|["+Object.keys(_s.NUMBER).join("")+"]{2})?(?:\\s*)(?:\u5E74)?(?:[\\s|,|\uFF0C]*)(\\d{1,2}|["+Object.keys(_s.NUMBER).join("")+"]{1,3})(?:\\s*)(?:\u6708)(?:\\s*)(\\d{1,2}|["+Object.keys(_s.NUMBER).join("")+"]{1,3})?(?:\\s*)(?:\u65E5|\u53F7)?")}innerExtract(e,t){let n=jA.default(e.refDate),s=e.createParsingResult(t.index,t[0]),a=parseInt(t[X_]);if(isNaN(a)&&(a=_s.zhStringToNumber(t[X_])),s.start.assign("month",a),t[Vf]){let o=parseInt(t[Vf]);isNaN(o)&&(o=_s.zhStringToNumber(t[Vf])),s.start.assign("day",o)}else s.start.imply("day",n.date());if(t[zf]){let o=parseInt(t[zf]);isNaN(o)&&(o=_s.zhStringToYear(t[zf])),s.start.assign("year",o)}else s.start.imply("year",n.year());return s}};Oa.default=Kf});var tT=O(Ma=>{"use strict";var GA=Ma&&Ma.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ma,"__esModule",{value:!0});var HA=GA(Re()),BA=Z(),eT=ui(),zA=new RegExp("(\\d+|["+Object.keys(eT.NUMBER).join("")+"]+|\u534A|\u51E0)(?:\\s*)(?:\u4E2A)?(\u79D2(?:\u949F)?|\u5206\u949F|\u5C0F\u65F6|\u949F|\u65E5|\u5929|\u661F\u671F|\u793C\u62DC|\u6708|\u5E74)(?:(?:\u4E4B|\u8FC7)?\u540E|(?:\u4E4B)?\u5185)","i"),Zf=1,VA=2,Qf=class extends BA.AbstractParserWithWordBoundaryChecking{innerPattern(){return zA}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=parseInt(t[Zf]);if(isNaN(s)&&(s=eT.zhStringToNumber(t[Zf])),isNaN(s)){let c=t[Zf];if(c==="\u51E0")s=3;else if(c==="\u534A")s=.5;else return null}let a=HA.default(e.refDate),l=t[VA][0];return l.match(/[日天星礼月年]/)?(l=="\u65E5"||l=="\u5929"?a=a.add(s,"d"):l=="\u661F"||l=="\u793C"?a=a.add(s*7,"d"):l=="\u6708"?a=a.add(s,"month"):l=="\u5E74"&&(a=a.add(s,"year")),n.start.assign("year",a.year()),n.start.assign("month",a.month()+1),n.start.assign("day",a.date()),n):(l=="\u79D2"?a=a.add(s,"second"):l=="\u5206"?a=a.add(s,"minute"):(l=="\u5C0F"||l=="\u949F")&&(a=a.add(s,"hour")),n.start.imply("year",a.year()),n.start.imply("month",a.month()+1),n.start.imply("day",a.date()),n.start.assign("hour",a.hour()),n.start.assign("minute",a.minute()),n.start.assign("second",a.second()),n)}};Ma.default=Qf});var nT=O(Ra=>{"use strict";var KA=Ra&&Ra.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ra,"__esModule",{value:!0});var ZA=KA(Re()),QA=Z(),rT=ui(),XA=new RegExp("(?<prefix>\u4E0A|\u4E0B|\u8FD9)(?:\u4E2A)?(?:\u661F\u671F|\u793C\u62DC|\u5468)(?<weekday>"+Object.keys(rT.WEEKDAY_OFFSET).join("|")+")"),Xf=class extends QA.AbstractParserWithWordBoundaryChecking{innerPattern(){return XA}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=t.groups.weekday,a=rT.WEEKDAY_OFFSET[s];if(a===void 0)return null;let o=null,l=t.groups.prefix;l=="\u4E0A"?o="last":l=="\u4E0B"?o="next":l=="\u8FD9"&&(o="this");let c=ZA.default(e.refDate),f=!1,p=c.day();return o=="last"||o=="past"?(c=c.day(a-7),f=!0):o=="next"?(c=c.day(a+7),f=!0):o=="this"?c=c.day(a):Math.abs(a-7-p)<Math.abs(a-p)?c=c.day(a-7):Math.abs(a+7-p)<Math.abs(a-p)?c=c.day(a+7):c=c.day(a),n.start.assign("weekday",a),f?(n.start.assign("day",c.date()),n.start.assign("month",c.month()+1),n.start.assign("year",c.year())):(n.start.imply("day",c.date()),n.start.imply("month",c.month()+1),n.start.imply("year",c.year())),n}};Ra.default=Xf});var sT=O(xa=>{"use strict";var JA=xa&&xa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xa,"__esModule",{value:!0});var eN=JA(Re()),tN=Z(),wr=ui(),rN=new RegExp("(?:\u4ECE|\u81EA)?(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(wr.NUMBER).join("")+"]+)(?:\\s*)(?:\u70B9|\u65F6|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(wr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(wr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),nN=new RegExp("(?:^\\s*(?:\u5230|\u81F3|\\-|\\\u2013|\\~|\\\u301C)\\s*)(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(wr.NUMBER).join("")+"]+)(?:\\s*)(?:\u70B9|\u65F6|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(wr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(wr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),cu=1,du=2,fu=3,hu=4,pu=5,mu=6,vr=7,li=8,yu=9,Jf=class extends tN.AbstractParserWithWordBoundaryChecking{innerPattern(){return rN}innerExtract(e,t){if(t.index>0&&e.text[t.index-1].match(/\w/))return null;let n=eN.default(e.refDate),s=e.createParsingResult(t.index,t[0]),a=n.clone();if(t[cu]){let p=t[cu];p=="\u660E"?n.hour()>1&&a.add(1,"day"):p=="\u6628"?a.add(-1,"day"):p=="\u524D"?a.add(-2,"day"):p=="\u5927\u524D"?a.add(-3,"day"):p=="\u540E"?a.add(2,"day"):p=="\u5927\u540E"&&a.add(3,"day"),s.start.assign("day",a.date()),s.start.assign("month",a.month()+1),s.start.assign("year",a.year())}else if(t[hu]){let p=t[hu];p=="\u660E"?a.add(1,"day"):p=="\u6628"?a.add(-1,"day"):p=="\u524D"?a.add(-2,"day"):p=="\u5927\u524D"?a.add(-3,"day"):p=="\u540E"?a.add(2,"day"):p=="\u5927\u540E"&&a.add(3,"day"),s.start.assign("day",a.date()),s.start.assign("month",a.month()+1),s.start.assign("year",a.year())}else s.start.imply("day",a.date()),s.start.imply("month",a.month()+1),s.start.imply("year",a.year());let o=0,l=0,c=-1;if(t[li]){let p=parseInt(t[li]);if(isNaN(p)&&(p=wr.zhStringToNumber(t[li])),p>=60)return null;s.start.assign("second",p)}if(o=parseInt(t[mu]),isNaN(o)&&(o=wr.zhStringToNumber(t[mu])),t[vr]?t[vr]=="\u534A"?l=30:t[vr]=="\u6B63"||t[vr]=="\u6574"?l=0:(l=parseInt(t[vr]),isNaN(l)&&(l=wr.zhStringToNumber(t[vr]))):o>100&&(l=o%100,o=Math.floor(o/100)),l>=60||o>24)return null;if(o>=12&&(c=1),t[yu]){if(o>12)return null;let p=t[yu][0].toLowerCase();p=="a"&&(c=0,o==12&&(o=0)),p=="p"&&(c=1,o!=12&&(o+=12))}else if(t[du]){let g=t[du][0];g=="\u65E9"?(c=0,o==12&&(o=0)):g=="\u665A"&&(c=1,o!=12&&(o+=12))}else if(t[fu]){let g=t[fu][0];g=="\u4E0A"||g=="\u65E9"||g=="\u51CC"?(c=0,o==12&&(o=0)):(g=="\u4E0B"||g=="\u665A")&&(c=1,o!=12&&(o+=12))}else if(t[pu]){let g=t[pu][0];g=="\u4E0A"||g=="\u65E9"||g=="\u51CC"?(c=0,o==12&&(o=0)):(g=="\u4E0B"||g=="\u665A")&&(c=1,o!=12&&(o+=12))}if(s.start.assign("hour",o),s.start.assign("minute",l),c>=0?s.start.assign("meridiem",c):o<12?s.start.imply("meridiem",0):s.start.imply("meridiem",1),t=nN.exec(e.text.substring(s.index+s.text.length)),!t)return s.text.match(/^\d+$/)?null:s;let f=a.clone();if(s.end=e.createParsingComponents(),t[cu]){let p=t[cu];p=="\u660E"?n.hour()>1&&f.add(1,"day"):p=="\u6628"?f.add(-1,"day"):p=="\u524D"?f.add(-2,"day"):p=="\u5927\u524D"?f.add(-3,"day"):p=="\u540E"?f.add(2,"day"):p=="\u5927\u540E"&&f.add(3,"day"),s.end.assign("day",f.date()),s.end.assign("month",f.month()+1),s.end.assign("year",f.year())}else if(t[hu]){let p=t[hu];p=="\u660E"?f.add(1,"day"):p=="\u6628"?f.add(-1,"day"):p=="\u524D"?f.add(-2,"day"):p=="\u5927\u524D"?f.add(-3,"day"):p=="\u540E"?f.add(2,"day"):p=="\u5927\u540E"&&f.add(3,"day"),s.end.assign("day",f.date()),s.end.assign("month",f.month()+1),s.end.assign("year",f.year())}else s.end.imply("day",f.date()),s.end.imply("month",f.month()+1),s.end.imply("year",f.year());if(o=0,l=0,c=-1,t[li]){let p=parseInt(t[li]);if(isNaN(p)&&(p=wr.zhStringToNumber(t[li])),p>=60)return null;s.end.assign("second",p)}if(o=parseInt(t[mu]),isNaN(o)&&(o=wr.zhStringToNumber(t[mu])),t[vr]?t[vr]=="\u534A"?l=30:t[vr]=="\u6B63"||t[vr]=="\u6574"?l=0:(l=parseInt(t[vr]),isNaN(l)&&(l=wr.zhStringToNumber(t[vr]))):o>100&&(l=o%100,o=Math.floor(o/100)),l>=60||o>24)return null;if(o>=12&&(c=1),t[yu]){if(o>12)return null;let p=t[yu][0].toLowerCase();p=="a"&&(c=0,o==12&&(o=0)),p=="p"&&(c=1,o!=12&&(o+=12)),s.start.isCertain("meridiem")||(c==0?(s.start.imply("meridiem",0),s.start.get("hour")==12&&s.start.assign("hour",0)):(s.start.imply("meridiem",1),s.start.get("hour")!=12&&s.start.assign("hour",s.start.get("hour")+12)))}else if(t[du]){let g=t[du][0];g=="\u65E9"?(c=0,o==12&&(o=0)):g=="\u665A"&&(c=1,o!=12&&(o+=12))}else if(t[fu]){let g=t[fu][0];g=="\u4E0A"||g=="\u65E9"||g=="\u51CC"?(c=0,o==12&&(o=0)):(g=="\u4E0B"||g=="\u665A")&&(c=1,o!=12&&(o+=12))}else if(t[pu]){let g=t[pu][0];g=="\u4E0A"||g=="\u65E9"||g=="\u51CC"?(c=0,o==12&&(o=0)):(g=="\u4E0B"||g=="\u665A")&&(c=1,o!=12&&(o+=12))}return s.text=s.text+t[0],s.end.assign("hour",o),s.end.assign("minute",l),c>=0?s.end.assign("meridiem",c):s.start.isCertain("meridiem")&&s.start.get("meridiem")==1&&s.start.get("hour")>o?s.end.imply("meridiem",0):o>12&&s.end.imply("meridiem",1),s.end.date().getTime()<s.start.date().getTime()&&s.end.imply("day",s.end.get("day")+1),s}};xa.default=Jf});var aT=O(Pa=>{"use strict";var sN=Pa&&Pa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pa,"__esModule",{value:!0});var iN=sN(Re()),aN=Z(),iT=ui(),oN=new RegExp("(?:\u661F\u671F|\u793C\u62DC|\u5468)(?<weekday>"+Object.keys(iT.WEEKDAY_OFFSET).join("|")+")"),eh=class extends aN.AbstractParserWithWordBoundaryChecking{innerPattern(){return oN}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=t.groups.weekday,a=iT.WEEKDAY_OFFSET[s];if(a===void 0)return null;let o=iN.default(e.refDate),l=!1,c=o.day();return Math.abs(a-7-c)<Math.abs(a-c)?o=o.day(a-7):Math.abs(a+7-c)<Math.abs(a-c)?o=o.day(a+7):o=o.day(a),n.start.assign("weekday",a),l?(n.start.assign("day",o.date()),n.start.assign("month",o.month()+1),n.start.assign("year",o.year())):(n.start.imply("day",o.date()),n.start.imply("month",o.month()+1),n.start.imply("year",o.year())),n}};Pa.default=eh});var oT=O(Aa=>{"use strict";var uN=Aa&&Aa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Aa,"__esModule",{value:!0});var lN=uN($r()),th=class extends lN.default{patternBetween(){return/^\s*(至|到|-|~|～|－|ー)\s*$/i}};Aa.default=th});var uT=O(Na=>{"use strict";var cN=Na&&Na.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Na,"__esModule",{value:!0});var dN=cN(un()),rh=class extends dN.default{patternBetween(){return/^\s*$/i}};Na.default=rh});var lT=O(ct=>{"use strict";var mn=ct&&ct.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ct,"__esModule",{value:!0});ct.createConfiguration=ct.createCasualConfiguration=ct.parseDate=ct.parse=ct.strict=ct.casual=ct.hans=void 0;var nh=xr(),fN=mn(Uo()),hN=ln(),pN=mn(Q_()),mN=mn(J_()),yN=mn(tT()),gN=mn(nT()),_N=mn(sT()),TN=mn(aT()),bN=mn(oT()),vN=mn(uT());ct.hans=new nh.Chrono(sh());ct.casual=new nh.Chrono(sh());ct.strict=new nh.Chrono(ih());function wN(r,e,t){return ct.casual.parse(r,e,t)}ct.parse=wN;function kN(r,e,t){return ct.casual.parseDate(r,e,t)}ct.parseDate=kN;function sh(){let r=ih();return r.parsers.unshift(new pN.default),r}ct.createCasualConfiguration=sh;function ih(){let r=hN.includeCommonConfiguration({parsers:[new mN.default,new gN.default,new TN.default,new _N.default,new yN.default],refiners:[new bN.default,new vN.default]});return r.refiners=r.refiners.filter(e=>!(e instanceof fN.default)),r}ct.createConfiguration=ih});var dT=O(nr=>{"use strict";var cT=nr&&nr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),EN=nr&&nr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),DN=nr&&nr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&cT(e,r,t)},SN=nr&&nr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&cT(e,r,t);return EN(e,r),e};Object.defineProperty(nr,"__esModule",{value:!0});nr.hans=void 0;DN(z_(),nr);nr.hans=SN(lT())});var Qt=O(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.parseTimeUnits=pe.TIME_UNITS_PATTERN=pe.parseYear=pe.YEAR_PATTERN=pe.parseOrdinalNumberPattern=pe.ORDINAL_NUMBER_PATTERN=pe.parseNumberPattern=pe.NUMBER_PATTERN=pe.TIME_UNIT_DICTIONARY=pe.ORDINAL_WORD_DICTIONARY=pe.INTEGER_WORD_DICTIONARY=pe.MONTH_DICTIONARY=pe.FULL_MONTH_NAME_DICTIONARY=pe.WEEKDAY_DICTIONARY=pe.REGEX_PARTS=void 0;var gu=Fe(),ON=At();pe.REGEX_PARTS={leftBoundary:"([^\\p{L}\\p{N}_]|^)",rightBoundary:"(?=[^\\p{L}\\p{N}_]|$)",flags:"iu"};pe.WEEKDAY_DICTIONARY={\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435:0,\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u044F:0,\u0432\u0441\u043A:0,"\u0432\u0441\u043A.":0,\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A:1,\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A\u0430:1,\u043F\u043D:1,"\u043F\u043D.":1,\u0432\u0442\u043E\u0440\u043D\u0438\u043A:2,\u0432\u0442\u043E\u0440\u043D\u0438\u043A\u0430:2,\u0432\u0442:2,"\u0432\u0442.":2,\u0441\u0440\u0435\u0434\u0430:3,\u0441\u0440\u0435\u0434\u044B:3,\u0441\u0440\u0435\u0434\u0443:3,\u0441\u0440:3,"\u0441\u0440.":3,\u0447\u0435\u0442\u0432\u0435\u0440\u0433:4,\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430:4,\u0447\u0442:4,"\u0447\u0442.":4,\u043F\u044F\u0442\u043D\u0438\u0446\u0430:5,\u043F\u044F\u0442\u043D\u0438\u0446\u0443:5,\u043F\u044F\u0442\u043D\u0438\u0446\u044B:5,\u043F\u0442:5,"\u043F\u0442.":5,\u0441\u0443\u0431\u0431\u043E\u0442\u0430:6,\u0441\u0443\u0431\u0431\u043E\u0442\u0443:6,\u0441\u0443\u0431\u0431\u043E\u0442\u044B:6,\u0441\u0431:6,"\u0441\u0431.":6};pe.FULL_MONTH_NAME_DICTIONARY={\u044F\u043D\u0432\u0430\u0440\u044C:1,\u044F\u043D\u0432\u0430\u0440\u044F:1,\u044F\u043D\u0432\u0430\u0440\u0435:1,\u0444\u0435\u0432\u0440\u044F\u043B\u044C:2,\u0444\u0435\u0432\u0440\u044F\u043B\u044F:2,\u0444\u0435\u0432\u0440\u044F\u043B\u0435:2,\u043C\u0430\u0440\u0442:3,\u043C\u0430\u0440\u0442\u0430:3,\u043C\u0430\u0440\u0442\u0435:3,\u0430\u043F\u0440\u0435\u043B\u044C:4,\u0430\u043F\u0440\u0435\u043B\u044F:4,\u0430\u043F\u0440\u0435\u043B\u0435:4,\u043C\u0430\u0439:5,\u043C\u0430\u044F:5,\u043C\u0430\u0435:5,\u0438\u044E\u043D\u044C:6,\u0438\u044E\u043D\u044F:6,\u0438\u044E\u043D\u0435:6,\u0438\u044E\u043B\u044C:7,\u0438\u044E\u043B\u044F:7,\u0438\u044E\u043B\u0435:7,\u0430\u0432\u0433\u0443\u0441\u0442:8,\u0430\u0432\u0433\u0443\u0441\u0442\u0430:8,\u0430\u0432\u0433\u0443\u0441\u0442\u0435:8,\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044C:9,\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F:9,\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u0435:9,\u043E\u043A\u0442\u044F\u0431\u0440\u044C:10,\u043E\u043A\u0442\u044F\u0431\u0440\u044F:10,\u043E\u043A\u0442\u044F\u0431\u0440\u0435:10,\u043D\u043E\u044F\u0431\u0440\u044C:11,\u043D\u043E\u044F\u0431\u0440\u044F:11,\u043D\u043E\u044F\u0431\u0440\u0435:11,\u0434\u0435\u043A\u0430\u0431\u0440\u044C:12,\u0434\u0435\u043A\u0430\u0431\u0440\u044F:12,\u0434\u0435\u043A\u0430\u0431\u0440\u0435:12};pe.MONTH_DICTIONARY=Object.assign(Object.assign({},pe.FULL_MONTH_NAME_DICTIONARY),{\u044F\u043D\u0432:1,"\u044F\u043D\u0432.":1,\u0444\u0435\u0432:2,"\u0444\u0435\u0432.":2,\u043C\u0430\u0440:3,"\u043C\u0430\u0440.":3,\u0430\u043F\u0440:4,"\u0430\u043F\u0440.":4,\u0430\u0432\u0433:8,"\u0430\u0432\u0433.":8,\u0441\u0435\u043D:9,"\u0441\u0435\u043D.":9,\u043E\u043A\u0442:10,"\u043E\u043A\u0442.":10,\u043D\u043E\u044F:11,"\u043D\u043E\u044F.":11,\u0434\u0435\u043A:12,"\u0434\u0435\u043A.":12});pe.INTEGER_WORD_DICTIONARY={\u043E\u0434\u0438\u043D:1,\u043E\u0434\u043D\u0430:1,\u043E\u0434\u043D\u043E\u0439:1,\u043E\u0434\u043D\u0443:1,\u0434\u0432\u0435:2,\u0434\u0432\u0430:2,\u0434\u0432\u0443\u0445:2,\u0442\u0440\u0438:3,\u0442\u0440\u0435\u0445:3,\u0442\u0440\u0451\u0445:3,\u0447\u0435\u0442\u044B\u0440\u0435:4,\u0447\u0435\u0442\u044B\u0440\u0435\u0445:4,\u0447\u0435\u0442\u044B\u0440\u0451\u0445:4,\u043F\u044F\u0442\u044C:5,\u043F\u044F\u0442\u0438:5,\u0448\u0435\u0441\u0442\u044C:6,\u0448\u0435\u0441\u0442\u0438:6,\u0441\u0435\u043C\u044C:7,\u0441\u0435\u043C\u0438:7,\u0432\u043E\u0441\u0435\u043C\u044C:8,\u0432\u043E\u0441\u0435\u043C\u044C\u043C\u0438:8,\u0434\u0435\u0432\u044F\u0442\u044C:9,\u0434\u0435\u0432\u044F\u0442\u0438:9,\u0434\u0435\u0441\u044F\u0442\u044C:10,\u0434\u0435\u0441\u044F\u0442\u0438:10,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u044C:11,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u0438:11,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u044C:12,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u0438:12};pe.ORDINAL_WORD_DICTIONARY={\u043F\u0435\u0440\u0432\u043E\u0435:1,\u043F\u0435\u0440\u0432\u043E\u0433\u043E:1,\u0432\u0442\u043E\u0440\u043E\u0435:2,\u0432\u0442\u043E\u0440\u043E\u0433\u043E:2,\u0442\u0440\u0435\u0442\u044C\u0435:3,\u0442\u0440\u0435\u0442\u044C\u0435\u0433\u043E:3,\u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0435:4,\u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0433\u043E:4,\u043F\u044F\u0442\u043E\u0435:5,\u043F\u044F\u0442\u043E\u0433\u043E:5,\u0448\u0435\u0441\u0442\u043E\u0435:6,\u0448\u0435\u0441\u0442\u043E\u0433\u043E:6,\u0441\u0435\u0434\u044C\u043C\u043E\u0435:7,\u0441\u0435\u0434\u044C\u043C\u043E\u0433\u043E:7,\u0432\u043E\u0441\u044C\u043C\u043E\u0435:8,\u0432\u043E\u0441\u044C\u043C\u043E\u0433\u043E:8,\u0434\u0435\u0432\u044F\u0442\u043E\u0435:9,\u0434\u0435\u0432\u044F\u0442\u043E\u0433\u043E:9,\u0434\u0435\u0441\u044F\u0442\u043E\u0435:10,\u0434\u0435\u0441\u044F\u0442\u043E\u0433\u043E:10,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:11,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:11,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:12,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:12,\u0442\u0440\u0438\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:13,\u0442\u0440\u0438\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:13,\u0447\u0435\u0442\u044B\u0440\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:14,\u0447\u0435\u0442\u044B\u0440\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:14,\u043F\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:15,\u043F\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:15,\u0448\u0435\u0441\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:16,\u0448\u0435\u0441\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:16,\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:17,\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:17,\u0432\u043E\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:18,\u0432\u043E\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:18,\u0434\u0435\u0432\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:19,\u0434\u0435\u0432\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:19,\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u043E\u0435:20,\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:20,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0435":21,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0433\u043E":21,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u0442\u043E\u0440\u043E\u0435":22,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u0442\u043E\u0440\u043E\u0433\u043E":22,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0442\u0440\u0435\u0442\u044C\u0435":23,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0442\u0440\u0435\u0442\u044C\u0435\u0433\u043E":23,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0435":24,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0433\u043E":24,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u044F\u0442\u043E\u0435":25,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u044F\u0442\u043E\u0433\u043E":25,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0448\u0435\u0441\u0442\u043E\u0435":26,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0448\u0435\u0441\u0442\u043E\u0433\u043E":26,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0441\u0435\u0434\u044C\u043C\u043E\u0435":27,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0441\u0435\u0434\u044C\u043C\u043E\u0433\u043E":27,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u043E\u0441\u044C\u043C\u043E\u0435":28,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u043E\u0441\u044C\u043C\u043E\u0433\u043E":28,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0434\u0435\u0432\u044F\u0442\u043E\u0435":29,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0434\u0435\u0432\u044F\u0442\u043E\u0433\u043E":29,\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u043E\u0435:30,\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u043E\u0433\u043E:30,"\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0435":31,"\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0433\u043E":31};pe.TIME_UNIT_DICTIONARY={\u0441\u0435\u043A:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u0430:"second",\u0441\u0435\u043A\u0443\u043D\u0434:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u044B:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u0443:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u043A\u0430:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u043A\u0438:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u0435\u043A:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u043A\u0443:"second",\u043C\u0438\u043D:"minute",\u043C\u0438\u043D\u0443\u0442\u0430:"minute",\u043C\u0438\u043D\u0443\u0442:"minute",\u043C\u0438\u043D\u0443\u0442\u044B:"minute",\u043C\u0438\u043D\u0443\u0442\u0443:"minute",\u043C\u0438\u043D\u0443\u0442\u043E\u043A:"minute",\u043C\u0438\u043D\u0443\u0442\u043A\u0438:"minute",\u043C\u0438\u043D\u0443\u0442\u043A\u0443:"minute",\u0447\u0430\u0441:"hour",\u0447\u0430\u0441\u043E\u0432:"hour",\u0447\u0430\u0441\u0430:"hour",\u0447\u0430\u0441\u0443:"hour",\u0447\u0430\u0441\u0438\u043A\u043E\u0432:"hour",\u0447\u0430\u0441\u0438\u043A\u0430:"hour",\u0447\u0430\u0441\u0438\u043A\u0435:"hour",\u0447\u0430\u0441\u0438\u043A:"hour",\u0434\u0435\u043D\u044C:"d",\u0434\u043D\u044F:"d",\u0434\u043D\u0435\u0439:"d",\u0441\u0443\u0442\u043E\u043A:"d",\u0441\u0443\u0442\u043A\u0438:"d",\u043D\u0435\u0434\u0435\u043B\u044F:"week",\u043D\u0435\u0434\u0435\u043B\u0435:"week",\u043D\u0435\u0434\u0435\u043B\u0438:"week",\u043D\u0435\u0434\u0435\u043B\u044E:"week",\u043D\u0435\u0434\u0435\u043B\u044C:"week",\u043D\u0435\u0434\u0435\u043B\u044C\u043A\u0435:"week",\u043D\u0435\u0434\u0435\u043B\u044C\u043A\u0438:"week",\u043D\u0435\u0434\u0435\u043B\u0435\u043A:"week",\u043C\u0435\u0441\u044F\u0446:"month",\u043C\u0435\u0441\u044F\u0446\u0435:"month",\u043C\u0435\u0441\u044F\u0446\u0435\u0432:"month",\u043C\u0435\u0441\u044F\u0446\u0430:"month",\u043A\u0432\u0430\u0440\u0442\u0430\u043B:"quarter",\u043A\u0432\u0430\u0440\u0442\u0430\u043B\u0435:"quarter",\u043A\u0432\u0430\u0440\u0442\u0430\u043B\u043E\u0432:"quarter",\u0433\u043E\u0434:"year",\u0433\u043E\u0434\u0430:"year",\u0433\u043E\u0434\u0443:"year",\u0433\u043E\u0434\u043E\u0432:"year",\u043B\u0435\u0442:"year",\u0433\u043E\u0434\u0438\u043A:"year",\u0433\u043E\u0434\u0438\u043A\u0430:"year",\u0433\u043E\u0434\u0438\u043A\u043E\u0432:"year"};pe.NUMBER_PATTERN=`(?:${gu.matchAnyPattern(pe.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|\u043F\u043E\u043B|\u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E|\u043F\u0430\u0440(?:\u044B|\u0443)|\\s{0,3})`;function hT(r){let e=r.toLowerCase();return pe.INTEGER_WORD_DICTIONARY[e]!==void 0?pe.INTEGER_WORD_DICTIONARY[e]:e.match(/несколько/)?3:e.match(/пол/)?.5:e.match(/пар/)?2:e===""?1:parseFloat(e)}pe.parseNumberPattern=hT;pe.ORDINAL_NUMBER_PATTERN=`(?:${gu.matchAnyPattern(pe.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:\u0433\u043E|\u043E\u0433\u043E|\u0435|\u043E\u0435)?)`;function MN(r){let e=r.toLowerCase();return pe.ORDINAL_WORD_DICTIONARY[e]!==void 0?pe.ORDINAL_WORD_DICTIONARY[e]:(e=e.replace(/(?:st|nd|rd|th)$/i,""),parseInt(e))}pe.parseOrdinalNumberPattern=MN;var ah="(?:\\s+(?:\u0433\u043E\u0434\u0443|\u0433\u043E\u0434\u0430|\u0433\u043E\u0434|\u0433|\u0433.))?";pe.YEAR_PATTERN=`(?:[1-9][0-9]{0,3}${ah}\\s*(?:\u043D.\u044D.|\u0434\u043E \u043D.\u044D.|\u043D. \u044D.|\u0434\u043E \u043D. \u044D.)|[1-2][0-9]{3}${ah}|[5-9][0-9]${ah})`;function RN(r){if(/(год|года|г|г.)/i.test(r)&&(r=r.replace(/(год|года|г|г.)/i,"")),/(до н.э.|до н. э.)/i.test(r))return r=r.replace(/(до н.э.|до н. э.)/i,""),-parseInt(r);if(/(н. э.|н.э.)/i.test(r))return r=r.replace(/(н. э.|н.э.)/i,""),parseInt(r);let e=parseInt(r);return ON.findMostLikelyADYear(e)}pe.parseYear=RN;var pT=`(${pe.NUMBER_PATTERN})\\s{0,3}(${gu.matchAnyPattern(pe.TIME_UNIT_DICTIONARY)})`,fT=new RegExp(pT,"i");pe.TIME_UNITS_PATTERN=gu.repeatedTimeunitPattern("(?:(?:\u043E\u043A\u043E\u043B\u043E|\u043F\u0440\u0438\u043C\u0435\u0440\u043D\u043E)\\s{0,3})?",pT);function xN(r){let e={},t=r,n=fT.exec(t);for(;n;)PN(e,n),t=t.substring(n[0].length).trim(),n=fT.exec(t);return e}pe.parseTimeUnits=xN;function PN(r,e){let t=hT(e[1]),n=pe.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var yT=O(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});var Ca=Qt(),AN=st(),NN=Z(),mT=`(?:(?:\u043E\u043A\u043E\u043B\u043E|\u043F\u0440\u0438\u043C\u0435\u0440\u043D\u043E)\\s*(?:~\\s*)?)?(${Ca.TIME_UNITS_PATTERN})${Ca.REGEX_PARTS.rightBoundary}`,CN=new RegExp(`(?:\u0432 \u0442\u0435\u0447\u0435\u043D\u0438\u0435|\u0432 \u0442\u0435\u0447\u0435\u043D\u0438\u0438)\\s*${mT}`,Ca.REGEX_PARTS.flags),IN=new RegExp(mT,"i"),oh=class extends NN.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Ca.REGEX_PARTS.leftBoundary}innerPattern(e){return e.option.forwardDate?IN:CN}innerExtract(e,t){let n=Ca.parseTimeUnits(t[1]);return AN.ParsingComponents.createRelativeFromReference(e.reference,n)}};uh.default=oh});var vT=O(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});var FN=At(),Ia=Qt(),bT=Qt(),_u=Qt(),LN=Fe(),YN=Z(),UN=new RegExp(`(?:\u0441)?\\s*(${_u.ORDINAL_NUMBER_PATTERN})(?:\\s{0,3}(?:\u043F\u043E|-|\u2013|\u0434\u043E)?\\s{0,3}(${_u.ORDINAL_NUMBER_PATTERN}))?(?:-|\\/|\\s{0,3}(?:of)?\\s{0,3})(${LN.matchAnyPattern(Ia.MONTH_DICTIONARY)})(?:(?:-|\\/|,?\\s{0,3})(${bT.YEAR_PATTERN}(?![^\\s]\\d)))?${Ia.REGEX_PARTS.rightBoundary}`,Ia.REGEX_PARTS.flags),gT=1,_T=2,WN=3,TT=4,lh=class extends YN.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Ia.REGEX_PARTS.leftBoundary}innerPattern(){return UN}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=Ia.MONTH_DICTIONARY[t[WN].toLowerCase()],a=_u.parseOrdinalNumberPattern(t[gT]);if(a>31)return t.index=t.index+t[gT].length,null;if(n.start.assign("month",s),n.start.assign("day",a),t[TT]){let o=bT.parseYear(t[TT]);n.start.assign("year",o)}else{let o=FN.findYearClosestToRef(e.refDate,a,s);n.start.imply("year",o)}if(t[_T]){let o=_u.parseOrdinalNumberPattern(t[_T]);n.end=n.start.clone(),n.end.assign("day",o)}return n}};ch.default=lh});var ET=O(fh=>{"use strict";Object.defineProperty(fh,"__esModule",{value:!0});var Fa=Qt(),qN=At(),jN=Fe(),kT=Qt(),$N=Z(),GN=new RegExp(`((?:\u0432)\\s*)?(${jN.matchAnyPattern(Fa.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${kT.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,Fa.REGEX_PARTS.flags),HN=2,wT=3,dh=class extends $N.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Fa.REGEX_PARTS.leftBoundary}innerPattern(){return GN}innerExtract(e,t){let n=t[HN].toLowerCase();if(t[0].length<=3&&!Fa.FULL_MONTH_NAME_DICTIONARY[n])return null;let s=e.createParsingResult(t.index,t.index+t[0].length);s.start.imply("day",1);let a=Fa.MONTH_DICTIONARY[n];if(s.start.assign("month",a),t[wT]){let o=kT.parseYear(t[wT]);s.start.assign("year",o)}else{let o=qN.findYearClosestToRef(e.refDate,1,a);s.start.imply("year",o)}return s}};fh.default=dh});var ST=O(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});var Tu=gt(),BN=ds(),DT=Qt(),hh=class extends BN.AbstractTimeExpressionParser{constructor(e){super(e)}patternFlags(){return DT.REGEX_PARTS.flags}primaryPatternLeftBoundary(){return"(^|\\s|T|(?:[^\\p{L}\\p{N}_]))"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|\u0434\u043E|\u0438|\u043F\u043E|\\?)\\s*"}primaryPrefix(){return"(?:(?:\u0432|\u0441)\\s*)??"}primarySuffix(){return`(?:\\s*(?:\u0443\u0442\u0440\u0430|\u0432\u0435\u0447\u0435\u0440\u0430|\u043F\u043E\u0441\u043B\u0435 \u043F\u043E\u043B\u0443\u0434\u043D\u044F))?(?!\\/)${DT.REGEX_PARTS.rightBoundary}`}extractPrimaryTimeComponents(e,t){let n=super.extractPrimaryTimeComponents(e,t);if(n){if(t[0].endsWith("\u0432\u0435\u0447\u0435\u0440\u0430")){let s=n.get("hour");s>=6&&s<12?(n.assign("hour",n.get("hour")+12),n.assign("meridiem",Tu.Meridiem.PM)):s<6&&n.assign("meridiem",Tu.Meridiem.AM)}if(t[0].endsWith("\u043F\u043E\u0441\u043B\u0435 \u043F\u043E\u043B\u0443\u0434\u043D\u044F")){n.assign("meridiem",Tu.Meridiem.PM);let s=n.get("hour");s>=0&&s<=6&&n.assign("hour",n.get("hour")+12)}t[0].endsWith("\u0443\u0442\u0440\u0430")&&(n.assign("meridiem",Tu.Meridiem.AM),n.get("hour")<12&&n.assign("hour",n.get("hour")))}return n}};ph.default=hh});var OT=O(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});var bu=Qt(),zN=st(),VN=Z(),KN=gr(),ZN=new RegExp(`(${bu.TIME_UNITS_PATTERN})\\s{0,5}\u043D\u0430\u0437\u0430\u0434(?=(?:\\W|$))`,bu.REGEX_PARTS.flags),mh=class extends VN.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return bu.REGEX_PARTS.leftBoundary}innerPattern(){return ZN}innerExtract(e,t){let n=bu.parseTimeUnits(t[1]),s=KN.reverseTimeUnits(n);return zN.ParsingComponents.createRelativeFromReference(e.reference,s)}};yh.default=mh});var MT=O(La=>{"use strict";var QN=La&&La.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(La,"__esModule",{value:!0});var XN=QN($r()),gh=class extends XN.default{patternBetween(){return/^\s*(и до|и по|до|по|-)\s*$/i}};La.default=gh});var RT=O(Ya=>{"use strict";var JN=Ya&&Ya.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ya,"__esModule",{value:!0});var eC=JN(un()),_h=class extends eC.default{patternBetween(){return new RegExp("^\\s*(T|\u0432|,|-)?\\s*$")}};Ya.default=_h});var xT=O(yn=>{"use strict";var tC=yn&&yn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),rC=yn&&yn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),nC=yn&&yn.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&tC(e,r,t);return rC(e,r),e};Object.defineProperty(yn,"__esModule",{value:!0});var sC=Z(),Ua=nC(dn()),Th=Qt(),iC=new RegExp(`(?:\u0441|\u0441\u043E)?\\s*(\u0441\u0435\u0433\u043E\u0434\u043D\u044F|\u0432\u0447\u0435\u0440\u0430|\u0437\u0430\u0432\u0442\u0440\u0430|\u043F\u043E\u0441\u043B\u0435\u0437\u0430\u0432\u0442\u0440\u0430|\u043F\u043E\u0437\u0430\u0432\u0447\u0435\u0440\u0430)${Th.REGEX_PARTS.rightBoundary}`,Th.REGEX_PARTS.flags),bh=class extends sC.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Th.REGEX_PARTS.leftBoundary}innerPattern(e){return iC}innerExtract(e,t){let n=t[1].toLowerCase(),s=e.createParsingComponents();switch(n){case"\u0441\u0435\u0433\u043E\u0434\u043D\u044F":return Ua.today(e.reference);case"\u0432\u0447\u0435\u0440\u0430":return Ua.yesterday(e.reference);case"\u0437\u0430\u0432\u0442\u0440\u0430":return Ua.tomorrow(e.reference);case"\u043F\u043E\u0441\u043B\u0435\u0437\u0430\u0432\u0442\u0440\u0430":return Ua.theDayAfter(e.reference,2);case"\u043F\u043E\u0437\u0430\u0432\u0447\u0435\u0440\u0430":return Ua.theDayBefore(e.reference,2)}return s}};yn.default=bh});var PT=O(Ir=>{"use strict";var aC=Ir&&Ir.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),oC=Ir&&Ir.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),uC=Ir&&Ir.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&aC(e,r,t);return oC(e,r),e},lC=Ir&&Ir.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ir,"__esModule",{value:!0});var cC=Z(),Ts=uC(dn()),dC=yr(),fC=lC(Re()),vh=Qt(),hC=new RegExp(`(\u0441\u0435\u0439\u0447\u0430\u0441|\u043F\u0440\u043E\u0448\u043B\u044B\u043C\\s*\u0432\u0435\u0447\u0435\u0440\u043E\u043C|\u043F\u0440\u043E\u0448\u043B\u043E\u0439\\s*\u043D\u043E\u0447\u044C\u044E|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439\\s*\u043D\u043E\u0447\u044C\u044E|\u0441\u0435\u0433\u043E\u0434\u043D\u044F\\s*\u043D\u043E\u0447\u044C\u044E|\u044D\u0442\u043E\u0439\\s*\u043D\u043E\u0447\u044C\u044E|\u043D\u043E\u0447\u044C\u044E|\u044D\u0442\u0438\u043C \u0443\u0442\u0440\u043E\u043C|\u0443\u0442\u0440\u043E\u043C|\u0443\u0442\u0440\u0430|\u0432\\s*\u043F\u043E\u043B\u0434\u0435\u043D\u044C|\u0432\u0435\u0447\u0435\u0440\u043E\u043C|\u0432\u0435\u0447\u0435\u0440\u0430|\u0432\\s*\u043F\u043E\u043B\u043D\u043E\u0447\u044C)${vh.REGEX_PARTS.rightBoundary}`,vh.REGEX_PARTS.flags),wh=class extends cC.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return vh.REGEX_PARTS.leftBoundary}innerPattern(){return hC}innerExtract(e,t){let n=fC.default(e.refDate),s=t[0].toLowerCase(),a=e.createParsingComponents();if(s==="\u0441\u0435\u0439\u0447\u0430\u0441")return Ts.now(e.reference);if(s==="\u0432\u0435\u0447\u0435\u0440\u043E\u043C"||s==="\u0432\u0435\u0447\u0435\u0440\u0430")return Ts.evening(e.reference);if(s.endsWith("\u0443\u0442\u0440\u043E\u043C")||s.endsWith("\u0443\u0442\u0440\u0430"))return Ts.morning(e.reference);if(s.match(/в\s*полдень/))return Ts.noon(e.reference);if(s.match(/прошлой\s*ночью/))return Ts.lastNight(e.reference);if(s.match(/прошлым\s*вечером/))return Ts.yesterdayEvening(e.reference);if(s.match(/следующей\s*ночью/)){let o=n.hour()<22?1:2;n=n.add(o,"day"),dC.assignSimilarDate(a,n),a.imply("hour",0)}return s.match(/в\s*полночь/)||s.endsWith("\u043D\u043E\u0447\u044C\u044E")?Ts.midnight(e.reference):a}};Ir.default=wh});var AT=O(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});var Wa=Qt(),pC=Fe(),mC=Z(),yC=hs(),gC=new RegExp(`(?:(?:,|\\(|\uFF08)\\s*)?(?:\u0432\\s*?)?(?:(\u044D\u0442\u0443|\u044D\u0442\u043E\u0442|\u043F\u0440\u043E\u0448\u043B\u044B\u0439|\u043F\u0440\u043E\u0448\u043B\u0443\u044E|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0443\u044E|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0433\u043E)\\s*)?(${pC.matchAnyPattern(Wa.WEEKDAY_DICTIONARY)})(?:\\s*(?:,|\\)|\uFF09))?(?:\\s*\u043D\u0430\\s*(\u044D\u0442\u043E\u0439|\u043F\u0440\u043E\u0448\u043B\u043E\u0439|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439)\\s*\u043D\u0435\u0434\u0435\u043B\u0435)?${Wa.REGEX_PARTS.rightBoundary}`,Wa.REGEX_PARTS.flags),_C=1,TC=2,bC=3,kh=class extends mC.AbstractParserWithWordBoundaryChecking{innerPattern(){return gC}patternLeftBoundary(){return Wa.REGEX_PARTS.leftBoundary}innerExtract(e,t){let n=t[TC].toLowerCase(),s=Wa.WEEKDAY_DICTIONARY[n],a=t[_C],o=t[bC],l=a||o;l=l||"",l=l.toLowerCase();let c=null;l=="\u043F\u0440\u043E\u0448\u043B\u044B\u0439"||l=="\u043F\u0440\u043E\u0448\u043B\u0443\u044E"||l=="\u043F\u0440\u043E\u0448\u043B\u043E\u0439"?c="last":l=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439"||l=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0443\u044E"||l=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439"||l=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0433\u043E"?c="next":(l=="\u044D\u0442\u043E\u0442"||l=="\u044D\u0442\u0443"||l=="\u044D\u0442\u043E\u0439")&&(c="this");let f=yC.toDayJSWeekday(e.refDate,s,c);return e.createParsingComponents().assign("weekday",s).imply("day",f.date()).imply("month",f.month()+1).imply("year",f.year())}};Eh.default=kh});var CT=O(ja=>{"use strict";var vC=ja&&ja.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ja,"__esModule",{value:!0});var qa=Qt(),NT=st(),wC=vC(Re()),kC=Z(),EC=Fe(),DC=new RegExp(`(\u0432 \u043F\u0440\u043E\u0448\u043B\u043E\u043C|\u043D\u0430 \u043F\u0440\u043E\u0448\u043B\u043E\u0439|\u043D\u0430 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439|\u0432 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u043C|\u043D\u0430 \u044D\u0442\u043E\u0439|\u0432 \u044D\u0442\u043E\u043C)\\s*(${EC.matchAnyPattern(qa.TIME_UNIT_DICTIONARY)})(?=\\s*)${qa.REGEX_PARTS.rightBoundary}`,qa.REGEX_PARTS.flags),SC=1,OC=2,Dh=class extends kC.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return qa.REGEX_PARTS.leftBoundary}innerPattern(){return DC}innerExtract(e,t){let n=t[SC].toLowerCase(),s=t[OC].toLowerCase(),a=qa.TIME_UNIT_DICTIONARY[s];if(n=="\u043D\u0430 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439"||n=="\u0432 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u043C"){let c={};return c[a]=1,NT.ParsingComponents.createRelativeFromReference(e.reference,c)}if(n=="\u0432 \u043F\u0440\u043E\u0448\u043B\u043E\u043C"||n=="\u043D\u0430 \u043F\u0440\u043E\u0448\u043B\u043E\u0439"){let c={};return c[a]=-1,NT.ParsingComponents.createRelativeFromReference(e.reference,c)}let o=e.createParsingComponents(),l=wC.default(e.reference.instant);return a.match(/week/i)?(l=l.add(-l.get("d"),"d"),o.imply("day",l.date()),o.imply("month",l.month()+1),o.imply("year",l.year())):a.match(/month/i)?(l=l.add(-l.date()+1,"d"),o.imply("day",l.date()),o.assign("year",l.year()),o.assign("month",l.month()+1)):a.match(/year/i)&&(l=l.add(-l.date()+1,"d"),l=l.add(-l.month(),"month"),o.imply("day",l.date()),o.imply("month",l.month()+1),o.assign("year",l.year())),o}};ja.default=Dh});var IT=O(Oh=>{"use strict";Object.defineProperty(Oh,"__esModule",{value:!0});var $a=Qt(),MC=st(),RC=Z(),xC=gr(),PC=new RegExp(`(\u044D\u0442\u0438|\u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435|\u043F\u0440\u043E\u0448\u043B\u044B\u0435|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0435|\u043F\u043E\u0441\u043B\u0435|\u0447\u0435\u0440\u0435\u0437|\\+|-)\\s*(${$a.TIME_UNITS_PATTERN})${$a.REGEX_PARTS.rightBoundary}`,$a.REGEX_PARTS.flags),Sh=class extends RC.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return $a.REGEX_PARTS.leftBoundary}innerPattern(){return PC}innerExtract(e,t){let n=t[1].toLowerCase(),s=$a.parseTimeUnits(t[2]);switch(n){case"\u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435":case"\u043F\u0440\u043E\u0448\u043B\u044B\u0435":case"-":s=xC.reverseTimeUnits(s);break}return MC.ParsingComponents.createRelativeFromReference(e.reference,s)}};Oh.default=Sh});var YT=O(Mt=>{"use strict";var sr=Mt&&Mt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.createConfiguration=Mt.createCasualConfiguration=Mt.parseDate=Mt.parse=Mt.strict=Mt.casual=void 0;var AC=sr(yT()),NC=sr(vT()),CC=sr(ET()),IC=sr(ST()),FC=sr(OT()),LC=sr(MT()),YC=sr(RT()),UC=ln(),WC=sr(xT()),qC=sr(PT()),jC=sr(AT()),$C=sr(CT()),FT=xr(),GC=sr(ps()),HC=sr(IT());Mt.casual=new FT.Chrono(LT());Mt.strict=new FT.Chrono(Mh(!0));function BC(r,e,t){return Mt.casual.parse(r,e,t)}Mt.parse=BC;function zC(r,e,t){return Mt.casual.parseDate(r,e,t)}Mt.parseDate=zC;function LT(){let r=Mh(!1);return r.parsers.unshift(new WC.default),r.parsers.unshift(new qC.default),r.parsers.unshift(new CC.default),r.parsers.unshift(new $C.default),r.parsers.unshift(new HC.default),r}Mt.createCasualConfiguration=LT;function Mh(r=!0){return UC.includeCommonConfiguration({parsers:[new GC.default(!0),new AC.default,new NC.default,new jC.default,new IC.default(r),new FC.default],refiners:[new YC.default,new LC.default]},r)}Mt.createConfiguration=Mh});var gt=O(be=>{"use strict";var VC=be&&be.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),KC=be&&be.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),jn=be&&be.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&VC(e,r,t);return KC(e,r),e};Object.defineProperty(be,"__esModule",{value:!0});be.parseDate=be.parse=be.casual=be.strict=be.ru=be.zh=be.nl=be.pt=be.ja=be.fr=be.de=be.Meridiem=be.Chrono=be.en=void 0;var Rh=jn(Hc());be.en=Rh;var ZC=xr();Object.defineProperty(be,"Chrono",{enumerable:!0,get:function(){return ZC.Chrono}});var QC;(function(r){r[r.AM=0]="AM",r[r.PM=1]="PM"})(QC=be.Meridiem||(be.Meridiem={}));var XC=jn(zy());be.de=XC;var JC=jn(wg());be.fr=JC;var eI=jn(Pg());be.ja=eI;var tI=jn(zg());be.pt=tI;var rI=jn(P_());be.nl=rI;var nI=jn(dT());be.zh=nI;var sI=jn(YT());be.ru=sI;be.strict=Rh.strict;be.casual=Rh.casual;function iI(r,e,t){return be.casual.parse(r,e,t)}be.parse=iI;function aI(r,e,t){return be.casual.parseDate(r,e,t)}be.parseDate=aI});var vu=O((xh,ci)=>{(function(r,e){typeof xh=="object"&&typeof ci!="undefined"?ci.exports=e():typeof define=="function"&&define.amd?define(e):r.moment=e()})(xh,function(){"use strict";var r;function e(){return r.apply(null,arguments)}function t(i){r=i}function n(i){return i instanceof Array||Object.prototype.toString.call(i)==="[object Array]"}function s(i){return i!=null&&Object.prototype.toString.call(i)==="[object Object]"}function a(i,u){return Object.prototype.hasOwnProperty.call(i,u)}function o(i){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(i).length===0;var u;for(u in i)if(a(i,u))return!1;return!0}function l(i){return i===void 0}function c(i){return typeof i=="number"||Object.prototype.toString.call(i)==="[object Number]"}function f(i){return i instanceof Date||Object.prototype.toString.call(i)==="[object Date]"}function p(i,u){var d=[],h,m=i.length;for(h=0;h<m;++h)d.push(u(i[h],h));return d}function g(i,u){for(var d in u)a(u,d)&&(i[d]=u[d]);return a(u,"toString")&&(i.toString=u.toString),a(u,"valueOf")&&(i.valueOf=u.valueOf),i}function T(i,u,d,h){return Yp(i,u,d,h,!0).utc()}function S(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function b(i){return i._pf==null&&(i._pf=S()),i._pf}var x;Array.prototype.some?x=Array.prototype.some:x=function(i){var u=Object(this),d=u.length>>>0,h;for(h=0;h<d;h++)if(h in u&&i.call(this,u[h],h,u))return!0;return!1};function C(i){if(i._isValid==null){var u=b(i),d=x.call(u.parsedDateParts,function(m){return m!=null}),h=!isNaN(i._d.getTime())&&u.overflow<0&&!u.empty&&!u.invalidEra&&!u.invalidMonth&&!u.invalidWeekday&&!u.weekdayMismatch&&!u.nullInput&&!u.invalidFormat&&!u.userInvalidated&&(!u.meridiem||u.meridiem&&d);if(i._strict&&(h=h&&u.charsLeftOver===0&&u.unusedTokens.length===0&&u.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(i))i._isValid=h;else return h}return i._isValid}function G(i){var u=T(NaN);return i!=null?g(b(u),i):b(u).userInvalidated=!0,u}var K=e.momentProperties=[],B=!1;function de(i,u){var d,h,m,v=K.length;if(l(u._isAMomentObject)||(i._isAMomentObject=u._isAMomentObject),l(u._i)||(i._i=u._i),l(u._f)||(i._f=u._f),l(u._l)||(i._l=u._l),l(u._strict)||(i._strict=u._strict),l(u._tzm)||(i._tzm=u._tzm),l(u._isUTC)||(i._isUTC=u._isUTC),l(u._offset)||(i._offset=u._offset),l(u._pf)||(i._pf=b(u)),l(u._locale)||(i._locale=u._locale),v>0)for(d=0;d<v;d++)h=K[d],m=u[h],l(m)||(i[h]=m);return i}function ue(i){de(this,i),this._d=new Date(i._d!=null?i._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),B===!1&&(B=!0,e.updateOffset(this),B=!1)}function ye(i){return i instanceof ue||i!=null&&i._isAMomentObject!=null}function Q(i){e.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+i)}function ee(i,u){var d=!0;return g(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,i),d){var h=[],m,v,R,re=arguments.length;for(v=0;v<re;v++){if(m="",typeof arguments[v]=="object"){m+=`
[`+v+"] ";for(R in arguments[0])a(arguments[0],R)&&(m+=R+": "+arguments[0][R]+", ");m=m.slice(0,-2)}else m=arguments[v];h.push(m)}Q(i+`
Arguments: `+Array.prototype.slice.call(h).join("")+`
`+new Error().stack),d=!1}return u.apply(this,arguments)},u)}var rt={};function Tt(i,u){e.deprecationHandler!=null&&e.deprecationHandler(i,u),rt[i]||(Q(u),rt[i]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function z(i){return typeof Function!="undefined"&&i instanceof Function||Object.prototype.toString.call(i)==="[object Function]"}function W(i){var u,d;for(d in i)a(i,d)&&(u=i[d],z(u)?this[d]=u:this["_"+d]=u);this._config=i,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function P(i,u){var d=g({},i),h;for(h in u)a(u,h)&&(s(i[h])&&s(u[h])?(d[h]={},g(d[h],i[h]),g(d[h],u[h])):u[h]!=null?d[h]=u[h]:delete d[h]);for(h in i)a(i,h)&&!a(u,h)&&s(i[h])&&(d[h]=g({},d[h]));return d}function te(i){i!=null&&this.set(i)}var Y;Object.keys?Y=Object.keys:Y=function(i){var u,d=[];for(u in i)a(i,u)&&d.push(u);return d};var le={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function y(i,u,d){var h=this._calendar[i]||this._calendar.sameElse;return z(h)?h.call(u,d):h}function _(i,u,d){var h=""+Math.abs(i),m=u-h.length,v=i>=0;return(v?d?"+":"":"-")+Math.pow(10,Math.max(0,m)).toString().substr(1)+h}var w=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,k=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,D={},M={};function E(i,u,d,h){var m=h;typeof h=="string"&&(m=function(){return this[h]()}),i&&(M[i]=m),u&&(M[u[0]]=function(){return _(m.apply(this,arguments),u[1],u[2])}),d&&(M[d]=function(){return this.localeData().ordinal(m.apply(this,arguments),i)})}function I(i){return i.match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"")}function A(i){var u=i.match(w),d,h;for(d=0,h=u.length;d<h;d++)M[u[d]]?u[d]=M[u[d]]:u[d]=I(u[d]);return function(m){var v="",R;for(R=0;R<h;R++)v+=z(u[R])?u[R].call(m,i):u[R];return v}}function N(i,u){return i.isValid()?(u=q(u,i.localeData()),D[u]=D[u]||A(u),D[u](i)):i.localeData().invalidDate()}function q(i,u){var d=5;function h(m){return u.longDateFormat(m)||m}for(k.lastIndex=0;d>=0&&k.test(i);)i=i.replace(k,h),k.lastIndex=0,d-=1;return i}var Ee={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ge(i){var u=this._longDateFormat[i],d=this._longDateFormat[i.toUpperCase()];return u||!d?u:(this._longDateFormat[i]=d.match(w).map(function(h){return h==="MMMM"||h==="MM"||h==="DD"||h==="dddd"?h.slice(1):h}).join(""),this._longDateFormat[i])}var fe="Invalid date";function Ie(){return this._invalidDate}var V="%d",qe=/\d{1,2}/;function ze(i){return this._ordinal.replace("%d",i)}var ht={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Or(i,u,d,h){var m=this._relativeTime[d];return z(m)?m(i,u,d,h):m.replace(/%d/i,i)}function nt(i,u){var d=this._relativeTime[i>0?"future":"past"];return z(d)?d(u):d.replace(/%s/i,u)}var je={};function pt(i,u){var d=i.toLowerCase();je[d]=je[d+"s"]=je[u]=i}function bt(i){return typeof i=="string"?je[i]||je[i.toLowerCase()]:void 0}function On(i){var u={},d,h;for(h in i)a(i,h)&&(d=bt(h),d&&(u[d]=i[h]));return u}var Ii={};function $e(i,u){Ii[i]=u}function Ws(i){var u=[],d;for(d in i)a(i,d)&&u.push({unit:d,priority:Ii[d]});return u.sort(function(h,m){return h.priority-m.priority}),u}function ts(i){return i%4===0&&i%100!==0||i%400===0}function mt(i){return i<0?Math.ceil(i)||0:Math.floor(i)}function he(i){var u=+i,d=0;return u!==0&&isFinite(u)&&(d=mt(u)),d}function Xr(i,u){return function(d){return d!=null?(rs(this,i,d),e.updateOffset(this,u),this):Pt(this,i)}}function Pt(i,u){return i.isValid()?i._d["get"+(i._isUTC?"UTC":"")+u]():NaN}function rs(i,u,d){i.isValid()&&!isNaN(d)&&(u==="FullYear"&&ts(i.year())&&i.month()===1&&i.date()===29?(d=he(d),i._d["set"+(i._isUTC?"UTC":"")+u](d,i.month(),go(d,i.month()))):i._d["set"+(i._isUTC?"UTC":"")+u](d))}function ho(i){return i=bt(i),z(this[i])?this[i]():this}function Wr(i,u){if(typeof i=="object"){i=On(i);var d=Ws(i),h,m=d.length;for(h=0;h<m;h++)this[d[h].unit](i[d[h].unit])}else if(i=bt(i),z(this[i]))return this[i](u);return this}var Mn=/\d/,vt=/\d\d/,Fi=/\d{3}/,dr=/\d{4}/,Jr=/[+-]?\d{6}/,Ye=/\d\d?/,Rn=/\d\d\d\d?/,qs=/\d\d\d\d\d\d?/,ns=/\d{1,3}/,xn=/\d{1,4}/,ss=/[+-]?\d{1,6}/,fr=/\d+/,Pn=/[+-]?\d+/,po=/Z|[+-]\d\d:?\d\d/gi,en=/Z|[+-]\d\d(?::?\d\d)?/gi,mo=/[+-]?\d+(\.\d{1,3})?/,hr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,pr;pr={};function $(i,u,d){pr[i]=z(u)?u:function(h,m){return h&&d?d:u}}function js(i,u){return a(pr,i)?pr[i](u._strict,u._locale):new RegExp(yo(i))}function yo(i){return yt(i.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(u,d,h,m,v){return d||h||m||v}))}function yt(i){return i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var is={};function Pe(i,u){var d,h=u,m;for(typeof i=="string"&&(i=[i]),c(u)&&(h=function(v,R){R[u]=he(v)}),m=i.length,d=0;d<m;d++)is[i[d]]=h}function mr(i,u){Pe(i,function(d,h,m,v){m._w=m._w||{},u(d,m._w,m,v)})}function Lt(i,u,d){u!=null&&a(is,i)&&is[i](u,d._a,d,i)}var tt=0,Je=1,j=2,ne=3,ce=4,$t=5,as=6,nw=7,sw=8;function iw(i,u){return(i%u+u)%u}var at;Array.prototype.indexOf?at=Array.prototype.indexOf:at=function(i){var u;for(u=0;u<this.length;++u)if(this[u]===i)return u;return-1};function go(i,u){if(isNaN(i)||isNaN(u))return NaN;var d=iw(u,12);return i+=(u-d)/12,d===1?ts(i)?29:28:31-d%7%2}E("M",["MM",2],"Mo",function(){return this.month()+1}),E("MMM",0,0,function(i){return this.localeData().monthsShort(this,i)}),E("MMMM",0,0,function(i){return this.localeData().months(this,i)}),pt("month","M"),$e("month",8),$("M",Ye),$("MM",Ye,vt),$("MMM",function(i,u){return u.monthsShortRegex(i)}),$("MMMM",function(i,u){return u.monthsRegex(i)}),Pe(["M","MM"],function(i,u){u[Je]=he(i)-1}),Pe(["MMM","MMMM"],function(i,u,d,h){var m=d._locale.monthsParse(i,h,d._strict);m!=null?u[Je]=m:b(d).invalidMonth=i});var aw="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),kp="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ep=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ow=hr,uw=hr;function lw(i,u){return i?n(this._months)?this._months[i.month()]:this._months[(this._months.isFormat||Ep).test(u)?"format":"standalone"][i.month()]:n(this._months)?this._months:this._months.standalone}function cw(i,u){return i?n(this._monthsShort)?this._monthsShort[i.month()]:this._monthsShort[Ep.test(u)?"format":"standalone"][i.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function dw(i,u,d){var h,m,v,R=i.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],h=0;h<12;++h)v=T([2e3,h]),this._shortMonthsParse[h]=this.monthsShort(v,"").toLocaleLowerCase(),this._longMonthsParse[h]=this.months(v,"").toLocaleLowerCase();return d?u==="MMM"?(m=at.call(this._shortMonthsParse,R),m!==-1?m:null):(m=at.call(this._longMonthsParse,R),m!==-1?m:null):u==="MMM"?(m=at.call(this._shortMonthsParse,R),m!==-1?m:(m=at.call(this._longMonthsParse,R),m!==-1?m:null)):(m=at.call(this._longMonthsParse,R),m!==-1?m:(m=at.call(this._shortMonthsParse,R),m!==-1?m:null))}function fw(i,u,d){var h,m,v;if(this._monthsParseExact)return dw.call(this,i,u,d);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),h=0;h<12;h++){if(m=T([2e3,h]),d&&!this._longMonthsParse[h]&&(this._longMonthsParse[h]=new RegExp("^"+this.months(m,"").replace(".","")+"$","i"),this._shortMonthsParse[h]=new RegExp("^"+this.monthsShort(m,"").replace(".","")+"$","i")),!d&&!this._monthsParse[h]&&(v="^"+this.months(m,"")+"|^"+this.monthsShort(m,""),this._monthsParse[h]=new RegExp(v.replace(".",""),"i")),d&&u==="MMMM"&&this._longMonthsParse[h].test(i))return h;if(d&&u==="MMM"&&this._shortMonthsParse[h].test(i))return h;if(!d&&this._monthsParse[h].test(i))return h}}function Dp(i,u){var d;if(!i.isValid())return i;if(typeof u=="string"){if(/^\d+$/.test(u))u=he(u);else if(u=i.localeData().monthsParse(u),!c(u))return i}return d=Math.min(i.date(),go(i.year(),u)),i._d["set"+(i._isUTC?"UTC":"")+"Month"](u,d),i}function Sp(i){return i!=null?(Dp(this,i),e.updateOffset(this,!0),this):Pt(this,"Month")}function hw(){return go(this.year(),this.month())}function pw(i){return this._monthsParseExact?(a(this,"_monthsRegex")||Op.call(this),i?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=ow),this._monthsShortStrictRegex&&i?this._monthsShortStrictRegex:this._monthsShortRegex)}function mw(i){return this._monthsParseExact?(a(this,"_monthsRegex")||Op.call(this),i?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=uw),this._monthsStrictRegex&&i?this._monthsStrictRegex:this._monthsRegex)}function Op(){function i(R,re){return re.length-R.length}var u=[],d=[],h=[],m,v;for(m=0;m<12;m++)v=T([2e3,m]),u.push(this.monthsShort(v,"")),d.push(this.months(v,"")),h.push(this.months(v,"")),h.push(this.monthsShort(v,""));for(u.sort(i),d.sort(i),h.sort(i),m=0;m<12;m++)u[m]=yt(u[m]),d[m]=yt(d[m]);for(m=0;m<24;m++)h[m]=yt(h[m]);this._monthsRegex=new RegExp("^("+h.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+u.join("|")+")","i")}E("Y",0,0,function(){var i=this.year();return i<=9999?_(i,4):"+"+i}),E(0,["YY",2],0,function(){return this.year()%100}),E(0,["YYYY",4],0,"year"),E(0,["YYYYY",5],0,"year"),E(0,["YYYYYY",6,!0],0,"year"),pt("year","y"),$e("year",1),$("Y",Pn),$("YY",Ye,vt),$("YYYY",xn,dr),$("YYYYY",ss,Jr),$("YYYYYY",ss,Jr),Pe(["YYYYY","YYYYYY"],tt),Pe("YYYY",function(i,u){u[tt]=i.length===2?e.parseTwoDigitYear(i):he(i)}),Pe("YY",function(i,u){u[tt]=e.parseTwoDigitYear(i)}),Pe("Y",function(i,u){u[tt]=parseInt(i,10)});function Li(i){return ts(i)?366:365}e.parseTwoDigitYear=function(i){return he(i)+(he(i)>68?1900:2e3)};var Mp=Xr("FullYear",!0);function yw(){return ts(this.year())}function gw(i,u,d,h,m,v,R){var re;return i<100&&i>=0?(re=new Date(i+400,u,d,h,m,v,R),isFinite(re.getFullYear())&&re.setFullYear(i)):re=new Date(i,u,d,h,m,v,R),re}function Yi(i){var u,d;return i<100&&i>=0?(d=Array.prototype.slice.call(arguments),d[0]=i+400,u=new Date(Date.UTC.apply(null,d)),isFinite(u.getUTCFullYear())&&u.setUTCFullYear(i)):u=new Date(Date.UTC.apply(null,arguments)),u}function _o(i,u,d){var h=7+u-d,m=(7+Yi(i,0,h).getUTCDay()-u)%7;return-m+h-1}function Rp(i,u,d,h,m){var v=(7+d-h)%7,R=_o(i,h,m),re=1+7*(u-1)+v+R,_e,Ue;return re<=0?(_e=i-1,Ue=Li(_e)+re):re>Li(i)?(_e=i+1,Ue=re-Li(i)):(_e=i,Ue=re),{year:_e,dayOfYear:Ue}}function Ui(i,u,d){var h=_o(i.year(),u,d),m=Math.floor((i.dayOfYear()-h-1)/7)+1,v,R;return m<1?(R=i.year()-1,v=m+tn(R,u,d)):m>tn(i.year(),u,d)?(v=m-tn(i.year(),u,d),R=i.year()+1):(R=i.year(),v=m),{week:v,year:R}}function tn(i,u,d){var h=_o(i,u,d),m=_o(i+1,u,d);return(Li(i)-h+m)/7}E("w",["ww",2],"wo","week"),E("W",["WW",2],"Wo","isoWeek"),pt("week","w"),pt("isoWeek","W"),$e("week",5),$e("isoWeek",5),$("w",Ye),$("ww",Ye,vt),$("W",Ye),$("WW",Ye,vt),mr(["w","ww","W","WW"],function(i,u,d,h){u[h.substr(0,1)]=he(i)});function _w(i){return Ui(i,this._week.dow,this._week.doy).week}var Tw={dow:0,doy:6};function bw(){return this._week.dow}function vw(){return this._week.doy}function ww(i){var u=this.localeData().week(this);return i==null?u:this.add((i-u)*7,"d")}function kw(i){var u=Ui(this,1,4).week;return i==null?u:this.add((i-u)*7,"d")}E("d",0,"do","day"),E("dd",0,0,function(i){return this.localeData().weekdaysMin(this,i)}),E("ddd",0,0,function(i){return this.localeData().weekdaysShort(this,i)}),E("dddd",0,0,function(i){return this.localeData().weekdays(this,i)}),E("e",0,0,"weekday"),E("E",0,0,"isoWeekday"),pt("day","d"),pt("weekday","e"),pt("isoWeekday","E"),$e("day",11),$e("weekday",11),$e("isoWeekday",11),$("d",Ye),$("e",Ye),$("E",Ye),$("dd",function(i,u){return u.weekdaysMinRegex(i)}),$("ddd",function(i,u){return u.weekdaysShortRegex(i)}),$("dddd",function(i,u){return u.weekdaysRegex(i)}),mr(["dd","ddd","dddd"],function(i,u,d,h){var m=d._locale.weekdaysParse(i,h,d._strict);m!=null?u.d=m:b(d).invalidWeekday=i}),mr(["d","e","E"],function(i,u,d,h){u[h]=he(i)});function Ew(i,u){return typeof i!="string"?i:isNaN(i)?(i=u.weekdaysParse(i),typeof i=="number"?i:null):parseInt(i,10)}function Dw(i,u){return typeof i=="string"?u.weekdaysParse(i)%7||7:isNaN(i)?null:i}function wl(i,u){return i.slice(u,7).concat(i.slice(0,u))}var Sw="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),xp="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ow="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Mw=hr,Rw=hr,xw=hr;function Pw(i,u){var d=n(this._weekdays)?this._weekdays:this._weekdays[i&&i!==!0&&this._weekdays.isFormat.test(u)?"format":"standalone"];return i===!0?wl(d,this._week.dow):i?d[i.day()]:d}function Aw(i){return i===!0?wl(this._weekdaysShort,this._week.dow):i?this._weekdaysShort[i.day()]:this._weekdaysShort}function Nw(i){return i===!0?wl(this._weekdaysMin,this._week.dow):i?this._weekdaysMin[i.day()]:this._weekdaysMin}function Cw(i,u,d){var h,m,v,R=i.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],h=0;h<7;++h)v=T([2e3,1]).day(h),this._minWeekdaysParse[h]=this.weekdaysMin(v,"").toLocaleLowerCase(),this._shortWeekdaysParse[h]=this.weekdaysShort(v,"").toLocaleLowerCase(),this._weekdaysParse[h]=this.weekdays(v,"").toLocaleLowerCase();return d?u==="dddd"?(m=at.call(this._weekdaysParse,R),m!==-1?m:null):u==="ddd"?(m=at.call(this._shortWeekdaysParse,R),m!==-1?m:null):(m=at.call(this._minWeekdaysParse,R),m!==-1?m:null):u==="dddd"?(m=at.call(this._weekdaysParse,R),m!==-1||(m=at.call(this._shortWeekdaysParse,R),m!==-1)?m:(m=at.call(this._minWeekdaysParse,R),m!==-1?m:null)):u==="ddd"?(m=at.call(this._shortWeekdaysParse,R),m!==-1||(m=at.call(this._weekdaysParse,R),m!==-1)?m:(m=at.call(this._minWeekdaysParse,R),m!==-1?m:null)):(m=at.call(this._minWeekdaysParse,R),m!==-1||(m=at.call(this._weekdaysParse,R),m!==-1)?m:(m=at.call(this._shortWeekdaysParse,R),m!==-1?m:null))}function Iw(i,u,d){var h,m,v;if(this._weekdaysParseExact)return Cw.call(this,i,u,d);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),h=0;h<7;h++){if(m=T([2e3,1]).day(h),d&&!this._fullWeekdaysParse[h]&&(this._fullWeekdaysParse[h]=new RegExp("^"+this.weekdays(m,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[h]=new RegExp("^"+this.weekdaysShort(m,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[h]=new RegExp("^"+this.weekdaysMin(m,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[h]||(v="^"+this.weekdays(m,"")+"|^"+this.weekdaysShort(m,"")+"|^"+this.weekdaysMin(m,""),this._weekdaysParse[h]=new RegExp(v.replace(".",""),"i")),d&&u==="dddd"&&this._fullWeekdaysParse[h].test(i))return h;if(d&&u==="ddd"&&this._shortWeekdaysParse[h].test(i))return h;if(d&&u==="dd"&&this._minWeekdaysParse[h].test(i))return h;if(!d&&this._weekdaysParse[h].test(i))return h}}function Fw(i){if(!this.isValid())return i!=null?this:NaN;var u=this._isUTC?this._d.getUTCDay():this._d.getDay();return i!=null?(i=Ew(i,this.localeData()),this.add(i-u,"d")):u}function Lw(i){if(!this.isValid())return i!=null?this:NaN;var u=(this.day()+7-this.localeData()._week.dow)%7;return i==null?u:this.add(i-u,"d")}function Yw(i){if(!this.isValid())return i!=null?this:NaN;if(i!=null){var u=Dw(i,this.localeData());return this.day(this.day()%7?u:u-7)}else return this.day()||7}function Uw(i){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||kl.call(this),i?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Mw),this._weekdaysStrictRegex&&i?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ww(i){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||kl.call(this),i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Rw),this._weekdaysShortStrictRegex&&i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function qw(i){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||kl.call(this),i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=xw),this._weekdaysMinStrictRegex&&i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function kl(){function i(Gt,on){return on.length-Gt.length}var u=[],d=[],h=[],m=[],v,R,re,_e,Ue;for(v=0;v<7;v++)R=T([2e3,1]).day(v),re=yt(this.weekdaysMin(R,"")),_e=yt(this.weekdaysShort(R,"")),Ue=yt(this.weekdays(R,"")),u.push(re),d.push(_e),h.push(Ue),m.push(re),m.push(_e),m.push(Ue);u.sort(i),d.sort(i),h.sort(i),m.sort(i),this._weekdaysRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+u.join("|")+")","i")}function El(){return this.hours()%12||12}function jw(){return this.hours()||24}E("H",["HH",2],0,"hour"),E("h",["hh",2],0,El),E("k",["kk",2],0,jw),E("hmm",0,0,function(){return""+El.apply(this)+_(this.minutes(),2)}),E("hmmss",0,0,function(){return""+El.apply(this)+_(this.minutes(),2)+_(this.seconds(),2)}),E("Hmm",0,0,function(){return""+this.hours()+_(this.minutes(),2)}),E("Hmmss",0,0,function(){return""+this.hours()+_(this.minutes(),2)+_(this.seconds(),2)});function Pp(i,u){E(i,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),u)})}Pp("a",!0),Pp("A",!1),pt("hour","h"),$e("hour",13);function Ap(i,u){return u._meridiemParse}$("a",Ap),$("A",Ap),$("H",Ye),$("h",Ye),$("k",Ye),$("HH",Ye,vt),$("hh",Ye,vt),$("kk",Ye,vt),$("hmm",Rn),$("hmmss",qs),$("Hmm",Rn),$("Hmmss",qs),Pe(["H","HH"],ne),Pe(["k","kk"],function(i,u,d){var h=he(i);u[ne]=h===24?0:h}),Pe(["a","A"],function(i,u,d){d._isPm=d._locale.isPM(i),d._meridiem=i}),Pe(["h","hh"],function(i,u,d){u[ne]=he(i),b(d).bigHour=!0}),Pe("hmm",function(i,u,d){var h=i.length-2;u[ne]=he(i.substr(0,h)),u[ce]=he(i.substr(h)),b(d).bigHour=!0}),Pe("hmmss",function(i,u,d){var h=i.length-4,m=i.length-2;u[ne]=he(i.substr(0,h)),u[ce]=he(i.substr(h,2)),u[$t]=he(i.substr(m)),b(d).bigHour=!0}),Pe("Hmm",function(i,u,d){var h=i.length-2;u[ne]=he(i.substr(0,h)),u[ce]=he(i.substr(h))}),Pe("Hmmss",function(i,u,d){var h=i.length-4,m=i.length-2;u[ne]=he(i.substr(0,h)),u[ce]=he(i.substr(h,2)),u[$t]=he(i.substr(m))});function $w(i){return(i+"").toLowerCase().charAt(0)==="p"}var Gw=/[ap]\.?m?\.?/i,Hw=Xr("Hours",!0);function Bw(i,u,d){return i>11?d?"pm":"PM":d?"am":"AM"}var Np={calendar:le,longDateFormat:Ee,invalidDate:fe,ordinal:V,dayOfMonthOrdinalParse:qe,relativeTime:ht,months:aw,monthsShort:kp,week:Tw,weekdays:Sw,weekdaysMin:Ow,weekdaysShort:xp,meridiemParse:Gw},et={},Wi={},qi;function zw(i,u){var d,h=Math.min(i.length,u.length);for(d=0;d<h;d+=1)if(i[d]!==u[d])return d;return h}function Cp(i){return i&&i.toLowerCase().replace("_","-")}function Vw(i){for(var u=0,d,h,m,v;u<i.length;){for(v=Cp(i[u]).split("-"),d=v.length,h=Cp(i[u+1]),h=h?h.split("-"):null;d>0;){if(m=To(v.slice(0,d).join("-")),m)return m;if(h&&h.length>=d&&zw(v,h)>=d-1)break;d--}u++}return qi}function Kw(i){return i.match("^[^/\\\\]*$")!=null}function To(i){var u=null,d;if(et[i]===void 0&&typeof ci!="undefined"&&ci&&ci.exports&&Kw(i))try{u=qi._abbr,d=require,d("./locale/"+i),An(u)}catch(h){et[i]=null}return et[i]}function An(i,u){var d;return i&&(l(u)?d=rn(i):d=Dl(i,u),d?qi=d:typeof console!="undefined"&&console.warn&&console.warn("Locale "+i+" not found. Did you forget to load it?")),qi._abbr}function Dl(i,u){if(u!==null){var d,h=Np;if(u.abbr=i,et[i]!=null)Tt("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),h=et[i]._config;else if(u.parentLocale!=null)if(et[u.parentLocale]!=null)h=et[u.parentLocale]._config;else if(d=To(u.parentLocale),d!=null)h=d._config;else return Wi[u.parentLocale]||(Wi[u.parentLocale]=[]),Wi[u.parentLocale].push({name:i,config:u}),null;return et[i]=new te(P(h,u)),Wi[i]&&Wi[i].forEach(function(m){Dl(m.name,m.config)}),An(i),et[i]}else return delete et[i],null}function Zw(i,u){if(u!=null){var d,h,m=Np;et[i]!=null&&et[i].parentLocale!=null?et[i].set(P(et[i]._config,u)):(h=To(i),h!=null&&(m=h._config),u=P(m,u),h==null&&(u.abbr=i),d=new te(u),d.parentLocale=et[i],et[i]=d),An(i)}else et[i]!=null&&(et[i].parentLocale!=null?(et[i]=et[i].parentLocale,i===An()&&An(i)):et[i]!=null&&delete et[i]);return et[i]}function rn(i){var u;if(i&&i._locale&&i._locale._abbr&&(i=i._locale._abbr),!i)return qi;if(!n(i)){if(u=To(i),u)return u;i=[i]}return Vw(i)}function Qw(){return Y(et)}function Sl(i){var u,d=i._a;return d&&b(i).overflow===-2&&(u=d[Je]<0||d[Je]>11?Je:d[j]<1||d[j]>go(d[tt],d[Je])?j:d[ne]<0||d[ne]>24||d[ne]===24&&(d[ce]!==0||d[$t]!==0||d[as]!==0)?ne:d[ce]<0||d[ce]>59?ce:d[$t]<0||d[$t]>59?$t:d[as]<0||d[as]>999?as:-1,b(i)._overflowDayOfYear&&(u<tt||u>j)&&(u=j),b(i)._overflowWeeks&&u===-1&&(u=nw),b(i)._overflowWeekday&&u===-1&&(u=sw),b(i).overflow=u),i}var Xw=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Jw=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,e0=/Z|[+-]\d\d(?::?\d\d)?/,bo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ol=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],t0=/^\/?Date\((-?\d+)/i,r0=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,n0={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Ip(i){var u,d,h=i._i,m=Xw.exec(h)||Jw.exec(h),v,R,re,_e,Ue=bo.length,Gt=Ol.length;if(m){for(b(i).iso=!0,u=0,d=Ue;u<d;u++)if(bo[u][1].exec(m[1])){R=bo[u][0],v=bo[u][2]!==!1;break}if(R==null){i._isValid=!1;return}if(m[3]){for(u=0,d=Gt;u<d;u++)if(Ol[u][1].exec(m[3])){re=(m[2]||" ")+Ol[u][0];break}if(re==null){i._isValid=!1;return}}if(!v&&re!=null){i._isValid=!1;return}if(m[4])if(e0.exec(m[4]))_e="Z";else{i._isValid=!1;return}i._f=R+(re||"")+(_e||""),Rl(i)}else i._isValid=!1}function s0(i,u,d,h,m,v){var R=[i0(i),kp.indexOf(u),parseInt(d,10),parseInt(h,10),parseInt(m,10)];return v&&R.push(parseInt(v,10)),R}function i0(i){var u=parseInt(i,10);return u<=49?2e3+u:u<=999?1900+u:u}function a0(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function o0(i,u,d){if(i){var h=xp.indexOf(i),m=new Date(u[0],u[1],u[2]).getDay();if(h!==m)return b(d).weekdayMismatch=!0,d._isValid=!1,!1}return!0}function u0(i,u,d){if(i)return n0[i];if(u)return 0;var h=parseInt(d,10),m=h%100,v=(h-m)/100;return v*60+m}function Fp(i){var u=r0.exec(a0(i._i)),d;if(u){if(d=s0(u[4],u[3],u[2],u[5],u[6],u[7]),!o0(u[1],d,i))return;i._a=d,i._tzm=u0(u[8],u[9],u[10]),i._d=Yi.apply(null,i._a),i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),b(i).rfc2822=!0}else i._isValid=!1}function l0(i){var u=t0.exec(i._i);if(u!==null){i._d=new Date(+u[1]);return}if(Ip(i),i._isValid===!1)delete i._isValid;else return;if(Fp(i),i._isValid===!1)delete i._isValid;else return;i._strict?i._isValid=!1:e.createFromInputFallback(i)}e.createFromInputFallback=ee("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(i){i._d=new Date(i._i+(i._useUTC?" UTC":""))});function $s(i,u,d){return i!=null?i:u!=null?u:d}function c0(i){var u=new Date(e.now());return i._useUTC?[u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()]:[u.getFullYear(),u.getMonth(),u.getDate()]}function Ml(i){var u,d,h=[],m,v,R;if(!i._d){for(m=c0(i),i._w&&i._a[j]==null&&i._a[Je]==null&&d0(i),i._dayOfYear!=null&&(R=$s(i._a[tt],m[tt]),(i._dayOfYear>Li(R)||i._dayOfYear===0)&&(b(i)._overflowDayOfYear=!0),d=Yi(R,0,i._dayOfYear),i._a[Je]=d.getUTCMonth(),i._a[j]=d.getUTCDate()),u=0;u<3&&i._a[u]==null;++u)i._a[u]=h[u]=m[u];for(;u<7;u++)i._a[u]=h[u]=i._a[u]==null?u===2?1:0:i._a[u];i._a[ne]===24&&i._a[ce]===0&&i._a[$t]===0&&i._a[as]===0&&(i._nextDay=!0,i._a[ne]=0),i._d=(i._useUTC?Yi:gw).apply(null,h),v=i._useUTC?i._d.getUTCDay():i._d.getDay(),i._tzm!=null&&i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),i._nextDay&&(i._a[ne]=24),i._w&&typeof i._w.d!="undefined"&&i._w.d!==v&&(b(i).weekdayMismatch=!0)}}function d0(i){var u,d,h,m,v,R,re,_e,Ue;u=i._w,u.GG!=null||u.W!=null||u.E!=null?(v=1,R=4,d=$s(u.GG,i._a[tt],Ui(Ze(),1,4).year),h=$s(u.W,1),m=$s(u.E,1),(m<1||m>7)&&(_e=!0)):(v=i._locale._week.dow,R=i._locale._week.doy,Ue=Ui(Ze(),v,R),d=$s(u.gg,i._a[tt],Ue.year),h=$s(u.w,Ue.week),u.d!=null?(m=u.d,(m<0||m>6)&&(_e=!0)):u.e!=null?(m=u.e+v,(u.e<0||u.e>6)&&(_e=!0)):m=v),h<1||h>tn(d,v,R)?b(i)._overflowWeeks=!0:_e!=null?b(i)._overflowWeekday=!0:(re=Rp(d,h,m,v,R),i._a[tt]=re.year,i._dayOfYear=re.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function Rl(i){if(i._f===e.ISO_8601){Ip(i);return}if(i._f===e.RFC_2822){Fp(i);return}i._a=[],b(i).empty=!0;var u=""+i._i,d,h,m,v,R,re=u.length,_e=0,Ue,Gt;for(m=q(i._f,i._locale).match(w)||[],Gt=m.length,d=0;d<Gt;d++)v=m[d],h=(u.match(js(v,i))||[])[0],h&&(R=u.substr(0,u.indexOf(h)),R.length>0&&b(i).unusedInput.push(R),u=u.slice(u.indexOf(h)+h.length),_e+=h.length),M[v]?(h?b(i).empty=!1:b(i).unusedTokens.push(v),Lt(v,h,i)):i._strict&&!h&&b(i).unusedTokens.push(v);b(i).charsLeftOver=re-_e,u.length>0&&b(i).unusedInput.push(u),i._a[ne]<=12&&b(i).bigHour===!0&&i._a[ne]>0&&(b(i).bigHour=void 0),b(i).parsedDateParts=i._a.slice(0),b(i).meridiem=i._meridiem,i._a[ne]=f0(i._locale,i._a[ne],i._meridiem),Ue=b(i).era,Ue!==null&&(i._a[tt]=i._locale.erasConvertYear(Ue,i._a[tt])),Ml(i),Sl(i)}function f0(i,u,d){var h;return d==null?u:i.meridiemHour!=null?i.meridiemHour(u,d):(i.isPM!=null&&(h=i.isPM(d),h&&u<12&&(u+=12),!h&&u===12&&(u=0)),u)}function h0(i){var u,d,h,m,v,R,re=!1,_e=i._f.length;if(_e===0){b(i).invalidFormat=!0,i._d=new Date(NaN);return}for(m=0;m<_e;m++)v=0,R=!1,u=de({},i),i._useUTC!=null&&(u._useUTC=i._useUTC),u._f=i._f[m],Rl(u),C(u)&&(R=!0),v+=b(u).charsLeftOver,v+=b(u).unusedTokens.length*10,b(u).score=v,re?v<h&&(h=v,d=u):(h==null||v<h||R)&&(h=v,d=u,R&&(re=!0));g(i,d||u)}function p0(i){if(!i._d){var u=On(i._i),d=u.day===void 0?u.date:u.day;i._a=p([u.year,u.month,d,u.hour,u.minute,u.second,u.millisecond],function(h){return h&&parseInt(h,10)}),Ml(i)}}function m0(i){var u=new ue(Sl(Lp(i)));return u._nextDay&&(u.add(1,"d"),u._nextDay=void 0),u}function Lp(i){var u=i._i,d=i._f;return i._locale=i._locale||rn(i._l),u===null||d===void 0&&u===""?G({nullInput:!0}):(typeof u=="string"&&(i._i=u=i._locale.preparse(u)),ye(u)?new ue(Sl(u)):(f(u)?i._d=u:n(d)?h0(i):d?Rl(i):y0(i),C(i)||(i._d=null),i))}function y0(i){var u=i._i;l(u)?i._d=new Date(e.now()):f(u)?i._d=new Date(u.valueOf()):typeof u=="string"?l0(i):n(u)?(i._a=p(u.slice(0),function(d){return parseInt(d,10)}),Ml(i)):s(u)?p0(i):c(u)?i._d=new Date(u):e.createFromInputFallback(i)}function Yp(i,u,d,h,m){var v={};return(u===!0||u===!1)&&(h=u,u=void 0),(d===!0||d===!1)&&(h=d,d=void 0),(s(i)&&o(i)||n(i)&&i.length===0)&&(i=void 0),v._isAMomentObject=!0,v._useUTC=v._isUTC=m,v._l=d,v._i=i,v._f=u,v._strict=h,m0(v)}function Ze(i,u,d,h){return Yp(i,u,d,h,!1)}var g0=ee("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=Ze.apply(null,arguments);return this.isValid()&&i.isValid()?i<this?this:i:G()}),_0=ee("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=Ze.apply(null,arguments);return this.isValid()&&i.isValid()?i>this?this:i:G()});function Up(i,u){var d,h;if(u.length===1&&n(u[0])&&(u=u[0]),!u.length)return Ze();for(d=u[0],h=1;h<u.length;++h)(!u[h].isValid()||u[h][i](d))&&(d=u[h]);return d}function T0(){var i=[].slice.call(arguments,0);return Up("isBefore",i)}function b0(){var i=[].slice.call(arguments,0);return Up("isAfter",i)}var v0=function(){return Date.now?Date.now():+new Date},ji=["year","quarter","month","week","day","hour","minute","second","millisecond"];function w0(i){var u,d=!1,h,m=ji.length;for(u in i)if(a(i,u)&&!(at.call(ji,u)!==-1&&(i[u]==null||!isNaN(i[u]))))return!1;for(h=0;h<m;++h)if(i[ji[h]]){if(d)return!1;parseFloat(i[ji[h]])!==he(i[ji[h]])&&(d=!0)}return!0}function k0(){return this._isValid}function E0(){return Mr(NaN)}function vo(i){var u=On(i),d=u.year||0,h=u.quarter||0,m=u.month||0,v=u.week||u.isoWeek||0,R=u.day||0,re=u.hour||0,_e=u.minute||0,Ue=u.second||0,Gt=u.millisecond||0;this._isValid=w0(u),this._milliseconds=+Gt+Ue*1e3+_e*6e4+re*1e3*60*60,this._days=+R+v*7,this._months=+m+h*3+d*12,this._data={},this._locale=rn(),this._bubble()}function wo(i){return i instanceof vo}function xl(i){return i<0?Math.round(-1*i)*-1:Math.round(i)}function D0(i,u,d){var h=Math.min(i.length,u.length),m=Math.abs(i.length-u.length),v=0,R;for(R=0;R<h;R++)(d&&i[R]!==u[R]||!d&&he(i[R])!==he(u[R]))&&v++;return v+m}function Wp(i,u){E(i,0,0,function(){var d=this.utcOffset(),h="+";return d<0&&(d=-d,h="-"),h+_(~~(d/60),2)+u+_(~~d%60,2)})}Wp("Z",":"),Wp("ZZ",""),$("Z",en),$("ZZ",en),Pe(["Z","ZZ"],function(i,u,d){d._useUTC=!0,d._tzm=Pl(en,i)});var S0=/([\+\-]|\d\d)/gi;function Pl(i,u){var d=(u||"").match(i),h,m,v;return d===null?null:(h=d[d.length-1]||[],m=(h+"").match(S0)||["-",0,0],v=+(m[1]*60)+he(m[2]),v===0?0:m[0]==="+"?v:-v)}function Al(i,u){var d,h;return u._isUTC?(d=u.clone(),h=(ye(i)||f(i)?i.valueOf():Ze(i).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+h),e.updateOffset(d,!1),d):Ze(i).local()}function Nl(i){return-Math.round(i._d.getTimezoneOffset())}e.updateOffset=function(){};function O0(i,u,d){var h=this._offset||0,m;if(!this.isValid())return i!=null?this:NaN;if(i!=null){if(typeof i=="string"){if(i=Pl(en,i),i===null)return this}else Math.abs(i)<16&&!d&&(i=i*60);return!this._isUTC&&u&&(m=Nl(this)),this._offset=i,this._isUTC=!0,m!=null&&this.add(m,"m"),h!==i&&(!u||this._changeInProgress?Gp(this,Mr(i-h,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?h:Nl(this)}function M0(i,u){return i!=null?(typeof i!="string"&&(i=-i),this.utcOffset(i,u),this):-this.utcOffset()}function R0(i){return this.utcOffset(0,i)}function x0(i){return this._isUTC&&(this.utcOffset(0,i),this._isUTC=!1,i&&this.subtract(Nl(this),"m")),this}function P0(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var i=Pl(po,this._i);i!=null?this.utcOffset(i):this.utcOffset(0,!0)}return this}function A0(i){return this.isValid()?(i=i?Ze(i).utcOffset():0,(this.utcOffset()-i)%60===0):!1}function N0(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function C0(){if(!l(this._isDSTShifted))return this._isDSTShifted;var i={},u;return de(i,this),i=Lp(i),i._a?(u=i._isUTC?T(i._a):Ze(i._a),this._isDSTShifted=this.isValid()&&D0(i._a,u.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function I0(){return this.isValid()?!this._isUTC:!1}function F0(){return this.isValid()?this._isUTC:!1}function qp(){return this.isValid()?this._isUTC&&this._offset===0:!1}var L0=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Y0=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Mr(i,u){var d=i,h=null,m,v,R;return wo(i)?d={ms:i._milliseconds,d:i._days,M:i._months}:c(i)||!isNaN(+i)?(d={},u?d[u]=+i:d.milliseconds=+i):(h=L0.exec(i))?(m=h[1]==="-"?-1:1,d={y:0,d:he(h[j])*m,h:he(h[ne])*m,m:he(h[ce])*m,s:he(h[$t])*m,ms:he(xl(h[as]*1e3))*m}):(h=Y0.exec(i))?(m=h[1]==="-"?-1:1,d={y:os(h[2],m),M:os(h[3],m),w:os(h[4],m),d:os(h[5],m),h:os(h[6],m),m:os(h[7],m),s:os(h[8],m)}):d==null?d={}:typeof d=="object"&&("from"in d||"to"in d)&&(R=U0(Ze(d.from),Ze(d.to)),d={},d.ms=R.milliseconds,d.M=R.months),v=new vo(d),wo(i)&&a(i,"_locale")&&(v._locale=i._locale),wo(i)&&a(i,"_isValid")&&(v._isValid=i._isValid),v}Mr.fn=vo.prototype,Mr.invalid=E0;function os(i,u){var d=i&&parseFloat(i.replace(",","."));return(isNaN(d)?0:d)*u}function jp(i,u){var d={};return d.months=u.month()-i.month()+(u.year()-i.year())*12,i.clone().add(d.months,"M").isAfter(u)&&--d.months,d.milliseconds=+u-+i.clone().add(d.months,"M"),d}function U0(i,u){var d;return i.isValid()&&u.isValid()?(u=Al(u,i),i.isBefore(u)?d=jp(i,u):(d=jp(u,i),d.milliseconds=-d.milliseconds,d.months=-d.months),d):{milliseconds:0,months:0}}function $p(i,u){return function(d,h){var m,v;return h!==null&&!isNaN(+h)&&(Tt(u,"moment()."+u+"(period, number) is deprecated. Please use moment()."+u+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),v=d,d=h,h=v),m=Mr(d,h),Gp(this,m,i),this}}function Gp(i,u,d,h){var m=u._milliseconds,v=xl(u._days),R=xl(u._months);!i.isValid()||(h=h==null?!0:h,R&&Dp(i,Pt(i,"Month")+R*d),v&&rs(i,"Date",Pt(i,"Date")+v*d),m&&i._d.setTime(i._d.valueOf()+m*d),h&&e.updateOffset(i,v||R))}var W0=$p(1,"add"),q0=$p(-1,"subtract");function Hp(i){return typeof i=="string"||i instanceof String}function j0(i){return ye(i)||f(i)||Hp(i)||c(i)||G0(i)||$0(i)||i===null||i===void 0}function $0(i){var u=s(i)&&!o(i),d=!1,h=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],m,v,R=h.length;for(m=0;m<R;m+=1)v=h[m],d=d||a(i,v);return u&&d}function G0(i){var u=n(i),d=!1;return u&&(d=i.filter(function(h){return!c(h)&&Hp(i)}).length===0),u&&d}function H0(i){var u=s(i)&&!o(i),d=!1,h=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],m,v;for(m=0;m<h.length;m+=1)v=h[m],d=d||a(i,v);return u&&d}function B0(i,u){var d=i.diff(u,"days",!0);return d<-6?"sameElse":d<-1?"lastWeek":d<0?"lastDay":d<1?"sameDay":d<2?"nextDay":d<7?"nextWeek":"sameElse"}function z0(i,u){arguments.length===1&&(arguments[0]?j0(arguments[0])?(i=arguments[0],u=void 0):H0(arguments[0])&&(u=arguments[0],i=void 0):(i=void 0,u=void 0));var d=i||Ze(),h=Al(d,this).startOf("day"),m=e.calendarFormat(this,h)||"sameElse",v=u&&(z(u[m])?u[m].call(this,d):u[m]);return this.format(v||this.localeData().calendar(m,this,Ze(d)))}function V0(){return new ue(this)}function K0(i,u){var d=ye(i)?i:Ze(i);return this.isValid()&&d.isValid()?(u=bt(u)||"millisecond",u==="millisecond"?this.valueOf()>d.valueOf():d.valueOf()<this.clone().startOf(u).valueOf()):!1}function Z0(i,u){var d=ye(i)?i:Ze(i);return this.isValid()&&d.isValid()?(u=bt(u)||"millisecond",u==="millisecond"?this.valueOf()<d.valueOf():this.clone().endOf(u).valueOf()<d.valueOf()):!1}function Q0(i,u,d,h){var m=ye(i)?i:Ze(i),v=ye(u)?u:Ze(u);return this.isValid()&&m.isValid()&&v.isValid()?(h=h||"()",(h[0]==="("?this.isAfter(m,d):!this.isBefore(m,d))&&(h[1]===")"?this.isBefore(v,d):!this.isAfter(v,d))):!1}function X0(i,u){var d=ye(i)?i:Ze(i),h;return this.isValid()&&d.isValid()?(u=bt(u)||"millisecond",u==="millisecond"?this.valueOf()===d.valueOf():(h=d.valueOf(),this.clone().startOf(u).valueOf()<=h&&h<=this.clone().endOf(u).valueOf())):!1}function J0(i,u){return this.isSame(i,u)||this.isAfter(i,u)}function e1(i,u){return this.isSame(i,u)||this.isBefore(i,u)}function t1(i,u,d){var h,m,v;if(!this.isValid())return NaN;if(h=Al(i,this),!h.isValid())return NaN;switch(m=(h.utcOffset()-this.utcOffset())*6e4,u=bt(u),u){case"year":v=ko(this,h)/12;break;case"month":v=ko(this,h);break;case"quarter":v=ko(this,h)/3;break;case"second":v=(this-h)/1e3;break;case"minute":v=(this-h)/6e4;break;case"hour":v=(this-h)/36e5;break;case"day":v=(this-h-m)/864e5;break;case"week":v=(this-h-m)/6048e5;break;default:v=this-h}return d?v:mt(v)}function ko(i,u){if(i.date()<u.date())return-ko(u,i);var d=(u.year()-i.year())*12+(u.month()-i.month()),h=i.clone().add(d,"months"),m,v;return u-h<0?(m=i.clone().add(d-1,"months"),v=(u-h)/(h-m)):(m=i.clone().add(d+1,"months"),v=(u-h)/(m-h)),-(d+v)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function r1(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function n1(i){if(!this.isValid())return null;var u=i!==!0,d=u?this.clone().utc():this;return d.year()<0||d.year()>9999?N(d,u?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):z(Date.prototype.toISOString)?u?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",N(d,"Z")):N(d,u?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function s1(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var i="moment",u="",d,h,m,v;return this.isLocal()||(i=this.utcOffset()===0?"moment.utc":"moment.parseZone",u="Z"),d="["+i+'("]',h=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",m="-MM-DD[T]HH:mm:ss.SSS",v=u+'[")]',this.format(d+h+m+v)}function i1(i){i||(i=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var u=N(this,i);return this.localeData().postformat(u)}function a1(i,u){return this.isValid()&&(ye(i)&&i.isValid()||Ze(i).isValid())?Mr({to:this,from:i}).locale(this.locale()).humanize(!u):this.localeData().invalidDate()}function o1(i){return this.from(Ze(),i)}function u1(i,u){return this.isValid()&&(ye(i)&&i.isValid()||Ze(i).isValid())?Mr({from:this,to:i}).locale(this.locale()).humanize(!u):this.localeData().invalidDate()}function l1(i){return this.to(Ze(),i)}function Bp(i){var u;return i===void 0?this._locale._abbr:(u=rn(i),u!=null&&(this._locale=u),this)}var zp=ee("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(i){return i===void 0?this.localeData():this.locale(i)});function Vp(){return this._locale}var Eo=1e3,Gs=60*Eo,Do=60*Gs,Kp=(365*400+97)*24*Do;function Hs(i,u){return(i%u+u)%u}function Zp(i,u,d){return i<100&&i>=0?new Date(i+400,u,d)-Kp:new Date(i,u,d).valueOf()}function Qp(i,u,d){return i<100&&i>=0?Date.UTC(i+400,u,d)-Kp:Date.UTC(i,u,d)}function c1(i){var u,d;if(i=bt(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(d=this._isUTC?Qp:Zp,i){case"year":u=d(this.year(),0,1);break;case"quarter":u=d(this.year(),this.month()-this.month()%3,1);break;case"month":u=d(this.year(),this.month(),1);break;case"week":u=d(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":u=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":u=d(this.year(),this.month(),this.date());break;case"hour":u=this._d.valueOf(),u-=Hs(u+(this._isUTC?0:this.utcOffset()*Gs),Do);break;case"minute":u=this._d.valueOf(),u-=Hs(u,Gs);break;case"second":u=this._d.valueOf(),u-=Hs(u,Eo);break}return this._d.setTime(u),e.updateOffset(this,!0),this}function d1(i){var u,d;if(i=bt(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(d=this._isUTC?Qp:Zp,i){case"year":u=d(this.year()+1,0,1)-1;break;case"quarter":u=d(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":u=d(this.year(),this.month()+1,1)-1;break;case"week":u=d(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":u=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":u=d(this.year(),this.month(),this.date()+1)-1;break;case"hour":u=this._d.valueOf(),u+=Do-Hs(u+(this._isUTC?0:this.utcOffset()*Gs),Do)-1;break;case"minute":u=this._d.valueOf(),u+=Gs-Hs(u,Gs)-1;break;case"second":u=this._d.valueOf(),u+=Eo-Hs(u,Eo)-1;break}return this._d.setTime(u),e.updateOffset(this,!0),this}function f1(){return this._d.valueOf()-(this._offset||0)*6e4}function h1(){return Math.floor(this.valueOf()/1e3)}function p1(){return new Date(this.valueOf())}function m1(){var i=this;return[i.year(),i.month(),i.date(),i.hour(),i.minute(),i.second(),i.millisecond()]}function y1(){var i=this;return{years:i.year(),months:i.month(),date:i.date(),hours:i.hours(),minutes:i.minutes(),seconds:i.seconds(),milliseconds:i.milliseconds()}}function g1(){return this.isValid()?this.toISOString():null}function _1(){return C(this)}function T1(){return g({},b(this))}function b1(){return b(this).overflow}function v1(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}E("N",0,0,"eraAbbr"),E("NN",0,0,"eraAbbr"),E("NNN",0,0,"eraAbbr"),E("NNNN",0,0,"eraName"),E("NNNNN",0,0,"eraNarrow"),E("y",["y",1],"yo","eraYear"),E("y",["yy",2],0,"eraYear"),E("y",["yyy",3],0,"eraYear"),E("y",["yyyy",4],0,"eraYear"),$("N",Cl),$("NN",Cl),$("NNN",Cl),$("NNNN",A1),$("NNNNN",N1),Pe(["N","NN","NNN","NNNN","NNNNN"],function(i,u,d,h){var m=d._locale.erasParse(i,h,d._strict);m?b(d).era=m:b(d).invalidEra=i}),$("y",fr),$("yy",fr),$("yyy",fr),$("yyyy",fr),$("yo",C1),Pe(["y","yy","yyy","yyyy"],tt),Pe(["yo"],function(i,u,d,h){var m;d._locale._eraYearOrdinalRegex&&(m=i.match(d._locale._eraYearOrdinalRegex)),d._locale.eraYearOrdinalParse?u[tt]=d._locale.eraYearOrdinalParse(i,m):u[tt]=parseInt(i,10)});function w1(i,u){var d,h,m,v=this._eras||rn("en")._eras;for(d=0,h=v.length;d<h;++d){switch(typeof v[d].since){case"string":m=e(v[d].since).startOf("day"),v[d].since=m.valueOf();break}switch(typeof v[d].until){case"undefined":v[d].until=1/0;break;case"string":m=e(v[d].until).startOf("day").valueOf(),v[d].until=m.valueOf();break}}return v}function k1(i,u,d){var h,m,v=this.eras(),R,re,_e;for(i=i.toUpperCase(),h=0,m=v.length;h<m;++h)if(R=v[h].name.toUpperCase(),re=v[h].abbr.toUpperCase(),_e=v[h].narrow.toUpperCase(),d)switch(u){case"N":case"NN":case"NNN":if(re===i)return v[h];break;case"NNNN":if(R===i)return v[h];break;case"NNNNN":if(_e===i)return v[h];break}else if([R,re,_e].indexOf(i)>=0)return v[h]}function E1(i,u){var d=i.since<=i.until?1:-1;return u===void 0?e(i.since).year():e(i.since).year()+(u-i.offset)*d}function D1(){var i,u,d,h=this.localeData().eras();for(i=0,u=h.length;i<u;++i)if(d=this.clone().startOf("day").valueOf(),h[i].since<=d&&d<=h[i].until||h[i].until<=d&&d<=h[i].since)return h[i].name;return""}function S1(){var i,u,d,h=this.localeData().eras();for(i=0,u=h.length;i<u;++i)if(d=this.clone().startOf("day").valueOf(),h[i].since<=d&&d<=h[i].until||h[i].until<=d&&d<=h[i].since)return h[i].narrow;return""}function O1(){var i,u,d,h=this.localeData().eras();for(i=0,u=h.length;i<u;++i)if(d=this.clone().startOf("day").valueOf(),h[i].since<=d&&d<=h[i].until||h[i].until<=d&&d<=h[i].since)return h[i].abbr;return""}function M1(){var i,u,d,h,m=this.localeData().eras();for(i=0,u=m.length;i<u;++i)if(d=m[i].since<=m[i].until?1:-1,h=this.clone().startOf("day").valueOf(),m[i].since<=h&&h<=m[i].until||m[i].until<=h&&h<=m[i].since)return(this.year()-e(m[i].since).year())*d+m[i].offset;return this.year()}function R1(i){return a(this,"_erasNameRegex")||Il.call(this),i?this._erasNameRegex:this._erasRegex}function x1(i){return a(this,"_erasAbbrRegex")||Il.call(this),i?this._erasAbbrRegex:this._erasRegex}function P1(i){return a(this,"_erasNarrowRegex")||Il.call(this),i?this._erasNarrowRegex:this._erasRegex}function Cl(i,u){return u.erasAbbrRegex(i)}function A1(i,u){return u.erasNameRegex(i)}function N1(i,u){return u.erasNarrowRegex(i)}function C1(i,u){return u._eraYearOrdinalRegex||fr}function Il(){var i=[],u=[],d=[],h=[],m,v,R=this.eras();for(m=0,v=R.length;m<v;++m)u.push(yt(R[m].name)),i.push(yt(R[m].abbr)),d.push(yt(R[m].narrow)),h.push(yt(R[m].name)),h.push(yt(R[m].abbr)),h.push(yt(R[m].narrow));this._erasRegex=new RegExp("^("+h.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+u.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+d.join("|")+")","i")}E(0,["gg",2],0,function(){return this.weekYear()%100}),E(0,["GG",2],0,function(){return this.isoWeekYear()%100});function So(i,u){E(0,[i,i.length],0,u)}So("gggg","weekYear"),So("ggggg","weekYear"),So("GGGG","isoWeekYear"),So("GGGGG","isoWeekYear"),pt("weekYear","gg"),pt("isoWeekYear","GG"),$e("weekYear",1),$e("isoWeekYear",1),$("G",Pn),$("g",Pn),$("GG",Ye,vt),$("gg",Ye,vt),$("GGGG",xn,dr),$("gggg",xn,dr),$("GGGGG",ss,Jr),$("ggggg",ss,Jr),mr(["gggg","ggggg","GGGG","GGGGG"],function(i,u,d,h){u[h.substr(0,2)]=he(i)}),mr(["gg","GG"],function(i,u,d,h){u[h]=e.parseTwoDigitYear(i)});function I1(i){return Xp.call(this,i,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function F1(i){return Xp.call(this,i,this.isoWeek(),this.isoWeekday(),1,4)}function L1(){return tn(this.year(),1,4)}function Y1(){return tn(this.isoWeekYear(),1,4)}function U1(){var i=this.localeData()._week;return tn(this.year(),i.dow,i.doy)}function W1(){var i=this.localeData()._week;return tn(this.weekYear(),i.dow,i.doy)}function Xp(i,u,d,h,m){var v;return i==null?Ui(this,h,m).year:(v=tn(i,h,m),u>v&&(u=v),q1.call(this,i,u,d,h,m))}function q1(i,u,d,h,m){var v=Rp(i,u,d,h,m),R=Yi(v.year,0,v.dayOfYear);return this.year(R.getUTCFullYear()),this.month(R.getUTCMonth()),this.date(R.getUTCDate()),this}E("Q",0,"Qo","quarter"),pt("quarter","Q"),$e("quarter",7),$("Q",Mn),Pe("Q",function(i,u){u[Je]=(he(i)-1)*3});function j1(i){return i==null?Math.ceil((this.month()+1)/3):this.month((i-1)*3+this.month()%3)}E("D",["DD",2],"Do","date"),pt("date","D"),$e("date",9),$("D",Ye),$("DD",Ye,vt),$("Do",function(i,u){return i?u._dayOfMonthOrdinalParse||u._ordinalParse:u._dayOfMonthOrdinalParseLenient}),Pe(["D","DD"],j),Pe("Do",function(i,u){u[j]=he(i.match(Ye)[0])});var Jp=Xr("Date",!0);E("DDD",["DDDD",3],"DDDo","dayOfYear"),pt("dayOfYear","DDD"),$e("dayOfYear",4),$("DDD",ns),$("DDDD",Fi),Pe(["DDD","DDDD"],function(i,u,d){d._dayOfYear=he(i)});function $1(i){var u=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return i==null?u:this.add(i-u,"d")}E("m",["mm",2],0,"minute"),pt("minute","m"),$e("minute",14),$("m",Ye),$("mm",Ye,vt),Pe(["m","mm"],ce);var G1=Xr("Minutes",!1);E("s",["ss",2],0,"second"),pt("second","s"),$e("second",15),$("s",Ye),$("ss",Ye,vt),Pe(["s","ss"],$t);var H1=Xr("Seconds",!1);E("S",0,0,function(){return~~(this.millisecond()/100)}),E(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),E(0,["SSS",3],0,"millisecond"),E(0,["SSSS",4],0,function(){return this.millisecond()*10}),E(0,["SSSSS",5],0,function(){return this.millisecond()*100}),E(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),E(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),E(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),E(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),pt("millisecond","ms"),$e("millisecond",16),$("S",ns,Mn),$("SS",ns,vt),$("SSS",ns,Fi);var Nn,em;for(Nn="SSSS";Nn.length<=9;Nn+="S")$(Nn,fr);function B1(i,u){u[as]=he(("0."+i)*1e3)}for(Nn="S";Nn.length<=9;Nn+="S")Pe(Nn,B1);em=Xr("Milliseconds",!1),E("z",0,0,"zoneAbbr"),E("zz",0,0,"zoneName");function z1(){return this._isUTC?"UTC":""}function V1(){return this._isUTC?"Coordinated Universal Time":""}var F=ue.prototype;F.add=W0,F.calendar=z0,F.clone=V0,F.diff=t1,F.endOf=d1,F.format=i1,F.from=a1,F.fromNow=o1,F.to=u1,F.toNow=l1,F.get=ho,F.invalidAt=b1,F.isAfter=K0,F.isBefore=Z0,F.isBetween=Q0,F.isSame=X0,F.isSameOrAfter=J0,F.isSameOrBefore=e1,F.isValid=_1,F.lang=zp,F.locale=Bp,F.localeData=Vp,F.max=_0,F.min=g0,F.parsingFlags=T1,F.set=Wr,F.startOf=c1,F.subtract=q0,F.toArray=m1,F.toObject=y1,F.toDate=p1,F.toISOString=n1,F.inspect=s1,typeof Symbol!="undefined"&&Symbol.for!=null&&(F[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),F.toJSON=g1,F.toString=r1,F.unix=h1,F.valueOf=f1,F.creationData=v1,F.eraName=D1,F.eraNarrow=S1,F.eraAbbr=O1,F.eraYear=M1,F.year=Mp,F.isLeapYear=yw,F.weekYear=I1,F.isoWeekYear=F1,F.quarter=F.quarters=j1,F.month=Sp,F.daysInMonth=hw,F.week=F.weeks=ww,F.isoWeek=F.isoWeeks=kw,F.weeksInYear=U1,F.weeksInWeekYear=W1,F.isoWeeksInYear=L1,F.isoWeeksInISOWeekYear=Y1,F.date=Jp,F.day=F.days=Fw,F.weekday=Lw,F.isoWeekday=Yw,F.dayOfYear=$1,F.hour=F.hours=Hw,F.minute=F.minutes=G1,F.second=F.seconds=H1,F.millisecond=F.milliseconds=em,F.utcOffset=O0,F.utc=R0,F.local=x0,F.parseZone=P0,F.hasAlignedHourOffset=A0,F.isDST=N0,F.isLocal=I0,F.isUtcOffset=F0,F.isUtc=qp,F.isUTC=qp,F.zoneAbbr=z1,F.zoneName=V1,F.dates=ee("dates accessor is deprecated. Use date instead.",Jp),F.months=ee("months accessor is deprecated. Use month instead",Sp),F.years=ee("years accessor is deprecated. Use year instead",Mp),F.zone=ee("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",M0),F.isDSTShifted=ee("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",C0);function K1(i){return Ze(i*1e3)}function Z1(){return Ze.apply(null,arguments).parseZone()}function tm(i){return i}var Me=te.prototype;Me.calendar=y,Me.longDateFormat=ge,Me.invalidDate=Ie,Me.ordinal=ze,Me.preparse=tm,Me.postformat=tm,Me.relativeTime=Or,Me.pastFuture=nt,Me.set=W,Me.eras=w1,Me.erasParse=k1,Me.erasConvertYear=E1,Me.erasAbbrRegex=x1,Me.erasNameRegex=R1,Me.erasNarrowRegex=P1,Me.months=lw,Me.monthsShort=cw,Me.monthsParse=fw,Me.monthsRegex=mw,Me.monthsShortRegex=pw,Me.week=_w,Me.firstDayOfYear=vw,Me.firstDayOfWeek=bw,Me.weekdays=Pw,Me.weekdaysMin=Nw,Me.weekdaysShort=Aw,Me.weekdaysParse=Iw,Me.weekdaysRegex=Uw,Me.weekdaysShortRegex=Ww,Me.weekdaysMinRegex=qw,Me.isPM=$w,Me.meridiem=Bw;function Oo(i,u,d,h){var m=rn(),v=T().set(h,u);return m[d](v,i)}function rm(i,u,d){if(c(i)&&(u=i,i=void 0),i=i||"",u!=null)return Oo(i,u,d,"month");var h,m=[];for(h=0;h<12;h++)m[h]=Oo(i,h,d,"month");return m}function Fl(i,u,d,h){typeof i=="boolean"?(c(u)&&(d=u,u=void 0),u=u||""):(u=i,d=u,i=!1,c(u)&&(d=u,u=void 0),u=u||"");var m=rn(),v=i?m._week.dow:0,R,re=[];if(d!=null)return Oo(u,(d+v)%7,h,"day");for(R=0;R<7;R++)re[R]=Oo(u,(R+v)%7,h,"day");return re}function Q1(i,u){return rm(i,u,"months")}function X1(i,u){return rm(i,u,"monthsShort")}function J1(i,u,d){return Fl(i,u,d,"weekdays")}function ek(i,u,d){return Fl(i,u,d,"weekdaysShort")}function tk(i,u,d){return Fl(i,u,d,"weekdaysMin")}An("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(i){var u=i%10,d=he(i%100/10)===1?"th":u===1?"st":u===2?"nd":u===3?"rd":"th";return i+d}}),e.lang=ee("moment.lang is deprecated. Use moment.locale instead.",An),e.langData=ee("moment.langData is deprecated. Use moment.localeData instead.",rn);var nn=Math.abs;function rk(){var i=this._data;return this._milliseconds=nn(this._milliseconds),this._days=nn(this._days),this._months=nn(this._months),i.milliseconds=nn(i.milliseconds),i.seconds=nn(i.seconds),i.minutes=nn(i.minutes),i.hours=nn(i.hours),i.months=nn(i.months),i.years=nn(i.years),this}function nm(i,u,d,h){var m=Mr(u,d);return i._milliseconds+=h*m._milliseconds,i._days+=h*m._days,i._months+=h*m._months,i._bubble()}function nk(i,u){return nm(this,i,u,1)}function sk(i,u){return nm(this,i,u,-1)}function sm(i){return i<0?Math.floor(i):Math.ceil(i)}function ik(){var i=this._milliseconds,u=this._days,d=this._months,h=this._data,m,v,R,re,_e;return i>=0&&u>=0&&d>=0||i<=0&&u<=0&&d<=0||(i+=sm(Ll(d)+u)*864e5,u=0,d=0),h.milliseconds=i%1e3,m=mt(i/1e3),h.seconds=m%60,v=mt(m/60),h.minutes=v%60,R=mt(v/60),h.hours=R%24,u+=mt(R/24),_e=mt(im(u)),d+=_e,u-=sm(Ll(_e)),re=mt(d/12),d%=12,h.days=u,h.months=d,h.years=re,this}function im(i){return i*4800/146097}function Ll(i){return i*146097/4800}function ak(i){if(!this.isValid())return NaN;var u,d,h=this._milliseconds;if(i=bt(i),i==="month"||i==="quarter"||i==="year")switch(u=this._days+h/864e5,d=this._months+im(u),i){case"month":return d;case"quarter":return d/3;case"year":return d/12}else switch(u=this._days+Math.round(Ll(this._months)),i){case"week":return u/7+h/6048e5;case"day":return u+h/864e5;case"hour":return u*24+h/36e5;case"minute":return u*1440+h/6e4;case"second":return u*86400+h/1e3;case"millisecond":return Math.floor(u*864e5)+h;default:throw new Error("Unknown unit "+i)}}function ok(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+he(this._months/12)*31536e6:NaN}function sn(i){return function(){return this.as(i)}}var uk=sn("ms"),lk=sn("s"),ck=sn("m"),dk=sn("h"),fk=sn("d"),hk=sn("w"),pk=sn("M"),mk=sn("Q"),yk=sn("y");function gk(){return Mr(this)}function _k(i){return i=bt(i),this.isValid()?this[i+"s"]():NaN}function us(i){return function(){return this.isValid()?this._data[i]:NaN}}var Tk=us("milliseconds"),bk=us("seconds"),vk=us("minutes"),wk=us("hours"),kk=us("days"),Ek=us("months"),Dk=us("years");function Sk(){return mt(this.days()/7)}var an=Math.round,Bs={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Ok(i,u,d,h,m){return m.relativeTime(u||1,!!d,i,h)}function Mk(i,u,d,h){var m=Mr(i).abs(),v=an(m.as("s")),R=an(m.as("m")),re=an(m.as("h")),_e=an(m.as("d")),Ue=an(m.as("M")),Gt=an(m.as("w")),on=an(m.as("y")),Cn=v<=d.ss&&["s",v]||v<d.s&&["ss",v]||R<=1&&["m"]||R<d.m&&["mm",R]||re<=1&&["h"]||re<d.h&&["hh",re]||_e<=1&&["d"]||_e<d.d&&["dd",_e];return d.w!=null&&(Cn=Cn||Gt<=1&&["w"]||Gt<d.w&&["ww",Gt]),Cn=Cn||Ue<=1&&["M"]||Ue<d.M&&["MM",Ue]||on<=1&&["y"]||["yy",on],Cn[2]=u,Cn[3]=+i>0,Cn[4]=h,Ok.apply(null,Cn)}function Rk(i){return i===void 0?an:typeof i=="function"?(an=i,!0):!1}function xk(i,u){return Bs[i]===void 0?!1:u===void 0?Bs[i]:(Bs[i]=u,i==="s"&&(Bs.ss=u-1),!0)}function Pk(i,u){if(!this.isValid())return this.localeData().invalidDate();var d=!1,h=Bs,m,v;return typeof i=="object"&&(u=i,i=!1),typeof i=="boolean"&&(d=i),typeof u=="object"&&(h=Object.assign({},Bs,u),u.s!=null&&u.ss==null&&(h.ss=u.s-1)),m=this.localeData(),v=Mk(this,!d,h,m),d&&(v=m.pastFuture(+this,v)),m.postformat(v)}var Yl=Math.abs;function zs(i){return(i>0)-(i<0)||+i}function Mo(){if(!this.isValid())return this.localeData().invalidDate();var i=Yl(this._milliseconds)/1e3,u=Yl(this._days),d=Yl(this._months),h,m,v,R,re=this.asSeconds(),_e,Ue,Gt,on;return re?(h=mt(i/60),m=mt(h/60),i%=60,h%=60,v=mt(d/12),d%=12,R=i?i.toFixed(3).replace(/\.?0+$/,""):"",_e=re<0?"-":"",Ue=zs(this._months)!==zs(re)?"-":"",Gt=zs(this._days)!==zs(re)?"-":"",on=zs(this._milliseconds)!==zs(re)?"-":"",_e+"P"+(v?Ue+v+"Y":"")+(d?Ue+d+"M":"")+(u?Gt+u+"D":"")+(m||h||i?"T":"")+(m?on+m+"H":"")+(h?on+h+"M":"")+(i?on+R+"S":"")):"P0D"}var Oe=vo.prototype;Oe.isValid=k0,Oe.abs=rk,Oe.add=nk,Oe.subtract=sk,Oe.as=ak,Oe.asMilliseconds=uk,Oe.asSeconds=lk,Oe.asMinutes=ck,Oe.asHours=dk,Oe.asDays=fk,Oe.asWeeks=hk,Oe.asMonths=pk,Oe.asQuarters=mk,Oe.asYears=yk,Oe.valueOf=ok,Oe._bubble=ik,Oe.clone=gk,Oe.get=_k,Oe.milliseconds=Tk,Oe.seconds=bk,Oe.minutes=vk,Oe.hours=wk,Oe.days=kk,Oe.weeks=Sk,Oe.months=Ek,Oe.years=Dk,Oe.humanize=Pk,Oe.toISOString=Mo,Oe.toString=Mo,Oe.toJSON=Mo,Oe.locale=Bp,Oe.localeData=Vp,Oe.toIsoString=ee("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Mo),Oe.lang=zp,E("X",0,0,"unix"),E("x",0,0,"valueOf"),$("x",Pn),$("X",mo),Pe("X",function(i,u,d){d._d=new Date(parseFloat(i)*1e3)}),Pe("x",function(i,u,d){d._d=new Date(he(i))});return e.version="2.29.4",t(Ze),e.fn=F,e.min=T0,e.max=b0,e.now=v0,e.utc=T,e.unix=K1,e.months=Q1,e.isDate=f,e.locale=An,e.invalid=G,e.duration=Mr,e.isMoment=ye,e.weekdays=J1,e.parseZone=Z1,e.localeData=rn,e.isDuration=wo,e.monthsShort=X1,e.weekdaysMin=tk,e.defineLocale=Dl,e.updateLocale=Zw,e.locales=Qw,e.weekdaysShort=ek,e.normalizeUnits=bt,e.relativeTimeRounding=Rk,e.relativeTimeThreshold=xk,e.calendarFormat=B0,e.prototype=F,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var ub=O((wY,Ou)=>{var qT,jT,$T,GT,HT,BT,zT,VT,KT,Du,Ah,ZT,QT,XT,hi,JT,eb,tb,rb,nb,sb,ib,ab,ob,Su;(function(r){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){r(t(e,t(n)))}):typeof Ou=="object"&&typeof Ou.exports=="object"?r(t(e,t(Ou.exports))):r(t(e));function t(n,s){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(a,o){return n[a]=s?s(a,o):o}}})(function(r){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])};qT=function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(n,s);function a(){this.constructor=n}n.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)},jT=Object.assign||function(n){for(var s,a=1,o=arguments.length;a<o;a++){s=arguments[a];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(n[l]=s[l])}return n},$T=function(n,s){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&s.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)s.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a},GT=function(n,s,a,o){var l=arguments.length,c=l<3?s:o===null?o=Object.getOwnPropertyDescriptor(s,a):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(n,s,a,o);else for(var p=n.length-1;p>=0;p--)(f=n[p])&&(c=(l<3?f(c):l>3?f(s,a,c):f(s,a))||c);return l>3&&c&&Object.defineProperty(s,a,c),c},HT=function(n,s){return function(a,o){s(a,o,n)}},BT=function(n,s){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,s)},zT=function(n,s,a,o){function l(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function p(S){try{T(o.next(S))}catch(b){f(b)}}function g(S){try{T(o.throw(S))}catch(b){f(b)}}function T(S){S.done?c(S.value):l(S.value).then(p,g)}T((o=o.apply(n,s||[])).next())})},VT=function(n,s){var a={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(T){return function(S){return g([T,S])}}function g(T){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,l&&(c=T[0]&2?l.return:T[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,T[1])).done)return c;switch(l=0,c&&(T=[T[0]&2,c.value]),T[0]){case 0:case 1:c=T;break;case 4:return a.label++,{value:T[1],done:!1};case 5:a.label++,l=T[1],T=[0];continue;case 7:T=a.ops.pop(),a.trys.pop();continue;default:if(c=a.trys,!(c=c.length>0&&c[c.length-1])&&(T[0]===6||T[0]===2)){a=0;continue}if(T[0]===3&&(!c||T[1]>c[0]&&T[1]<c[3])){a.label=T[1];break}if(T[0]===6&&a.label<c[1]){a.label=c[1],c=T;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(T);break}c[2]&&a.ops.pop(),a.trys.pop();continue}T=s.call(n,a)}catch(S){T=[6,S],l=0}finally{o=c=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},KT=function(n,s){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&Su(s,n,a)},Su=Object.create?function(n,s,a,o){o===void 0&&(o=a);var l=Object.getOwnPropertyDescriptor(s,a);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[a]}}),Object.defineProperty(n,o,l)}:function(n,s,a,o){o===void 0&&(o=a),n[o]=s[a]},Du=function(n){var s=typeof Symbol=="function"&&Symbol.iterator,a=s&&n[s],o=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},Ah=function(n,s){var a=typeof Symbol=="function"&&n[Symbol.iterator];if(!a)return n;var o=a.call(n),l,c=[],f;try{for(;(s===void 0||s-- >0)&&!(l=o.next()).done;)c.push(l.value)}catch(p){f={error:p}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(f)throw f.error}}return c},ZT=function(){for(var n=[],s=0;s<arguments.length;s++)n=n.concat(Ah(arguments[s]));return n},QT=function(){for(var n=0,s=0,a=arguments.length;s<a;s++)n+=arguments[s].length;for(var o=Array(n),l=0,s=0;s<a;s++)for(var c=arguments[s],f=0,p=c.length;f<p;f++,l++)o[l]=c[f];return o},XT=function(n,s,a){if(a||arguments.length===2)for(var o=0,l=s.length,c;o<l;o++)(c||!(o in s))&&(c||(c=Array.prototype.slice.call(s,0,o)),c[o]=s[o]);return n.concat(c||Array.prototype.slice.call(s))},hi=function(n){return this instanceof hi?(this.v=n,this):new hi(n)},JT=function(n,s,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=a.apply(n,s||[]),l,c=[];return l={},f("next"),f("throw"),f("return"),l[Symbol.asyncIterator]=function(){return this},l;function f(x){o[x]&&(l[x]=function(C){return new Promise(function(G,K){c.push([x,C,G,K])>1||p(x,C)})})}function p(x,C){try{g(o[x](C))}catch(G){b(c[0][3],G)}}function g(x){x.value instanceof hi?Promise.resolve(x.value.v).then(T,S):b(c[0][2],x)}function T(x){p("next",x)}function S(x){p("throw",x)}function b(x,C){x(C),c.shift(),c.length&&p(c[0][0],c[0][1])}},eb=function(n){var s,a;return s={},o("next"),o("throw",function(l){throw l}),o("return"),s[Symbol.iterator]=function(){return this},s;function o(l,c){s[l]=n[l]?function(f){return(a=!a)?{value:hi(n[l](f)),done:l==="return"}:c?c(f):f}:c}},tb=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n[Symbol.asyncIterator],a;return s?s.call(n):(n=typeof Du=="function"?Du(n):n[Symbol.iterator](),a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a);function o(c){a[c]=n[c]&&function(f){return new Promise(function(p,g){f=n[c](f),l(p,g,f.done,f.value)})}}function l(c,f,p,g){Promise.resolve(g).then(function(T){c({value:T,done:p})},f)}},rb=function(n,s){return Object.defineProperty?Object.defineProperty(n,"raw",{value:s}):n.raw=s,n};var t=Object.create?function(n,s){Object.defineProperty(n,"default",{enumerable:!0,value:s})}:function(n,s){n.default=s};nb=function(n){if(n&&n.__esModule)return n;var s={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&Su(s,n,a);return t(s,n),s},sb=function(n){return n&&n.__esModule?n:{default:n}},ib=function(n,s,a,o){if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?n!==s||!o:!s.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?o:a==="a"?o.call(n):o?o.value:s.get(n)},ab=function(n,s,a,o,l){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?n!==s||!l:!s.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?l.call(n,a):l?l.value=a:s.set(n,a),a},ob=function(n,s){if(s===null||typeof s!="object"&&typeof s!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?s===n:n.has(s)},r("__extends",qT),r("__assign",jT),r("__rest",$T),r("__decorate",GT),r("__param",HT),r("__metadata",BT),r("__awaiter",zT),r("__generator",VT),r("__exportStar",KT),r("__createBinding",Su),r("__values",Du),r("__read",Ah),r("__spread",ZT),r("__spreadArrays",QT),r("__spreadArray",XT),r("__await",hi),r("__asyncGenerator",JT),r("__asyncDelegator",eb),r("__asyncValues",tb),r("__makeTemplateObject",rb),r("__importStar",nb),r("__importDefault",sb),r("__classPrivateFieldGet",ib),r("__classPrivateFieldSet",ab),r("__classPrivateFieldIn",ob)})});var zb=O((Hb,Bb)=>{(function(r){var e=Object.hasOwnProperty,t=Array.isArray?Array.isArray:function(_){return Object.prototype.toString.call(_)==="[object Array]"},n=10,s=typeof process=="object"&&typeof process.nextTick=="function",a=typeof Symbol=="function",o=typeof Reflect=="object",l=typeof setImmediate=="function",c=l?setImmediate:setTimeout,f=a?o&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(y){var _=Object.getOwnPropertyNames(y);return _.push.apply(_,Object.getOwnPropertySymbols(y)),_}:Object.keys;function p(){this._events={},this._conf&&g.call(this,this._conf)}function g(y){y&&(this._conf=y,y.delimiter&&(this.delimiter=y.delimiter),y.maxListeners!==r&&(this._maxListeners=y.maxListeners),y.wildcard&&(this.wildcard=y.wildcard),y.newListener&&(this._newListener=y.newListener),y.removeListener&&(this._removeListener=y.removeListener),y.verboseMemoryLeak&&(this.verboseMemoryLeak=y.verboseMemoryLeak),y.ignoreErrors&&(this.ignoreErrors=y.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function T(y,_){var w="(node) warning: possible EventEmitter memory leak detected. "+y+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(w+=" Event name: "+_+"."),typeof process!="undefined"&&process.emitWarning){var k=new Error(w);k.name="MaxListenersExceededWarning",k.emitter=this,k.count=y,process.emitWarning(k)}else console.error(w),console.trace&&console.trace()}var S=function(y,_,w){var k=arguments.length;switch(k){case 0:return[];case 1:return[y];case 2:return[y,_];case 3:return[y,_,w];default:for(var D=new Array(k);k--;)D[k]=arguments[k];return D}};function b(y,_){for(var w={},k,D=y.length,M=_?_.length:0,E=0;E<D;E++)k=y[E],w[k]=E<M?_[E]:r;return w}function x(y,_,w){this._emitter=y,this._target=_,this._listeners={},this._listenersCount=0;var k,D;if((w.on||w.off)&&(k=w.on,D=w.off),_.addEventListener?(k=_.addEventListener,D=_.removeEventListener):_.addListener?(k=_.addListener,D=_.removeListener):_.on&&(k=_.on,D=_.off),!k&&!D)throw Error("target does not implement any known event API");if(typeof k!="function")throw TypeError("on method must be a function");if(typeof D!="function")throw TypeError("off method must be a function");this._on=k,this._off=D;var M=y._observers;M?M.push(this):y._observers=[this]}Object.assign(x.prototype,{subscribe:function(y,_,w){var k=this,D=this._target,M=this._emitter,E=this._listeners,I=function(){var A=S.apply(null,arguments),N={data:A,name:_,original:y};if(w){var q=w.call(D,N);q!==!1&&M.emit.apply(M,[N.name].concat(A));return}M.emit.apply(M,[_].concat(A))};if(E[y])throw Error("Event '"+y+"' is already listening");this._listenersCount++,M._newListener&&M._removeListener&&!k._onNewListener?(this._onNewListener=function(A){A===_&&E[y]===null&&(E[y]=I,k._on.call(D,y,I))},M.on("newListener",this._onNewListener),this._onRemoveListener=function(A){A===_&&!M.hasListeners(A)&&E[y]&&(E[y]=null,k._off.call(D,y,I))},E[y]=null,M.on("removeListener",this._onRemoveListener)):(E[y]=I,k._on.call(D,y,I))},unsubscribe:function(y){var _=this,w=this._listeners,k=this._emitter,D,M,E=this._off,I=this._target,A;if(y&&typeof y!="string")throw TypeError("event must be a string");function N(){_._onNewListener&&(k.off("newListener",_._onNewListener),k.off("removeListener",_._onRemoveListener),_._onNewListener=null,_._onRemoveListener=null);var q=ye.call(k,_);k._observers.splice(q,1)}if(y){if(D=w[y],!D)return;E.call(I,y,D),delete w[y],--this._listenersCount||N()}else{for(M=f(w),A=M.length;A-- >0;)y=M[A],E.call(I,y,w[y]);this._listeners={},this._listenersCount=0,N()}}});function C(y,_,w,k){var D=Object.assign({},_);if(!y)return D;if(typeof y!="object")throw TypeError("options must be an object");var M=Object.keys(y),E=M.length,I,A,N;function q(ge){throw Error('Invalid "'+I+'" option value'+(ge?". Reason: "+ge:""))}for(var Ee=0;Ee<E;Ee++){if(I=M[Ee],!k&&!e.call(_,I))throw Error('Unknown "'+I+'" option');A=y[I],A!==r&&(N=w[I],D[I]=N?N(A,q):A)}return D}function G(y,_){return(typeof y!="function"||!y.hasOwnProperty("prototype"))&&_("value must be a constructor"),y}function K(y){var _="value must be type of "+y.join("|"),w=y.length,k=y[0],D=y[1];return w===1?function(M,E){if(typeof M===k)return M;E(_)}:w===2?function(M,E){var I=typeof M;if(I===k||I===D)return M;E(_)}:function(M,E){for(var I=typeof M,A=w;A-- >0;)if(I===y[A])return M;E(_)}}var B=K(["function"]),de=K(["object","function"]);function ue(y,_,w){var k,D,M=0,E,I=new y(function(A,N,q){w=C(w,{timeout:0,overload:!1},{timeout:function(Ie,V){return Ie*=1,(typeof Ie!="number"||Ie<0||!Number.isFinite(Ie))&&V("timeout must be a positive number"),Ie}}),k=!w.overload&&typeof y.prototype.cancel=="function"&&typeof q=="function";function Ee(){D&&(D=null),M&&(clearTimeout(M),M=0)}var ge=function(Ie){Ee(),A(Ie)},fe=function(Ie){Ee(),N(Ie)};k?_(ge,fe,q):(D=[function(Ie){fe(Ie||Error("canceled"))}],_(ge,fe,function(Ie){if(E)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof Ie!="function")throw TypeError("onCancel callback must be a function");D.push(Ie)}),E=!0),w.timeout>0&&(M=setTimeout(function(){var Ie=Error("timeout");Ie.code="ETIMEDOUT",M=0,I.cancel(Ie),N(Ie)},w.timeout))});return k||(I.cancel=function(A){if(!!D){for(var N=D.length,q=1;q<N;q++)D[q](A);D[0](A),D=null}}),I}function ye(y){var _=this._observers;if(!_)return-1;for(var w=_.length,k=0;k<w;k++)if(_[k]._target===y)return k;return-1}function Q(y,_,w,k,D){if(!w)return null;if(k===0){var M=typeof _;if(M==="string"){var E,I,A=0,N=0,q=this.delimiter,Ee=q.length;if((I=_.indexOf(q))!==-1){E=new Array(5);do E[A++]=_.slice(N,I),N=I+Ee;while((I=_.indexOf(q,N))!==-1);E[A++]=_.slice(N),_=E,D=A}else _=[_],D=1}else M==="object"?D=_.length:(_=[_],D=1)}var ge=null,fe,Ie,V,qe,ze,ht=_[k],Or=_[k+1],nt,je;if(k===D)w._listeners&&(typeof w._listeners=="function"?(y&&y.push(w._listeners),ge=[w]):(y&&y.push.apply(y,w._listeners),ge=[w]));else if(ht==="*"){for(nt=f(w),I=nt.length;I-- >0;)fe=nt[I],fe!=="_listeners"&&(je=Q(y,_,w[fe],k+1,D),je&&(ge?ge.push.apply(ge,je):ge=je));return ge}else if(ht==="**"){for(ze=k+1===D||k+2===D&&Or==="*",ze&&w._listeners&&(ge=Q(y,_,w,D,D)),nt=f(w),I=nt.length;I-- >0;)fe=nt[I],fe!=="_listeners"&&(fe==="*"||fe==="**"?(w[fe]._listeners&&!ze&&(je=Q(y,_,w[fe],D,D),je&&(ge?ge.push.apply(ge,je):ge=je)),je=Q(y,_,w[fe],k,D)):fe===Or?je=Q(y,_,w[fe],k+2,D):je=Q(y,_,w[fe],k,D),je&&(ge?ge.push.apply(ge,je):ge=je));return ge}else w[ht]&&(ge=Q(y,_,w[ht],k+1,D));if(Ie=w["*"],Ie&&Q(y,_,Ie,k+1,D),V=w["**"],V)if(k<D)for(V._listeners&&Q(y,_,V,D,D),nt=f(V),I=nt.length;I-- >0;)fe=nt[I],fe!=="_listeners"&&(fe===Or?Q(y,_,V[fe],k+2,D):fe===ht?Q(y,_,V[fe],k+1,D):(qe={},qe[fe]=V[fe],Q(y,_,{"**":qe},k+1,D)));else V._listeners?Q(y,_,V,D,D):V["*"]&&V["*"]._listeners&&Q(y,_,V["*"],D,D);return ge}function ee(y,_,w){var k=0,D=0,M,E=this.delimiter,I=E.length,A;if(typeof y=="string")if((M=y.indexOf(E))!==-1){A=new Array(5);do A[k++]=y.slice(D,M),D=M+I;while((M=y.indexOf(E,D))!==-1);A[k++]=y.slice(D)}else A=[y],k=1;else A=y,k=y.length;if(k>1){for(M=0;M+1<k;M++)if(A[M]==="**"&&A[M+1]==="**")return}var N=this.listenerTree,q;for(M=0;M<k;M++)if(q=A[M],N=N[q]||(N[q]={}),M===k-1)return N._listeners?(typeof N._listeners=="function"&&(N._listeners=[N._listeners]),w?N._listeners.unshift(_):N._listeners.push(_),!N._listeners.warned&&this._maxListeners>0&&N._listeners.length>this._maxListeners&&(N._listeners.warned=!0,T.call(this,N._listeners.length,q))):N._listeners=_,!0;return!0}function rt(y,_,w,k){for(var D=f(y),M=D.length,E,I,A,N=y._listeners,q;M-- >0;)I=D[M],E=y[I],I==="_listeners"?A=w:A=w?w.concat(I):[I],q=k||typeof I=="symbol",N&&_.push(q?A:A.join(this.delimiter)),typeof E=="object"&&rt.call(this,E,_,A,q);return _}function Tt(y){for(var _=f(y),w=_.length,k,D,M;w-- >0;)D=_[w],k=y[D],k&&(M=!0,D!=="_listeners"&&!Tt(k)&&delete y[D]);return M}function z(y,_,w){this.emitter=y,this.event=_,this.listener=w}z.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function W(y,_,w){if(w===!0)D=!0;else if(w===!1)k=!0;else{if(!w||typeof w!="object")throw TypeError("options should be an object or true");var k=w.async,D=w.promisify,M=w.nextTick,E=w.objectify}if(k||M||D){var I=_,A=_._origin||_;if(M&&!s)throw Error("process.nextTick is not supported");D===r&&(D=_.constructor.name==="AsyncFunction"),_=function(){var N=arguments,q=this,Ee=this.event;return D?M?Promise.resolve():new Promise(function(ge){c(ge)}).then(function(){return q.event=Ee,I.apply(q,N)}):(M?process.nextTick:c)(function(){q.event=Ee,I.apply(q,N)})},_._async=!0,_._origin=A}return[_,E?new z(this,y,_):this]}function P(y){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,g.call(this,y)}P.EventEmitter2=P,P.prototype.listenTo=function(y,_,w){if(typeof y!="object")throw TypeError("target musts be an object");var k=this;w=C(w,{on:r,off:r,reducers:r},{on:B,off:B,reducers:de});function D(M){if(typeof M!="object")throw TypeError("events must be an object");var E=w.reducers,I=ye.call(k,y),A;I===-1?A=new x(k,y,w):A=k._observers[I];for(var N=f(M),q=N.length,Ee,ge=typeof E=="function",fe=0;fe<q;fe++)Ee=N[fe],A.subscribe(Ee,M[Ee]||Ee,ge?E:E&&E[Ee])}return t(_)?D(b(_)):D(typeof _=="string"?b(_.split(/\s+/)):_),this},P.prototype.stopListeningTo=function(y,_){var w=this._observers;if(!w)return!1;var k=w.length,D,M=!1;if(y&&typeof y!="object")throw TypeError("target should be an object");for(;k-- >0;)D=w[k],(!y||D._target===y)&&(D.unsubscribe(_),M=!0);return M},P.prototype.delimiter=".",P.prototype.setMaxListeners=function(y){y!==r&&(this._maxListeners=y,this._conf||(this._conf={}),this._conf.maxListeners=y)},P.prototype.getMaxListeners=function(){return this._maxListeners},P.prototype.event="",P.prototype.once=function(y,_,w){return this._once(y,_,!1,w)},P.prototype.prependOnceListener=function(y,_,w){return this._once(y,_,!0,w)},P.prototype._once=function(y,_,w,k){return this._many(y,1,_,w,k)},P.prototype.many=function(y,_,w,k){return this._many(y,_,w,!1,k)},P.prototype.prependMany=function(y,_,w,k){return this._many(y,_,w,!0,k)},P.prototype._many=function(y,_,w,k,D){var M=this;if(typeof w!="function")throw new Error("many only accepts instances of Function");function E(){return--_===0&&M.off(y,E),w.apply(this,arguments)}return E._origin=w,this._on(y,E,k,D)},P.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||p.call(this);var y=arguments[0],_,w=this.wildcard,k,D,M,E,I;if(y==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(w&&(_=y,y!=="newListener"&&y!=="removeListener"&&typeof y=="object")){if(D=y.length,a){for(M=0;M<D;M++)if(typeof y[M]=="symbol"){I=!0;break}}I||(y=y.join(this.delimiter))}var A=arguments.length,N;if(this._all&&this._all.length)for(N=this._all.slice(),M=0,D=N.length;M<D;M++)switch(this.event=y,A){case 1:N[M].call(this,y);break;case 2:N[M].call(this,y,arguments[1]);break;case 3:N[M].call(this,y,arguments[1],arguments[2]);break;default:N[M].apply(this,arguments)}if(w)N=[],Q.call(this,N,_,this.listenerTree,0,D);else if(N=this._events[y],typeof N=="function"){switch(this.event=y,A){case 1:N.call(this);break;case 2:N.call(this,arguments[1]);break;case 3:N.call(this,arguments[1],arguments[2]);break;default:for(k=new Array(A-1),E=1;E<A;E++)k[E-1]=arguments[E];N.apply(this,k)}return!0}else N&&(N=N.slice());if(N&&N.length){if(A>3)for(k=new Array(A-1),E=1;E<A;E++)k[E-1]=arguments[E];for(M=0,D=N.length;M<D;M++)switch(this.event=y,A){case 1:N[M].call(this);break;case 2:N[M].call(this,arguments[1]);break;case 3:N[M].call(this,arguments[1],arguments[2]);break;default:N[M].apply(this,k)}return!0}else if(!this.ignoreErrors&&!this._all&&y==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},P.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||p.call(this);var y=arguments[0],_=this.wildcard,w,k,D,M,E,I;if(y==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(_&&(w=y,y!=="newListener"&&y!=="removeListener"&&typeof y=="object")){if(M=y.length,a){for(E=0;E<M;E++)if(typeof y[E]=="symbol"){k=!0;break}}k||(y=y.join(this.delimiter))}var A=[],N=arguments.length,q;if(this._all)for(E=0,M=this._all.length;E<M;E++)switch(this.event=y,N){case 1:A.push(this._all[E].call(this,y));break;case 2:A.push(this._all[E].call(this,y,arguments[1]));break;case 3:A.push(this._all[E].call(this,y,arguments[1],arguments[2]));break;default:A.push(this._all[E].apply(this,arguments))}if(_?(q=[],Q.call(this,q,w,this.listenerTree,0)):q=this._events[y],typeof q=="function")switch(this.event=y,N){case 1:A.push(q.call(this));break;case 2:A.push(q.call(this,arguments[1]));break;case 3:A.push(q.call(this,arguments[1],arguments[2]));break;default:for(D=new Array(N-1),I=1;I<N;I++)D[I-1]=arguments[I];A.push(q.apply(this,D))}else if(q&&q.length){if(q=q.slice(),N>3)for(D=new Array(N-1),I=1;I<N;I++)D[I-1]=arguments[I];for(E=0,M=q.length;E<M;E++)switch(this.event=y,N){case 1:A.push(q[E].call(this));break;case 2:A.push(q[E].call(this,arguments[1]));break;case 3:A.push(q[E].call(this,arguments[1],arguments[2]));break;default:A.push(q[E].apply(this,D))}}else if(!this.ignoreErrors&&!this._all&&y==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(A)},P.prototype.on=function(y,_,w){return this._on(y,_,!1,w)},P.prototype.prependListener=function(y,_,w){return this._on(y,_,!0,w)},P.prototype.onAny=function(y){return this._onAny(y,!1)},P.prototype.prependAny=function(y){return this._onAny(y,!0)},P.prototype.addListener=P.prototype.on,P.prototype._onAny=function(y,_){if(typeof y!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),_?this._all.unshift(y):this._all.push(y),this},P.prototype._on=function(y,_,w,k){if(typeof y=="function")return this._onAny(y,_),this;if(typeof _!="function")throw new Error("on only accepts instances of Function");this._events||p.call(this);var D=this,M;return k!==r&&(M=W.call(this,y,_,k),_=M[0],D=M[1]),this._newListener&&this.emit("newListener",y,_),this.wildcard?(ee.call(this,y,_,w),D):(this._events[y]?(typeof this._events[y]=="function"&&(this._events[y]=[this._events[y]]),w?this._events[y].unshift(_):this._events[y].push(_),!this._events[y].warned&&this._maxListeners>0&&this._events[y].length>this._maxListeners&&(this._events[y].warned=!0,T.call(this,this._events[y].length,y))):this._events[y]=_,D)},P.prototype.off=function(y,_){if(typeof _!="function")throw new Error("removeListener only takes instances of Function");var w,k=[];if(this.wildcard){var D=typeof y=="string"?y.split(this.delimiter):y.slice();if(k=Q.call(this,null,D,this.listenerTree,0),!k)return this}else{if(!this._events[y])return this;w=this._events[y],k.push({_listeners:w})}for(var M=0;M<k.length;M++){var E=k[M];if(w=E._listeners,t(w)){for(var I=-1,A=0,N=w.length;A<N;A++)if(w[A]===_||w[A].listener&&w[A].listener===_||w[A]._origin&&w[A]._origin===_){I=A;break}if(I<0)continue;return this.wildcard?E._listeners.splice(I,1):this._events[y].splice(I,1),w.length===0&&(this.wildcard?delete E._listeners:delete this._events[y]),this._removeListener&&this.emit("removeListener",y,_),this}else(w===_||w.listener&&w.listener===_||w._origin&&w._origin===_)&&(this.wildcard?delete E._listeners:delete this._events[y],this._removeListener&&this.emit("removeListener",y,_))}return this.listenerTree&&Tt(this.listenerTree),this},P.prototype.offAny=function(y){var _=0,w=0,k;if(y&&this._all&&this._all.length>0){for(k=this._all,_=0,w=k.length;_<w;_++)if(y===k[_])return k.splice(_,1),this._removeListener&&this.emit("removeListenerAny",y),this}else{if(k=this._all,this._removeListener)for(_=0,w=k.length;_<w;_++)this.emit("removeListenerAny",k[_]);this._all=[]}return this},P.prototype.removeListener=P.prototype.off,P.prototype.removeAllListeners=function(y){if(y===r)return!this._events||p.call(this),this;if(this.wildcard){var _=Q.call(this,null,y,this.listenerTree,0),w,k;if(!_)return this;for(k=0;k<_.length;k++)w=_[k],w._listeners=null;this.listenerTree&&Tt(this.listenerTree)}else this._events&&(this._events[y]=null);return this},P.prototype.listeners=function(y){var _=this._events,w,k,D,M,E;if(y===r){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!_)return[];for(w=f(_),M=w.length,D=[];M-- >0;)k=_[w[M]],typeof k=="function"?D.push(k):D.push.apply(D,k);return D}else{if(this.wildcard){if(E=this.listenerTree,!E)return[];var I=[],A=typeof y=="string"?y.split(this.delimiter):y.slice();return Q.call(this,I,A,E,0),I}return _?(k=_[y],k?typeof k=="function"?[k]:k:[]):[]}},P.prototype.eventNames=function(y){var _=this._events;return this.wildcard?rt.call(this,this.listenerTree,[],null,y):_?f(_):[]},P.prototype.listenerCount=function(y){return this.listeners(y).length},P.prototype.hasListeners=function(y){if(this.wildcard){var _=[],w=typeof y=="string"?y.split(this.delimiter):y.slice();return Q.call(this,_,w,this.listenerTree,0),_.length>0}var k=this._events,D=this._all;return!!(D&&D.length||k&&(y===r?f(k).length:k[y]))},P.prototype.listenersAny=function(){return this._all?this._all:[]},P.prototype.waitFor=function(y,_){var w=this,k=typeof _;return k==="number"?_={timeout:_}:k==="function"&&(_={filter:_}),_=C(_,{timeout:0,filter:r,handleError:!1,Promise,overload:!1},{filter:B,Promise:G}),ue(_.Promise,function(D,M,E){function I(){var A=_.filter;if(!(A&&!A.apply(w,arguments)))if(w.off(y,I),_.handleError){var N=arguments[0];N?M(N):D(S.apply(null,arguments).slice(1))}else D(S.apply(null,arguments))}E(function(){w.off(y,I)}),w._on(y,I,!1)},{timeout:_.timeout,overload:_.overload})};function te(y,_,w){w=C(w,{Promise,timeout:0,overload:!1},{Promise:G});var k=w.Promise;return ue(k,function(D,M,E){var I;if(typeof y.addEventListener=="function"){I=function(){D(S.apply(null,arguments))},E(function(){y.removeEventListener(_,I)}),y.addEventListener(_,I,{once:!0});return}var A=function(){N&&y.removeListener("error",N),D(S.apply(null,arguments))},N;_!=="error"&&(N=function(q){y.removeListener(_,A),M(q)},y.once("error",N)),E(function(){N&&y.removeListener("error",N),y.removeListener(_,A)}),y.once(_,A)},{timeout:w.timeout,overload:w.overload})}var Y=P.prototype;if(Object.defineProperties(P,{defaultMaxListeners:{get:function(){return Y._maxListeners},set:function(y){if(typeof y!="number"||y<0||Number.isNaN(y))throw TypeError("n must be a non-negative number");Y._maxListeners=y},enumerable:!0},once:{value:te,writable:!0,configurable:!0}}),Object.defineProperties(Y,{_maxListeners:{value:n,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),typeof define=="function"&&define.amd)define(function(){return P});else if(typeof Hb=="object")Bb.exports=P;else{var le=new Function("","return this")();le.EventEmitter2=P}})()});var Qr=O(Xn=>{"use strict";Xn.__esModule=!0;var vF;(function(r){r.AND="AND",r.OR="OR",r.XOR="XOR",r.NOT="NOT"})(vF=Xn.Operators||(Xn.Operators={}));var wF;(function(r){r.OPEN_PARENTHESIS="(",r.CLOSE_PARENTHESIS=")"})(wF=Xn.StructuralCharacters||(Xn.StructuralCharacters={}));var kF;(function(r){r.IDENTIFIER="IDENTIFIER",r.OPERATOR="OPERATOR",r.STRUCTURAL_CHARACTER="STRUCTURAL_CHARACTER",r.EOF="EOF",r.COMMENT="COMMENT"})(kF=Xn.Tokens||(Xn.Tokens={}))});var cp=O(ol=>{"use strict";ol.__esModule=!0;var it=Qr();ol.OPERATOR_PRECEDENCE={NOT:0,XOR:1,AND:2,OR:3};ol.VALID_TOKENS={identifierOnly:[{name:it.Tokens.IDENTIFIER},{name:it.Tokens.STRUCTURAL_CHARACTER,value:it.StructuralCharacters.OPEN_PARENTHESIS}],identifierOrNot:[{name:it.Tokens.IDENTIFIER},{name:it.Tokens.STRUCTURAL_CHARACTER,value:it.StructuralCharacters.OPEN_PARENTHESIS},{name:it.Tokens.OPERATOR,value:it.Operators.NOT}],binaryOperator:[{name:it.Tokens.OPERATOR,value:it.Operators.AND},{name:it.Tokens.OPERATOR,value:it.Operators.OR},{name:it.Tokens.OPERATOR,value:it.Operators.XOR}],binaryOperatorOrClose:[{name:it.Tokens.OPERATOR,value:it.Operators.AND},{name:it.Tokens.OPERATOR,value:it.Operators.OR},{name:it.Tokens.OPERATOR,value:it.Operators.XOR},{name:it.Tokens.STRUCTURAL_CHARACTER,value:it.StructuralCharacters.CLOSE_PARENTHESIS}]}});var dp=O(wn=>{"use strict";wn.__esModule=!0;var Mi=Qr();wn.STRUCTURAL_CHARACTERS={"(":Mi.StructuralCharacters.OPEN_PARENTHESIS,")":Mi.StructuralCharacters.CLOSE_PARENTHESIS};wn.OPERATORS={AND:Mi.Operators.AND,OR:Mi.Operators.OR,XOR:Mi.Operators.XOR,NOT:Mi.Operators.NOT};wn.SEPARATORS=new Set([32,9,10,13].map(function(r){return String.fromCodePoint(r)}));wn.QUOTED_IDENTIFIER_DELIMITER=String.fromCodePoint(34);wn.COMMENT_DELIMITER=String.fromCodePoint(35);wn.EOL=String.fromCodePoint(10);wn.ESCAPE_CHARACTER=String.fromCodePoint(92)});var Mv=O(kn=>{"use strict";var fp=kn&&kn.__assign||function(){return fp=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},fp.apply(this,arguments)};kn.__esModule=!0;var Ov=Qr(),Is=dp();kn.createResult=function(r,e,t){return{token:fp({name:r},e!==null?{value:e}:{}),remainingString:t}};kn.getComment=function(r){for(var e=r.length,t=0;t<r.length;t+=1){var n=r[t];if(n===Is.EOL){e=t;break}}return kn.createResult(Ov.Tokens.COMMENT,r.slice(0,e),r.slice(e+1))};kn.getQuotedIdentifier=function(r){for(var e=!1,t="",n=null,s=0;s<r.length;s+=1){var a=r[s];if(n===null)a===Is.QUOTED_IDENTIFIER_DELIMITER?e?t=t.slice(-1)+Is.QUOTED_IDENTIFIER_DELIMITER:n=s:(a===Is.ESCAPE_CHARACTER?e=!0:e=!1,t=t+=a);else{if(!Is.SEPARATORS.has(a)&&!Is.STRUCTURAL_CHARACTERS[a])throw new Error("Unexpected character: "+a+" Expected ) character or separator");break}}if(n===null)throw new Error("Unexpected end of expression: expected "+Is.QUOTED_IDENTIFIER_DELIMITER+" character");return kn.createResult(Ov.Tokens.IDENTIFIER,t,r.slice(n+1))}});var Rv=O(hp=>{"use strict";hp.__esModule=!0;var Ri=Qr(),lr=dp(),xi=Mv();hp.lex=function(r){for(var e=null,t=null,n=null,s=0;s<r.length;s+=1){var a=r[s];if(e===null){if(!lr.SEPARATORS.has(a)){var o=lr.STRUCTURAL_CHARACTERS[a];if(o){var l=r[s+1];if(o===Ri.StructuralCharacters.CLOSE_PARENTHESIS&&l&&!lr.SEPARATORS.has(l)&&l!==Ri.StructuralCharacters.CLOSE_PARENTHESIS)throw new Error("Unexpected character: "+l+". A closing parenthesis should be followed by another closing parenthesis or whitespace");return xi.createResult(Ri.Tokens.STRUCTURAL_CHARACTER,lr.STRUCTURAL_CHARACTERS[a],r.slice(s+1))}if(a===lr.QUOTED_IDENTIFIER_DELIMITER)return xi.getQuotedIdentifier(r.slice(s+1));if(a===lr.COMMENT_DELIMITER)return xi.getComment(r.slice(s+1));e=s}}else if(lr.SEPARATORS.has(a)||lr.STRUCTURAL_CHARACTERS[a]){t=s,n=a;break}else if(a===lr.QUOTED_IDENTIFIER_DELIMITER||a===lr.COMMENT_DELIMITER)throw new Error("Unexpected character: "+a)}if(e!==null){t=t!=null?t:r.length;var c=r.slice(e,t),f=r.slice(t);if(lr.OPERATORS[c]){if(n&&!lr.SEPARATORS.has(n))throw new Error("Unexpected character: "+n+". Operators should be separated using whitespace");return xi.createResult(Ri.Tokens.OPERATOR,lr.OPERATORS[c],f)}else return xi.createResult(Ri.Tokens.IDENTIFIER,c,f)}return xi.createResult(Ri.Tokens.EOF,null,"")}});var xv=O(En=>{"use strict";var EF=En&&En.__spreadArrays||function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),s=0,e=0;e<t;e++)for(var a=arguments[e],o=0,l=a.length;o<l;o++,s++)n[s]=a[o];return n};En.__esModule=!0;var DF=Rv(),Pi=Qr(),ul=cp();En.newTokenGenerator=function(r){var e=r;return function(t,n){for(n===void 0&&(n=!1);;){var s=DF.lex(e),a=s.token,o=s.remainingString;if(e=o,a.name!==Pi.Tokens.COMMENT)return En.validateToken(a,t,n),a}}};En.getValue=function(r,e){var t=r(ul.VALID_TOKENS.identifierOrNot),n=t.value===Pi.Operators.NOT;n&&(t=r(ul.VALID_TOKENS.identifierOnly));var s=t.name===Pi.Tokens.STRUCTURAL_CHARACTER?e(r,!0):[t];return n?EF(s,[{name:Pi.Tokens.OPERATOR,value:Pi.Operators.NOT}]):s};En.previousOperatorTakesPrecedent=function(r,e){return ul.OPERATOR_PRECEDENCE[r]<=ul.OPERATOR_PRECEDENCE[e]};En.validateToken=function(r,e,t){if(t===void 0&&(t=!1),r.name===Pi.Tokens.EOF){if(t)return;throw new Error("Unexpected end of expression")}for(var n=0,s=e;n<s.length;n++){var a=s[n];if(a.name===r.name&&(!a.value||a.value===r.value))return}throw new TypeError("Invalid token")}});var mp=O(uo=>{"use strict";var Ai=uo&&uo.__spreadArrays||function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),s=0,e=0;e<t;e++)for(var a=arguments[e],o=0,l=a.length;o<l;o++,s++)n[s]=a[o];return n};uo.__esModule=!0;var Pv=Qr(),Av=cp(),ll=xv();uo.parse=function(r){if(typeof r!="string")throw new Error("Expected string but received "+typeof r);var e=ll.newTokenGenerator(r);return pp(e)};var pp=function(r,e){e===void 0&&(e=!1);for(var t=Ai(ll.getValue(r,pp)),n=[];;){var s=e?Av.VALID_TOKENS.binaryOperatorOrClose:Av.VALID_TOKENS.binaryOperator,a=r(s,!e);if(a.name===Pv.Tokens.EOF||a.name===Pv.Tokens.STRUCTURAL_CHARACTER)return Ai(t,Ai(n).reverse());for(;n.length;){var o=n[n.length-1]||null;if(o&&ll.previousOperatorTakesPrecedent(o.value,a.value))t=Ai(t,[o]),n=n.slice(0,-1);else break}n=Ai(n,[a]),t=Ai(t,ll.getValue(r,pp))}}});var yp=O(Dn=>{"use strict";Dn.__esModule=!0;var Nv=Qr();Dn.andUtil=function(r,e){return r&&e};Dn.orUtil=function(r,e){return r||e};Dn.xorUtil=function(r,e){return r!==e};Dn.notUtil=function(r){return!r};Dn.isIdentifier=function(r){var e=r.name,t=r.value;return e===Nv.Tokens.IDENTIFIER&&typeof t=="string"};Dn.isOperator=function(r){var e=r.name,t=r.value;return e===Nv.Tokens.OPERATOR&&typeof t=="string"};Dn.throwInvalidExpression=function(r){throw new TypeError("Invalid postfix expression: "+r)}});var Cv=O(Tp=>{"use strict";var lo;Tp.__esModule=!0;var gp=Qr(),_p=yp();Tp.OPERATOR_MAP=(lo={},lo[gp.Operators.AND]=_p.andUtil,lo[gp.Operators.OR]=_p.orUtil,lo[gp.Operators.XOR]=_p.xorUtil,lo)});var Fv=O(Ls=>{"use strict";var bp=Ls&&Ls.__spreadArrays||function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),s=0,e=0;e<t;e++)for(var a=arguments[e],o=0,l=a.length;o<l;o++,s++)n[s]=a[o];return n};Ls.__esModule=!0;var SF=mp(),Iv=Qr(),OF=Cv(),Fs=yp();Ls.getEvaluator=function(r){var e=SF.parse(r);return function(t){return Ls.evaluate(e,t)}};Ls.evaluate=function(r,e){if(!Array.isArray(r))throw new Error(r+" should be an array. evaluate takes in a parsed expression. Use in combination with parse or use getEvaluator");var t=r.reduce(function(n,s,a){if(!(s&&(Fs.isIdentifier(s)||Fs.isOperator(s))))throw new Error("Invalid token: "+s+". Found in parsed expression at index "+a);if(s.name===Iv.Tokens.IDENTIFIER)return bp(n,[Boolean(e[s.value])]);var o=n[n.length-2],l=n[n.length-1];if(s.value===Iv.Operators.NOT)return l===void 0&&Fs.throwInvalidExpression("missing identifier"),bp(n.slice(0,-1),[Fs.notUtil(l)]);(l===void 0||o===void 0)&&Fs.throwInvalidExpression("missing identifier");var c=OF.OPERATOR_MAP[s.value];return c||Fs.throwInvalidExpression("unknown operator"),bp(n.slice(0,-2),[c(o,l)])},[]);return t.length!==1&&Fs.throwInvalidExpression("too many identifiers after evaluation"),t[0]}});var Yv=O(co=>{"use strict";co.__esModule=!0;var Lv=Fv();co.getEvaluator=Lv.getEvaluator;co.evaluate=Lv.evaluate;var MF=mp();co.parse=MF.parse});var CF={};Uk(CF,{default:()=>vl});module.exports=Wk(CF);var rw=require("obsidian");var gi=require("obsidian");var FF=new Error("timeout while waiting for mutex to become available"),LF=new Error("mutex already locked"),qk=new Error("request for lock canceled"),jk=function(r,e,t,n){function s(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(p){try{f(n.next(p))}catch(g){o(g)}}function c(p){try{f(n.throw(p))}catch(g){o(g)}}function f(p){p.done?a(p.value):s(p.value).then(l,c)}f((n=n.apply(r,e||[])).next())})},Ul=class{constructor(e,t=qk){this._value=e,this._cancelError=t,this._weightedQueues=[],this._weightedWaiters=[]}acquire(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((t,n)=>{this._weightedQueues[e-1]||(this._weightedQueues[e-1]=[]),this._weightedQueues[e-1].push({resolve:t,reject:n}),this._dispatch()})}runExclusive(e,t=1){return jk(this,void 0,void 0,function*(){let[n,s]=yield this.acquire(t);try{return yield e(n)}finally{s()}})}waitForUnlock(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise(t=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),this._weightedWaiters[e-1].push(t),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatch()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatch()}cancel(){this._weightedQueues.forEach(e=>e.forEach(t=>t.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var e;for(let t=this._value;t>0;t--){let n=(e=this._weightedQueues[t-1])===null||e===void 0?void 0:e.shift();if(!n)continue;let s=this._value,a=t;this._value-=t,t=this._value+1,n.resolve([s,this._newReleaser(a)])}this._drainUnlockWaiters()}_newReleaser(e){let t=!1;return()=>{t||(t=!0,this.release(e))}}_drainUnlockWaiters(){for(let e=this._value;e>0;e--)!this._weightedWaiters[e-1]||(this._weightedWaiters[e-1].forEach(t=>t()),this._weightedWaiters[e-1]=[])}},$k=function(r,e,t,n){function s(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(p){try{f(n.next(p))}catch(g){o(g)}}function c(p){try{f(n.throw(p))}catch(g){o(g)}}function f(p){p.done?a(p.value):s(p.value).then(l,c)}f((n=n.apply(r,e||[])).next())})},Ro=class{constructor(e){this._semaphore=new Ul(1,e)}acquire(){return $k(this,void 0,void 0,function*(){let[,e]=yield this._semaphore.acquire();return e})}runExclusive(e){return this._semaphore.runExclusive(()=>e())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}};var wu=In(gt()),di=In(vu());var bs=In(vu()),Bt=class{constructor(e,t){this.start=e,this.end=t,t.isBefore(e)&&(this.start=t,this.end=e),this.start=this.start.startOf("day"),this.end=this.end.startOf("day")}static buildRelative(e){let t=e==="week"?"isoWeek":e;return new Bt((0,bs.default)().startOf(t).startOf("day"),(0,bs.default)().endOf(t).startOf("day"))}static buildInvalid(){return new Bt(bs.default.invalid(),bs.default.invalid())}isValid(){return this.start.isValid()&&this.end.isValid()}moveToPrevious(e){let t=bs.default.duration(1,e);this.start.subtract(t),this.end.subtract(t),(e==="month"||e==="quarter")&&(this.end=this.end.endOf(e).startOf("day"))}moveToNext(e){let t=bs.default.duration(1,e);this.start.add(t),this.end.add(t),(e==="month"||e==="quarter")&&(this.end=this.end.endOf(e).startOf("day"))}};var ir=class{static parseDate(e,t=!1){return(0,di.default)(wu.parseDate(e,void 0,{forwardDate:t})).startOf("day")}static parseDateRange(e,t=!1){let n=[ir.parseRelativeDateRange,ir.parseNumberedDateRange,ir.parseAbsoluteDateRange];for(let s of n){let a=s(e,t);if(a.isValid())return a}return Bt.buildInvalid()}static parseAbsoluteDateRange(e,t){let n=wu.parse(e,void 0,{forwardDate:t});if(n.length===0)return Bt.buildInvalid();let s=n[0].start,a=n[1]&&n[1].start?n[1].start:s,o=(0,di.default)(s.date()),l=(0,di.default)(a.date());return new Bt(o,l)}static parseRelativeDateRange(e,t){let n=/(last|this|next) (week|month|quarter|year)/,s=e.match(n);if(s&&s.length===3){let a=s[1],o=s[2],l=Bt.buildRelative(o);switch(a){case"last":l.moveToPrevious(o);break;case"next":l.moveToNext(o);break}return l}return Bt.buildInvalid()}static parseNumberedDateRange(e,t){let n=[[/^\s*[0-9]{4}\s*$/,"YYYY","year"],[/^\s*[0-9]{4}-Q[1-4]\s*$/,"YYYY-Q","quarter"],[/^\s*[0-9]{4}-[0-9]{2}\s*$/,"YYYY-MM","month"],[/^\s*[0-9]{4}-W[0-9]{2}\s*$/,"YYYY-WW","isoWeek"]];for(let[s,a,o]of n){let l=e.match(s);if(l){let c=l[0].trim();return new Bt((0,di.default)(c,a).startOf(o),(0,di.default)(c,a).endOf(o))}}return Bt.buildInvalid()}};var oI={td:"today",tm:"tomorrow",yd:"yesterday",tw:"this week",nw:"next week",weekend:"sat",we:"sat"};function fi(r){for(let[e,t]of Object.entries(oI))r=r.replace(RegExp(`\\b${e}\\s`,"i"),t);return r}var ku=["MO","TU","WE","TH","FR","SA","SU"],dt=function(){function r(e,t){if(t===0)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=t}return r.fromStr=function(e){return new r(ku.indexOf(e))},r.prototype.nth=function(e){return this.n===e?this:new r(this.weekday,e)},r.prototype.equals=function(e){return this.weekday===e.weekday&&this.n===e.n},r.prototype.toString=function(){var e=ku[this.weekday];return this.n&&(e=(this.n>0?"+":"")+String(this.n)+e),e},r.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},r}();var Ve=function(r){return r!=null},ar=function(r){return typeof r=="number"},Ph=function(r){return typeof r=="string"&&ku.includes(r)},It=Array.isArray,kr=function(r,e){e===void 0&&(e=r),arguments.length===1&&(e=r,r=0);for(var t=[],n=r;n<e;n++)t.push(n);return t};var ke=function(r,e){var t=0,n=[];if(It(r))for(;t<e;t++)n[t]=[].concat(r);else for(;t<e;t++)n[t]=r;return n},UT=function(r){return It(r)?r:[r]};function vs(r,e,t){t===void 0&&(t=" ");var n=String(r);return e=e>>0,n.length>e?String(n):(e=e-n.length,e>t.length&&(t+=ke(t,e/t.length)),t.slice(0,e)+String(n))}var WT=function(r,e,t){var n=r.split(e);return t?n.slice(0,t).concat([n.slice(t).join(e)]):n},Yt=function(r,e){var t=r%e;return t*e<0?t+e:t},Eu=function(r,e){return{div:Math.floor(r/e),mod:Yt(r,e)}},or=function(r){return!Ve(r)||r.length===0},ot=function(r){return!or(r)},De=function(r,e){return ot(r)&&r.indexOf(e)!==-1};var $n;(function(r){r.MONTH_DAYS=[31,28,31,30,31,30,31,31,30,31,30,31],r.ONE_DAY=1e3*60*60*24,r.MAXYEAR=9999,r.ORDINAL_BASE=new Date(Date.UTC(1970,0,1)),r.PY_WEEKDAYS=[6,0,1,2,3,4,5],r.getYearDay=function(e){var t=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());return Math.ceil((t.valueOf()-new Date(e.getUTCFullYear(),0,1).valueOf())/r.ONE_DAY)+1},r.isLeapYear=function(e){return e%4===0&&e%100!==0||e%400===0},r.isDate=function(e){return e instanceof Date},r.isValidDate=function(e){return r.isDate(e)&&!isNaN(e.getTime())},r.tzOffset=function(e){return e.getTimezoneOffset()*60*1e3},r.daysBetween=function(e,t){var n=e.getTime()-r.tzOffset(e),s=t.getTime()-r.tzOffset(t),a=n-s;return Math.round(a/r.ONE_DAY)},r.toOrdinal=function(e){return r.daysBetween(e,r.ORDINAL_BASE)},r.fromOrdinal=function(e){return new Date(r.ORDINAL_BASE.getTime()+e*r.ONE_DAY)},r.getMonthDays=function(e){var t=e.getUTCMonth();return t===1&&r.isLeapYear(e.getUTCFullYear())?29:r.MONTH_DAYS[t]},r.getWeekday=function(e){return r.PY_WEEKDAYS[e.getUTCDay()]},r.monthRange=function(e,t){var n=new Date(Date.UTC(e,t,1));return[r.getWeekday(n),r.getMonthDays(n)]},r.combine=function(e,t){return t=t||e,new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))},r.clone=function(e){var t=new Date(e.getTime());return t},r.cloneDates=function(e){for(var t=[],n=0;n<e.length;n++)t.push(r.clone(e[n]));return t},r.sort=function(e){e.sort(function(t,n){return t.getTime()-n.getTime()})},r.timeToUntilString=function(e,t){t===void 0&&(t=!0);var n=new Date(e);return[vs(n.getUTCFullYear().toString(),4,"0"),vs(n.getUTCMonth()+1,2,"0"),vs(n.getUTCDate(),2,"0"),"T",vs(n.getUTCHours(),2,"0"),vs(n.getUTCMinutes(),2,"0"),vs(n.getUTCSeconds(),2,"0"),t?"Z":""].join("")},r.untilStringToDate=function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/,n=t.exec(e);if(!n)throw new Error("Invalid UNTIL value: ".concat(e));return new Date(Date.UTC(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10),parseInt(n[5],10)||0,parseInt(n[6],10)||0,parseInt(n[7],10)||0))}})($n||($n={}));var se=$n;var uI=function(){function r(e,t){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=e,this.args=t,e==="between"?(this.maxDate=t.inc?t.before:new Date(t.before.getTime()-1),this.minDate=t.inc?t.after:new Date(t.after.getTime()+1)):e==="before"?this.maxDate=t.inc?t.dt:new Date(t.dt.getTime()-1):e==="after"&&(this.minDate=t.inc?t.dt:new Date(t.dt.getTime()+1))}return r.prototype.accept=function(e){++this.total;var t=this.minDate&&e<this.minDate,n=this.maxDate&&e>this.maxDate;if(this.method==="between"){if(t)return!0;if(n)return!1}else if(this.method==="before"){if(n)return!1}else if(this.method==="after")return t?!0:(this.add(e),!1);return this.add(e)},r.prototype.add=function(e){return this._result.push(e),!0},r.prototype.getValue=function(){var e=this._result;switch(this.method){case"all":case"between":return e;case"before":case"after":default:return e.length?e[e.length-1]:null}},r.prototype.clone=function(){return new r(this.method,this.args)},r}(),gn=uI;var lb=In(ub(),1),{__extends:pi,__assign:zt,__rest:kY,__decorate:EY,__param:DY,__metadata:SY,__awaiter:OY,__generator:MY,__exportStar:RY,__createBinding:xY,__values:PY,__read:AY,__spread:NY,__spreadArrays:CY,__spreadArray:U,__await:IY,__asyncGenerator:FY,__asyncDelegator:LY,__asyncValues:YY,__makeTemplateObject:UY,__importStar:WY,__importDefault:qY,__classPrivateFieldGet:jY,__classPrivateFieldSet:$Y,__classPrivateFieldIn:GY}=lb.default;var lI=function(r){pi(e,r);function e(t,n,s){var a=r.call(this,t,n)||this;return a.iterator=s,a}return e.prototype.add=function(t){return this.iterator(t,this._result.length)?(this._result.push(t),!0):!1},e}(gn),Nh=lI;var cI={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},ws=cI;var cb=function(r,e){return r.indexOf(e)!==-1},dI=function(r){return r.toString()},fI=function(r,e,t){return"".concat(e," ").concat(t,", ").concat(r)},hI=function(){function r(e,t,n,s){if(t===void 0&&(t=dI),n===void 0&&(n=ws),s===void 0&&(s=fI),this.text=[],this.language=n||ws,this.gettext=t,this.dateFormatter=s,this.rrule=e,this.options=e.options,this.origOptions=e.origOptions,this.origOptions.bymonthday){var a=[].concat(this.options.bymonthday),o=[].concat(this.options.bynmonthday);a.sort(function(p,g){return p-g}),o.sort(function(p,g){return g-p}),this.bymonthday=a.concat(o),this.bymonthday.length||(this.bymonthday=null)}if(Ve(this.origOptions.byweekday)){var l=It(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],c=String(l);this.byweekday={allWeeks:l.filter(function(p){return!p.n}),someWeeks:l.filter(function(p){return Boolean(p.n)}),isWeekdays:c.indexOf("MO")!==-1&&c.indexOf("TU")!==-1&&c.indexOf("WE")!==-1&&c.indexOf("TH")!==-1&&c.indexOf("FR")!==-1&&c.indexOf("SA")===-1&&c.indexOf("SU")===-1,isEveryDay:c.indexOf("MO")!==-1&&c.indexOf("TU")!==-1&&c.indexOf("WE")!==-1&&c.indexOf("TH")!==-1&&c.indexOf("FR")!==-1&&c.indexOf("SA")!==-1&&c.indexOf("SU")!==-1};var f=function(p,g){return p.weekday-g.weekday};this.byweekday.allWeeks.sort(f),this.byweekday.someWeeks.sort(f),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return r.isFullyConvertible=function(e){var t=!0;if(!(e.options.freq in r.IMPLEMENTED)||e.origOptions.until&&e.origOptions.count)return!1;for(var n in e.origOptions){if(cb(["dtstart","wkst","freq"],n))return!0;if(!cb(r.IMPLEMENTED[e.options.freq],n))return!1}return t},r.prototype.isFullyConvertible=function(){return r.isFullyConvertible(this.rrule)},r.prototype.toString=function(){var e=this.gettext;if(!(this.options.freq in r.IMPLEMENTED))return e("RRule error: Unable to fully convert this rrule to text");if(this.text=[e("every")],this[J.FREQUENCIES[this.options.freq]](),this.options.until){this.add(e("until"));var t=this.options.until;this.add(this.dateFormatter(t.getUTCFullYear(),this.language.monthNames[t.getUTCMonth()],t.getUTCDate()))}else this.options.count&&this.add(e("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?e("times"):e("time"));return this.isFullyConvertible()||this.add(e("(~ approximate)")),this.text.join("")},r.prototype.HOURLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("hours"):e("hour"))},r.prototype.MINUTELY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("minutes"):e("minute"))},r.prototype.DAILY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(this.plural(this.options.interval)?e("days"):e("day")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},r.prototype.WEEKLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?e("weeks"):e("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(e("on")).add(e("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?e("days"):e("day")):(this.options.interval===1&&this.add(e("week")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday())},r.prototype.MONTHLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(e("months")),this.plural(this.options.interval)&&this.add(e("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("months"):e("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(e("on")).add(e("weekdays")):this.byweekday&&this._byweekday()},r.prototype.YEARLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(e("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("years"):e("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(e("on the")).add(this.list(this.options.byyearday,this.nth,e("and"))).add(e("day")),this.options.byweekno&&this.add(e("in")).add(this.plural(this.options.byweekno.length)?e("weeks"):e("week")).add(this.list(this.options.byweekno,void 0,e("and")))},r.prototype._bymonthday=function(){var e=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,e("or"))).add(e("the")).add(this.list(this.bymonthday,this.nth,e("or"))):this.add(e("on the")).add(this.list(this.bymonthday,this.nth,e("and")))},r.prototype._byweekday=function(){var e=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(e("and")),this.add(e("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,e("and"))))},r.prototype._byhour=function(){var e=this.gettext;this.add(e("at")).add(this.list(this.origOptions.byhour,void 0,e("and")))},r.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},r.prototype.nth=function(e){e=parseInt(e.toString(),10);var t,n=this.gettext;if(e===-1)return n("last");var s=Math.abs(e);switch(s){case 1:case 21:case 31:t=s+n("st");break;case 2:case 22:t=s+n("nd");break;case 3:case 23:t=s+n("rd");break;default:t=s+n("th")}return e<0?t+" "+n("last"):t},r.prototype.monthtext=function(e){return this.language.monthNames[e-1]},r.prototype.weekdaytext=function(e){var t=ar(e)?(e+1)%7:e.getJsWeekday();return(e.n?this.nth(e.n)+" ":"")+this.language.dayNames[t]},r.prototype.plural=function(e){return e%100!==1},r.prototype.add=function(e){return this.text.push(" "),this.text.push(e),this},r.prototype.list=function(e,t,n,s){var a=this;s===void 0&&(s=","),It(e)||(e=[e]);var o=function(c,f,p){for(var g="",T=0;T<c.length;T++)T!==0&&(T===c.length-1?g+=" "+p+" ":g+=f+" "),g+=c[T];return g};t=t||function(c){return c.toString()};var l=function(c){return t&&t.call(a,c)};return n?o(e.map(l),s,n):e.map(l).join(s+" ")},r}(),Br=hI;var pI=function(){function r(e){this.done=!0,this.rules=e}return r.prototype.start=function(e){return this.text=e,this.done=!1,this.nextSymbol()},r.prototype.isDone=function(){return this.done&&this.symbol===null},r.prototype.nextSymbol=function(){var e,t;this.symbol=null,this.value=null;do{if(this.done)return!1;var n=void 0;e=null;for(var s in this.rules){n=this.rules[s];var a=n.exec(this.text);a&&(e===null||a[0].length>e[0].length)&&(e=a,t=s)}if(e!=null&&(this.text=this.text.substr(e[0].length),this.text===""&&(this.done=!0)),e==null){this.done=!0,this.symbol=null,this.value=null;return}}while(t==="SKIP");return this.symbol=t,this.value=e,!0},r.prototype.accept=function(e){if(this.symbol===e){if(this.value){var t=this.value;return this.nextSymbol(),t}return this.nextSymbol(),!0}return!1},r.prototype.acceptNumber=function(){return this.accept("number")},r.prototype.expect=function(e){if(this.accept(e))return!0;throw new Error("expected "+e+" but found "+this.symbol)},r}();function Ga(r,e){e===void 0&&(e=ws);var t={},n=new pI(e.tokens);if(!n.start(r))return null;return s(),t;function s(){n.expect("every");var T=n.acceptNumber();if(T&&(t.interval=parseInt(T[0],10)),n.isDone())throw new Error("Unexpected end");switch(n.symbol){case"day(s)":t.freq=J.DAILY,n.nextSymbol()&&(o(),g());break;case"weekday(s)":t.freq=J.WEEKLY,t.byweekday=[J.MO,J.TU,J.WE,J.TH,J.FR],n.nextSymbol(),g();break;case"week(s)":t.freq=J.WEEKLY,n.nextSymbol()&&(a(),g());break;case"hour(s)":t.freq=J.HOURLY,n.nextSymbol()&&(a(),g());break;case"minute(s)":t.freq=J.MINUTELY,n.nextSymbol()&&(a(),g());break;case"month(s)":t.freq=J.MONTHLY,n.nextSymbol()&&(a(),g());break;case"year(s)":t.freq=J.YEARLY,n.nextSymbol()&&(a(),g());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":t.freq=J.WEEKLY;var S=n.symbol.substr(0,2).toUpperCase();if(t.byweekday=[J[S]],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var b=c();if(!b)throw new Error("Unexpected symbol "+n.symbol+", expected weekday");t.byweekday.push(J[b]),n.nextSymbol()}p(),g();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(t.freq=J.YEARLY,t.bymonth=[l()],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var x=l();if(!x)throw new Error("Unexpected symbol "+n.symbol+", expected month");t.bymonth.push(x),n.nextSymbol()}a(),g();break;default:throw new Error("Unknown symbol")}}function a(){var T=n.accept("on"),S=n.accept("the");if(!!(T||S))do{var b=f(),x=c(),C=l();if(b)x?(n.nextSymbol(),t.byweekday||(t.byweekday=[]),t.byweekday.push(J[x].nth(b))):(t.bymonthday||(t.bymonthday=[]),t.bymonthday.push(b),n.accept("day(s)"));else if(x)n.nextSymbol(),t.byweekday||(t.byweekday=[]),t.byweekday.push(J[x]);else if(n.symbol==="weekday(s)")n.nextSymbol(),t.byweekday||(t.byweekday=[J.MO,J.TU,J.WE,J.TH,J.FR]);else if(n.symbol==="week(s)"){n.nextSymbol();var G=n.acceptNumber();if(!G)throw new Error("Unexpected symbol "+n.symbol+", expected week number");for(t.byweekno=[parseInt(G[0],10)];n.accept("comma");){if(G=n.acceptNumber(),!G)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");t.byweekno.push(parseInt(G[0],10))}}else if(C)n.nextSymbol(),t.bymonth||(t.bymonth=[]),t.bymonth.push(C);else return}while(n.accept("comma")||n.accept("the")||n.accept("on"))}function o(){var T=n.accept("at");if(!!T)do{var S=n.acceptNumber();if(!S)throw new Error("Unexpected symbol "+n.symbol+", expected hour");for(t.byhour=[parseInt(S[0],10)];n.accept("comma");){if(S=n.acceptNumber(),!S)throw new Error("Unexpected symbol "+n.symbol+"; expected hour");t.byhour.push(parseInt(S[0],10))}}while(n.accept("comma")||n.accept("at"))}function l(){switch(n.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function c(){switch(n.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return n.symbol.substr(0,2).toUpperCase();default:return!1}}function f(){switch(n.symbol){case"last":return n.nextSymbol(),-1;case"first":return n.nextSymbol(),1;case"second":return n.nextSymbol(),n.accept("last")?-2:2;case"third":return n.nextSymbol(),n.accept("last")?-3:3;case"nth":var T=parseInt(n.value[1],10);if(T<-366||T>366)throw new Error("Nth out of range: "+T);return n.nextSymbol(),n.accept("last")?-T:T;default:return!1}}function p(){n.accept("on"),n.accept("the");var T=f();if(!!T)for(t.bymonthday=[T],n.nextSymbol();n.accept("comma");){if(T=f(),!T)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");t.bymonthday.push(T),n.nextSymbol()}}function g(){if(n.symbol==="until"){var T=Date.parse(n.text);if(!T)throw new Error("Cannot parse until date:"+n.text);t.until=new Date(T)}else n.accept("for")&&(t.count=parseInt(n.value[0],10),n.expect("number"))}}var ve;(function(r){r[r.YEARLY=0]="YEARLY",r[r.MONTHLY=1]="MONTHLY",r[r.WEEKLY=2]="WEEKLY",r[r.DAILY=3]="DAILY",r[r.HOURLY=4]="HOURLY",r[r.MINUTELY=5]="MINUTELY",r[r.SECONDLY=6]="SECONDLY"})(ve||(ve={}));function Ha(r){return r<ve.HOURLY}var db=function(r,e){return e===void 0&&(e=ws),new J(Ga(r,e)||void 0)},mi=["count","until","interval","byweekday","bymonthday","bymonth"];Br.IMPLEMENTED=[];Br.IMPLEMENTED[ve.HOURLY]=mi;Br.IMPLEMENTED[ve.MINUTELY]=mi;Br.IMPLEMENTED[ve.DAILY]=["byhour"].concat(mi);Br.IMPLEMENTED[ve.WEEKLY]=mi;Br.IMPLEMENTED[ve.MONTHLY]=mi;Br.IMPLEMENTED[ve.YEARLY]=["byweekno","byyearday"].concat(mi);var fb=function(r,e,t,n){return new Br(r,e,t,n).toString()},hb=Br.isFullyConvertible;var yi=function(){function r(e,t,n,s){this.hour=e,this.minute=t,this.second=n,this.millisecond=s||0}return r.prototype.getHours=function(){return this.hour},r.prototype.getMinutes=function(){return this.minute},r.prototype.getSeconds=function(){return this.second},r.prototype.getMilliseconds=function(){return this.millisecond},r.prototype.getTime=function(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond},r}();var pb=function(r){pi(e,r);function e(t,n,s,a,o,l,c){var f=r.call(this,a,o,l,c)||this;return f.year=t,f.month=n,f.day=s,f}return e.fromDate=function(t){return new this(t.getUTCFullYear(),t.getUTCMonth()+1,t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.valueOf()%1e3)},e.prototype.getWeekday=function(){return $n.getWeekday(new Date(this.getTime()))},e.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},e.prototype.getDay=function(){return this.day},e.prototype.getMonth=function(){return this.month},e.prototype.getYear=function(){return this.year},e.prototype.addYears=function(t){this.year+=t},e.prototype.addMonths=function(t){if(this.month+=t,this.month>12){var n=Math.floor(this.month/12),s=Yt(this.month,12);this.month=s,this.year+=n,this.month===0&&(this.month=12,--this.year)}},e.prototype.addWeekly=function(t,n){n>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-n))+t*7:this.day+=-(this.getWeekday()-n)+t*7,this.fixDay()},e.prototype.addDaily=function(t){this.day+=t,this.fixDay()},e.prototype.addHours=function(t,n,s){for(n&&(this.hour+=Math.floor((23-this.hour)/t)*t);;){this.hour+=t;var a=Eu(this.hour,24),o=a.div,l=a.mod;if(o&&(this.hour=l,this.addDaily(o)),or(s)||De(s,this.hour))break}},e.prototype.addMinutes=function(t,n,s,a){for(n&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/t)*t);;){this.minute+=t;var o=Eu(this.minute,60),l=o.div,c=o.mod;if(l&&(this.minute=c,this.addHours(l,!1,s)),(or(s)||De(s,this.hour))&&(or(a)||De(a,this.minute)))break}},e.prototype.addSeconds=function(t,n,s,a,o){for(n&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/t)*t);;){this.second+=t;var l=Eu(this.second,60),c=l.div,f=l.mod;if(c&&(this.second=f,this.addMinutes(c,!1,s,a)),(or(s)||De(s,this.hour))&&(or(a)||De(a,this.minute))&&(or(o)||De(o,this.second)))break}},e.prototype.fixDay=function(){if(!(this.day<=28)){var t=$n.monthRange(this.year,this.month-1)[1];if(!(this.day<=t))for(;this.day>t;){if(this.day-=t,++this.month,this.month===13&&(this.month=1,++this.year,this.year>$n.MAXYEAR))return;t=$n.monthRange(this.year,this.month-1)[1]}}},e.prototype.add=function(t,n){var s=t.freq,a=t.interval,o=t.wkst,l=t.byhour,c=t.byminute,f=t.bysecond;switch(s){case ve.YEARLY:return this.addYears(a);case ve.MONTHLY:return this.addMonths(a);case ve.WEEKLY:return this.addWeekly(a,o);case ve.DAILY:return this.addDaily(a);case ve.HOURLY:return this.addHours(a,n,l);case ve.MINUTELY:return this.addMinutes(a,n,l,c);case ve.SECONDLY:return this.addSeconds(a,n,l,c,f)}},e}(yi);function Ch(r){for(var e=[],t=Object.keys(r),n=0,s=t;n<s.length;n++){var a=s[n];De(gb,a)||e.push(a),se.isDate(r[a])&&!se.isValidDate(r[a])&&e.push(a)}if(e.length)throw new Error("Invalid options: "+e.join(", "));return zt({},r)}function mb(r){var e=zt(zt({},Ba),Ch(r));if(Ve(e.byeaster)&&(e.freq=J.YEARLY),!(Ve(e.freq)&&J.FREQUENCIES[e.freq]))throw new Error("Invalid frequency: ".concat(e.freq," ").concat(r.freq));if(e.dtstart||(e.dtstart=new Date(new Date().setMilliseconds(0))),Ve(e.wkst)?ar(e.wkst)||(e.wkst=e.wkst.weekday):e.wkst=J.MO.weekday,Ve(e.bysetpos)){ar(e.bysetpos)&&(e.bysetpos=[e.bysetpos]);for(var t=0;t<e.bysetpos.length;t++){var n=e.bysetpos[t];if(n===0||!(n>=-366&&n<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(Boolean(e.byweekno)||ot(e.byweekno)||ot(e.byyearday)||Boolean(e.bymonthday)||ot(e.bymonthday)||Ve(e.byweekday)||Ve(e.byeaster)))switch(e.freq){case J.YEARLY:e.bymonth||(e.bymonth=e.dtstart.getUTCMonth()+1),e.bymonthday=e.dtstart.getUTCDate();break;case J.MONTHLY:e.bymonthday=e.dtstart.getUTCDate();break;case J.WEEKLY:e.byweekday=[se.getWeekday(e.dtstart)];break}if(Ve(e.bymonth)&&!It(e.bymonth)&&(e.bymonth=[e.bymonth]),Ve(e.byyearday)&&!It(e.byyearday)&&ar(e.byyearday)&&(e.byyearday=[e.byyearday]),!Ve(e.bymonthday))e.bymonthday=[],e.bynmonthday=[];else if(It(e.bymonthday)){for(var s=[],a=[],t=0;t<e.bymonthday.length;t++){var n=e.bymonthday[t];n>0?s.push(n):n<0&&a.push(n)}e.bymonthday=s,e.bynmonthday=a}else e.bymonthday<0?(e.bynmonthday=[e.bymonthday],e.bymonthday=[]):(e.bynmonthday=[],e.bymonthday=[e.bymonthday]);if(Ve(e.byweekno)&&!It(e.byweekno)&&(e.byweekno=[e.byweekno]),!Ve(e.byweekday))e.bynweekday=null;else if(ar(e.byweekday))e.byweekday=[e.byweekday],e.bynweekday=null;else if(Ph(e.byweekday))e.byweekday=[dt.fromStr(e.byweekday).weekday],e.bynweekday=null;else if(e.byweekday instanceof dt)!e.byweekday.n||e.freq>J.MONTHLY?(e.byweekday=[e.byweekday.weekday],e.bynweekday=null):(e.bynweekday=[[e.byweekday.weekday,e.byweekday.n]],e.byweekday=null);else{for(var o=[],l=[],t=0;t<e.byweekday.length;t++){var c=e.byweekday[t];if(ar(c)){o.push(c);continue}else if(Ph(c)){o.push(dt.fromStr(c).weekday);continue}!c.n||e.freq>J.MONTHLY?o.push(c.weekday):l.push([c.weekday,c.n])}e.byweekday=ot(o)?o:null,e.bynweekday=ot(l)?l:null}return Ve(e.byhour)?ar(e.byhour)&&(e.byhour=[e.byhour]):e.byhour=e.freq<J.HOURLY?[e.dtstart.getUTCHours()]:null,Ve(e.byminute)?ar(e.byminute)&&(e.byminute=[e.byminute]):e.byminute=e.freq<J.MINUTELY?[e.dtstart.getUTCMinutes()]:null,Ve(e.bysecond)?ar(e.bysecond)&&(e.bysecond=[e.bysecond]):e.bysecond=e.freq<J.SECONDLY?[e.dtstart.getUTCSeconds()]:null,{parsedOptions:e}}function yb(r){var e=r.dtstart.getTime()%1e3;if(!Ha(r.freq))return[];var t=[];return r.byhour.forEach(function(n){r.byminute.forEach(function(s){r.bysecond.forEach(function(a){t.push(new yi(n,s,a,e))})})}),t}function Va(r){var e=r.split(`
`).map(mI).filter(function(t){return t!==null});return zt(zt({},e[0]),e[1])}function za(r){var e={},t=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(r);if(!t)return e;var n=t[1],s=t[2];return n&&(e.tzid=n),e.dtstart=se.untilStringToDate(s),e}function mI(r){if(r=r.replace(/^\s+|\s+$/,""),!r.length)return null;var e=/^([A-Z]+?)[:;]/.exec(r.toUpperCase());if(!e)return _b(r);var t=e[1];switch(t.toUpperCase()){case"RRULE":case"EXRULE":return _b(r);case"DTSTART":return za(r);default:throw new Error("Unsupported RFC prop ".concat(t," in ").concat(r))}}function _b(r){var e=r.replace(/^RRULE:/i,""),t=za(e),n=r.replace(/^(?:RRULE|EXRULE):/i,"").split(";");return n.forEach(function(s){var a=s.split("="),o=a[0],l=a[1];switch(o.toUpperCase()){case"FREQ":t.freq=ve[l.toUpperCase()];break;case"WKST":t.wkst=Er[l.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var c=yI(l),f=o.toLowerCase();t[f]=c;break;case"BYWEEKDAY":case"BYDAY":t.byweekday=gI(l);break;case"DTSTART":case"TZID":var p=za(r);t.tzid=p.tzid,t.dtstart=p.dtstart;break;case"UNTIL":t.until=se.untilStringToDate(l);break;case"BYEASTER":t.byeaster=Number(l);break;default:throw new Error("Unknown RRULE property '"+o+"'")}}),t}function yI(r){if(r.indexOf(",")!==-1){var e=r.split(",");return e.map(Tb)}return Tb(r)}function Tb(r){return/^[+-]?\d+$/.test(r)?Number(r):r}function gI(r){var e=r.split(",");return e.map(function(t){if(t.length===2)return Er[t];var n=t.match(/^([+-]?\d{1,2})([A-Z]{2})$/);if(!n||n.length<3)throw new SyntaxError("Invalid weekday string: ".concat(t));var s=Number(n[1]),a=n[2],o=Er[a].weekday;return new dt(o,s)})}var ks=function(){function r(e,t){if(isNaN(e.getTime()))throw new RangeError("Invalid date passed to DateWithZone");this.date=e,this.tzid=t}return Object.defineProperty(r.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!1,configurable:!0}),r.prototype.toString=function(){var e=se.timeToUntilString(this.date.getTime(),this.isUTC);return this.isUTC?":".concat(e):";TZID=".concat(this.tzid,":").concat(e)},r.prototype.getTime=function(){return this.date.getTime()},r.prototype.rezonedDate=function(){var e;if(this.isUTC)return this.date;var t=Intl.DateTimeFormat().resolvedOptions().timeZone,n=new Date(this.date.toLocaleString(void 0,{timeZone:t})),s=new Date(this.date.toLocaleString(void 0,{timeZone:(e=this.tzid)!==null&&e!==void 0?e:"UTC"})),a=s.getTime()-n.getTime();return new Date(this.date.getTime()-a)},r}();function Ka(r){for(var e=[],t="",n=Object.keys(r),s=Object.keys(Ba),a=0;a<n.length;a++)if(n[a]!=="tzid"&&!!De(s,n[a])){var o=n[a].toUpperCase(),l=r[n[a]],c="";if(!(!Ve(l)||It(l)&&!l.length)){switch(o){case"FREQ":c=J.FREQUENCIES[r.freq];break;case"WKST":ar(l)?c=new dt(l).toString():c=l.toString();break;case"BYWEEKDAY":o="BYDAY",c=UT(l).map(function(S){return S instanceof dt?S:It(S)?new dt(S[0],S[1]):new dt(S)}).toString();break;case"DTSTART":t=_I(l,r.tzid);break;case"UNTIL":c=se.timeToUntilString(l,!r.tzid);break;default:if(It(l)){for(var f=[],p=0;p<l.length;p++)f[p]=String(l[p]);c=f.toString()}else c=String(l)}c&&e.push([o,c])}}var g=e.map(function(S){var b=S[0],x=S[1];return"".concat(b,"=").concat(x.toString())}).join(";"),T="";return g!==""&&(T="RRULE:".concat(g)),[t,T].filter(function(S){return!!S}).join(`
`)}function _I(r,e){return r?"DTSTART"+new ks(new Date(r),e).toString():""}function TI(r,e){return Array.isArray(r)?!Array.isArray(e)||r.length!==e.length?!1:r.every(function(t,n){return t.getTime()===e[n].getTime()}):r instanceof Date?e instanceof Date&&r.getTime()===e.getTime():r===e}var bb=function(){function r(){this.all=!1,this.before=[],this.after=[],this.between=[]}return r.prototype._cacheAdd=function(e,t,n){t&&(t=t instanceof Date?se.clone(t):se.cloneDates(t)),e==="all"?this.all=t:(n._value=t,this[e].push(n))},r.prototype._cacheGet=function(e,t){var n=!1,s=t?Object.keys(t):[],a=function(p){for(var g=0;g<s.length;g++){var T=s[g];if(!TI(t[T],p[T]))return!0}return!1},o=this[e];if(e==="all")n=this.all;else if(It(o))for(var l=0;l<o.length;l++){var c=o[l];if(!(s.length&&a(c))){n=c._value;break}}if(!n&&this.all){for(var f=new gn(e,t),l=0;l<this.all.length&&f.accept(this.all[l]);l++);n=f.getValue(),this._cacheAdd(e,n,t)}return It(n)?se.cloneDates(n):n instanceof Date?se.clone(n):n},r}();var vb=U(U(U(U(U(U(U(U(U(U(U(U(U([],ke(1,31),!0),ke(2,28),!0),ke(3,31),!0),ke(4,30),!0),ke(5,31),!0),ke(6,30),!0),ke(7,31),!0),ke(8,31),!0),ke(9,30),!0),ke(10,31),!0),ke(11,30),!0),ke(12,31),!0),ke(1,7),!0),wb=U(U(U(U(U(U(U(U(U(U(U(U(U([],ke(1,31),!0),ke(2,29),!0),ke(3,31),!0),ke(4,30),!0),ke(5,31),!0),ke(6,30),!0),ke(7,31),!0),ke(8,31),!0),ke(9,30),!0),ke(10,31),!0),ke(11,30),!0),ke(12,31),!0),ke(1,7),!0),bI=kr(1,29),vI=kr(1,30),Gn=kr(1,31),Ut=kr(1,32),kb=U(U(U(U(U(U(U(U(U(U(U(U(U([],Ut,!0),vI,!0),Ut,!0),Gn,!0),Ut,!0),Gn,!0),Ut,!0),Ut,!0),Gn,!0),Ut,!0),Gn,!0),Ut,!0),Ut.slice(0,7),!0),Eb=U(U(U(U(U(U(U(U(U(U(U(U(U([],Ut,!0),bI,!0),Ut,!0),Gn,!0),Ut,!0),Gn,!0),Ut,!0),Ut,!0),Gn,!0),Ut,!0),Gn,!0),Ut,!0),Ut.slice(0,7),!0),wI=kr(-28,0),kI=kr(-29,0),Hn=kr(-30,0),Wt=kr(-31,0),Db=U(U(U(U(U(U(U(U(U(U(U(U(U([],Wt,!0),kI,!0),Wt,!0),Hn,!0),Wt,!0),Hn,!0),Wt,!0),Wt,!0),Hn,!0),Wt,!0),Hn,!0),Wt,!0),Wt.slice(0,7),!0),Sb=U(U(U(U(U(U(U(U(U(U(U(U(U([],Wt,!0),wI,!0),Wt,!0),Hn,!0),Wt,!0),Hn,!0),Wt,!0),Wt,!0),Hn,!0),Wt,!0),Hn,!0),Wt,!0),Wt.slice(0,7),!0),Ob=[0,31,60,91,121,152,182,213,244,274,305,335,366],Mb=[0,31,59,90,120,151,181,212,243,273,304,334,365],Ih=function(){for(var r=[],e=0;e<55;e++)r=r.concat(kr(7));return r}();function Rb(r,e){var t=new Date(Date.UTC(r,0,1)),n=se.isLeapYear(r)?366:365,s=se.isLeapYear(r+1)?366:365,a=se.toOrdinal(t),o=se.getWeekday(t),l=zt(zt({yearlen:n,nextyearlen:s,yearordinal:a,yearweekday:o},EI(r)),{wnomask:null});if(or(e.byweekno))return l;l.wnomask=ke(0,n+7);var c,f,p=c=Yt(7-o+e.wkst,7);p>=4?(p=0,f=l.yearlen+Yt(o-e.wkst,7)):f=n-p;for(var g=Math.floor(f/7),T=Yt(f,7),S=Math.floor(g+T/4),b=0;b<e.byweekno.length;b++){var x=e.byweekno[b];if(x<0&&(x+=S+1),x>0&&x<=S){var C=void 0;x>1?(C=p+(x-1)*7,p!==c&&(C-=7-c)):C=p;for(var G=0;G<7&&(l.wnomask[C]=1,C++,l.wdaymask[C]!==e.wkst);G++);}}if(De(e.byweekno,1)){var C=p+S*7;if(p!==c&&(C-=7-c),C<n)for(var b=0;b<7&&(l.wnomask[C]=1,C+=1,l.wdaymask[C]!==e.wkst);b++);}if(p){var K=void 0;if(De(e.byweekno,-1))K=-1;else{var B=se.getWeekday(new Date(Date.UTC(r-1,0,1))),de=Yt(7-B.valueOf()+e.wkst,7),ue=se.isLeapYear(r-1)?366:365,ye=void 0;de>=4?(de=0,ye=ue+Yt(B-e.wkst,7)):ye=n-p,K=Math.floor(52+Yt(ye,7)/4)}if(De(e.byweekno,K))for(var C=0;C<p;C++)l.wnomask[C]=1}return l}function EI(r){var e=se.isLeapYear(r)?366:365,t=new Date(Date.UTC(r,0,1)),n=se.getWeekday(t);return e===365?{mmask:vb,mdaymask:Eb,nmdaymask:Sb,wdaymask:Ih.slice(n),mrange:Mb}:{mmask:wb,mdaymask:kb,nmdaymask:Db,wdaymask:Ih.slice(n),mrange:Ob}}function xb(r,e,t,n,s,a){var o={lastyear:r,lastmonth:e,nwdaymask:[]},l=[];if(a.freq===J.YEARLY)if(or(a.bymonth))l=[[0,t]];else for(var c=0;c<a.bymonth.length;c++)e=a.bymonth[c],l.push(n.slice(e-1,e+1));else a.freq===J.MONTHLY&&(l=[n.slice(e-1,e+1)]);if(or(l))return o;o.nwdaymask=ke(0,t);for(var c=0;c<l.length;c++)for(var f=l[c],p=f[0],g=f[1]-1,T=0;T<a.bynweekday.length;T++){var S=void 0,b=a.bynweekday[T],x=b[0],C=b[1];C<0?(S=g+(C+1)*7,S-=Yt(s[S]-x,7)):(S=p+(C-1)*7,S+=Yt(7-s[S]+x,7)),p<=S&&S<=g&&(o.nwdaymask[S]=1)}return o}function Pb(r,e){e===void 0&&(e=0);var t=r%19,n=Math.floor(r/100),s=r%100,a=Math.floor(n/4),o=n%4,l=Math.floor((n+8)/25),c=Math.floor((n-l+1)/3),f=Math.floor(19*t+n-a-c+15)%30,p=Math.floor(s/4),g=s%4,T=Math.floor(32+2*o+2*p-f-g)%7,S=Math.floor((t+11*f+22*T)/451),b=Math.floor((f+T-7*S+114)/31),x=(f+T-7*S+114)%31+1,C=Date.UTC(r,b-1,x+e),G=Date.UTC(r,0,1);return[Math.ceil((C-G)/(1e3*60*60*24))]}var DI=function(){function r(e){this.options=e}return r.prototype.rebuild=function(e,t){var n=this.options;if(e!==this.lastyear&&(this.yearinfo=Rb(e,n)),ot(n.bynweekday)&&(t!==this.lastmonth||e!==this.lastyear)){var s=this.yearinfo,a=s.yearlen,o=s.mrange,l=s.wdaymask;this.monthinfo=xb(e,t,a,o,l,n)}Ve(n.byeaster)&&(this.eastermask=Pb(e,n.byeaster))},Object.defineProperty(r.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!1,configurable:!0}),r.prototype.ydayset=function(){return[kr(this.yearlen),0,this.yearlen]},r.prototype.mdayset=function(e,t){for(var n=this.mrange[t-1],s=this.mrange[t],a=ke(null,this.yearlen),o=n;o<s;o++)a[o]=o;return[a,n,s]},r.prototype.wdayset=function(e,t,n){for(var s=ke(null,this.yearlen+7),a=se.toOrdinal(new Date(Date.UTC(e,t-1,n)))-this.yearordinal,o=a,l=0;l<7&&(s[a]=a,++a,this.wdaymask[a]!==this.options.wkst);l++);return[s,o,a]},r.prototype.ddayset=function(e,t,n){var s=ke(null,this.yearlen),a=se.toOrdinal(new Date(Date.UTC(e,t-1,n)))-this.yearordinal;return s[a]=a,[s,a,a+1]},r.prototype.htimeset=function(e,t,n,s){var a=this,o=[];return this.options.byminute.forEach(function(l){o=o.concat(a.mtimeset(e,l,n,s))}),se.sort(o),o},r.prototype.mtimeset=function(e,t,n,s){var a=this.options.bysecond.map(function(o){return new yi(e,t,o,s)});return se.sort(a),a},r.prototype.stimeset=function(e,t,n,s){return[new yi(e,t,n,s)]},r.prototype.getdayset=function(e){switch(e){case ve.YEARLY:return this.ydayset.bind(this);case ve.MONTHLY:return this.mdayset.bind(this);case ve.WEEKLY:return this.wdayset.bind(this);case ve.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}},r.prototype.gettimeset=function(e){switch(e){case ve.HOURLY:return this.htimeset.bind(this);case ve.MINUTELY:return this.mtimeset.bind(this);case ve.SECONDLY:return this.stimeset.bind(this)}},r}(),Ab=DI;function Nb(r,e,t,n,s,a){for(var o=[],l=0;l<r.length;l++){var c=void 0,f=void 0,p=r[l];p<0?(c=Math.floor(p/e.length),f=Yt(p,e.length)):(c=Math.floor((p-1)/e.length),f=Yt(p-1,e.length));for(var g=[],T=t;T<n;T++){var S=a[T];!Ve(S)||g.push(S)}var b=void 0;c<0?b=g.slice(c)[0]:b=g[c];var x=e[f],C=se.fromOrdinal(s.yearordinal+b),G=se.combine(C,x);De(o,G)||o.push(G)}return se.sort(o),o}function Mu(r,e){var t=e.dtstart,n=e.freq,s=e.interval,a=e.until,o=e.bysetpos,l=e.count;if(l===0||s===0)return _n(r);var c=pb.fromDate(t),f=new Ab(e);f.rebuild(c.year,c.month);for(var p=MI(f,c,e);;){var g=f.getdayset(n)(c.year,c.month,c.day),T=g[0],S=g[1],b=g[2],x=OI(T,S,b,f,e);if(ot(o))for(var C=Nb(o,p,S,b,f,T),G=0;G<C.length;G++){var K=C[G];if(a&&K>a)return _n(r);if(K>=t){var B=Cb(K,e);if(!r.accept(B)||l&&(--l,!l))return _n(r)}}else for(var G=S;G<b;G++){var de=T[G];if(!!Ve(de))for(var ue=se.fromOrdinal(f.yearordinal+de),ye=0;ye<p.length;ye++){var Q=p[ye],K=se.combine(ue,Q);if(a&&K>a)return _n(r);if(K>=t){var B=Cb(K,e);if(!r.accept(B)||l&&(--l,!l))return _n(r)}}}if(e.interval===0||(c.add(e,x),c.year>se.MAXYEAR))return _n(r);Ha(n)||(p=f.gettimeset(n)(c.hour,c.minute,c.second,0)),f.rebuild(c.year,c.month)}}function SI(r,e,t){var n=t.bymonth,s=t.byweekno,a=t.byweekday,o=t.byeaster,l=t.bymonthday,c=t.bynmonthday,f=t.byyearday;return ot(n)&&!De(n,r.mmask[e])||ot(s)&&!r.wnomask[e]||ot(a)&&!De(a,r.wdaymask[e])||ot(r.nwdaymask)&&!r.nwdaymask[e]||o!==null&&!De(r.eastermask,e)||(ot(l)||ot(c))&&!De(l,r.mdaymask[e])&&!De(c,r.nmdaymask[e])||ot(f)&&(e<r.yearlen&&!De(f,e+1)&&!De(f,-r.yearlen+e)||e>=r.yearlen&&!De(f,e+1-r.yearlen)&&!De(f,-r.nextyearlen+e-r.yearlen))}function Cb(r,e){return new ks(r,e.tzid).rezonedDate()}function _n(r){return r.getValue()}function OI(r,e,t,n,s){for(var a=!1,o=e;o<t;o++){var l=r[o];a=SI(n,l,s),a&&(r[l]=null)}return a}function MI(r,e,t){var n=t.freq,s=t.byhour,a=t.byminute,o=t.bysecond;return Ha(n)?yb(t):n>=J.HOURLY&&ot(s)&&!De(s,e.hour)||n>=J.MINUTELY&&ot(a)&&!De(a,e.minute)||n>=J.SECONDLY&&ot(o)&&!De(o,e.second)?[]:r.gettimeset(n)(e.hour,e.minute,e.second,e.millisecond)}var Er={MO:new dt(0),TU:new dt(1),WE:new dt(2),TH:new dt(3),FR:new dt(4),SA:new dt(5),SU:new dt(6)},Ba={freq:ve.YEARLY,dtstart:null,interval:1,wkst:Er.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},gb=Object.keys(Ba),J=function(){function r(e,t){e===void 0&&(e={}),t===void 0&&(t=!1),this._cache=t?null:new bb,this.origOptions=Ch(e);var n=mb(e).parsedOptions;this.options=n}return r.parseText=function(e,t){return Ga(e,t)},r.fromText=function(e,t){return db(e,t)},r.fromString=function(e){return new r(r.parseString(e)||void 0)},r.prototype._iter=function(e){return Mu(e,this.options)},r.prototype._cacheGet=function(e,t){return this._cache?this._cache._cacheGet(e,t):!1},r.prototype._cacheAdd=function(e,t,n){if(!!this._cache)return this._cache._cacheAdd(e,t,n)},r.prototype.all=function(e){if(e)return this._iter(new Nh("all",{},e));var t=this._cacheGet("all");return t===!1&&(t=this._iter(new gn("all",{})),this._cacheAdd("all",t)),t},r.prototype.between=function(e,t,n,s){if(n===void 0&&(n=!1),!se.isValidDate(e)||!se.isValidDate(t))throw new Error("Invalid date passed in to RRule.between");var a={before:t,after:e,inc:n};if(s)return this._iter(new Nh("between",a,s));var o=this._cacheGet("between",a);return o===!1&&(o=this._iter(new gn("between",a)),this._cacheAdd("between",o,a)),o},r.prototype.before=function(e,t){if(t===void 0&&(t=!1),!se.isValidDate(e))throw new Error("Invalid date passed in to RRule.before");var n={dt:e,inc:t},s=this._cacheGet("before",n);return s===!1&&(s=this._iter(new gn("before",n)),this._cacheAdd("before",s,n)),s},r.prototype.after=function(e,t){if(t===void 0&&(t=!1),!se.isValidDate(e))throw new Error("Invalid date passed in to RRule.after");var n={dt:e,inc:t},s=this._cacheGet("after",n);return s===!1&&(s=this._iter(new gn("after",n)),this._cacheAdd("after",s,n)),s},r.prototype.count=function(){return this.all().length},r.prototype.toString=function(){return Ka(this.origOptions)},r.prototype.toText=function(e,t,n){return fb(this,e,t,n)},r.prototype.isFullyConvertibleToText=function(){return hb(this)},r.prototype.clone=function(){return new r(this.origOptions)},r.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],r.YEARLY=ve.YEARLY,r.MONTHLY=ve.MONTHLY,r.WEEKLY=ve.WEEKLY,r.DAILY=ve.DAILY,r.HOURLY=ve.HOURLY,r.MINUTELY=ve.MINUTELY,r.SECONDLY=ve.SECONDLY,r.MO=Er.MO,r.TU=Er.TU,r.WE=Er.WE,r.TH=Er.TH,r.FR=Er.FR,r.SA=Er.SA,r.SU=Er.SU,r.parseString=Va,r.optionsToString=Ka,r}();function Ib(r,e,t,n,s,a){var o={},l=r.accept;function c(T,S){t.forEach(function(b){b.between(T,S,!0).forEach(function(x){o[Number(x)]=!0})})}s.forEach(function(T){var S=new ks(T,a).rezonedDate();o[Number(S)]=!0}),r.accept=function(T){var S=Number(T);return isNaN(S)?l.call(this,T):!o[S]&&(c(new Date(S-1),new Date(S+1)),!o[S])?(o[S]=!0,l.call(this,T)):!0},r.method==="between"&&(c(r.args.after,r.args.before),r.accept=function(T){var S=Number(T);return o[S]?!0:(o[S]=!0,l.call(this,T))});for(var f=0;f<n.length;f++){var p=new ks(n[f],a).rezonedDate();if(!r.accept(new Date(p.getTime())))break}e.forEach(function(T){Mu(r,T.options)});var g=r._result;switch(se.sort(g),r.method){case"all":case"between":return g;case"before":return g.length&&g[g.length-1]||null;case"after":default:return g.length&&g[0]||null}}var Fb={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function RI(r,e){var t=[],n=[],s=[],a=[],o=za(r),l=o.dtstart,c=o.tzid,f=CI(r,e.unfold);return f.forEach(function(p){var g;if(!!p){var T=NI(p),S=T.name,b=T.parms,x=T.value;switch(S.toUpperCase()){case"RRULE":if(b.length)throw new Error("unsupported RRULE parm: ".concat(b.join(",")));t.push(Va(p));break;case"RDATE":var C=(g=/RDATE(?:;TZID=([^:=]+))?/i.exec(p))!==null&&g!==void 0?g:[],G=C[1];G&&!c&&(c=G),n=n.concat(Lb(x,b));break;case"EXRULE":if(b.length)throw new Error("unsupported EXRULE parm: ".concat(b.join(",")));s.push(Va(x));break;case"EXDATE":a=a.concat(Lb(x,b));break;case"DTSTART":break;default:throw new Error("unsupported property: "+S)}}}),{dtstart:l,tzid:c,rrulevals:t,rdatevals:n,exrulevals:s,exdatevals:a}}function xI(r,e){var t=RI(r,e),n=t.rrulevals,s=t.rdatevals,a=t.exrulevals,o=t.exdatevals,l=t.dtstart,c=t.tzid,f=e.cache===!1;if(e.compatible&&(e.forceset=!0,e.unfold=!0),e.forceset||n.length>1||s.length||a.length||o.length){var p=new Lh(f);return p.dtstart(l),p.tzid(c||void 0),n.forEach(function(T){p.rrule(new J(Fh(T,l,c),f))}),s.forEach(function(T){p.rdate(T)}),a.forEach(function(T){p.exrule(new J(Fh(T,l,c),f))}),o.forEach(function(T){p.exdate(T)}),e.compatible&&e.dtstart&&p.rdate(l),p}var g=n[0]||{};return new J(Fh(g,g.dtstart||e.dtstart||l,g.tzid||e.tzid||c),f)}function Ru(r,e){return e===void 0&&(e={}),xI(r,PI(e))}function Fh(r,e,t){return zt(zt({},r),{dtstart:e,tzid:t})}function PI(r){var e=[],t=Object.keys(r),n=Object.keys(Fb);if(t.forEach(function(s){De(n,s)||e.push(s)}),e.length)throw new Error("Invalid options: "+e.join(", "));return zt(zt({},Fb),r)}function AI(r){if(r.indexOf(":")===-1)return{name:"RRULE",value:r};var e=WT(r,":",1),t=e[0],n=e[1];return{name:t,value:n}}function NI(r){var e=AI(r),t=e.name,n=e.value,s=t.split(";");if(!s)throw new Error("empty property name");return{name:s[0].toUpperCase(),parms:s.slice(1),value:n}}function CI(r,e){if(e===void 0&&(e=!1),r=r&&r.trim(),!r)throw new Error("Invalid empty string");if(!e)return r.split(/\s/);for(var t=r.split(`
`),n=0;n<t.length;){var s=t[n]=t[n].replace(/\s+$/g,"");s?n>0&&s[0]===" "?(t[n-1]+=s.slice(1),t.splice(n,1)):n+=1:t.splice(n,1)}return t}function II(r){r.forEach(function(e){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(e))throw new Error("unsupported RDATE/EXDATE parm: "+e)})}function Lb(r,e){return II(e),r.split(",").map(function(t){return se.untilStringToDate(t)})}function Yb(r){var e=this;return function(t){if(t!==void 0&&(e["_".concat(r)]=t),e["_".concat(r)]!==void 0)return e["_".concat(r)];for(var n=0;n<e._rrule.length;n++){var s=e._rrule[n].origOptions[r];if(s)return s}}}var Lh=function(r){pi(e,r);function e(t){t===void 0&&(t=!1);var n=r.call(this,{},t)||this;return n.dtstart=Yb.apply(n,["dtstart"]),n.tzid=Yb.apply(n,["tzid"]),n._rrule=[],n._rdate=[],n._exrule=[],n._exdate=[],n}return e.prototype._iter=function(t){return Ib(t,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},e.prototype.rrule=function(t){Ub(t,this._rrule)},e.prototype.exrule=function(t){Ub(t,this._exrule)},e.prototype.rdate=function(t){Wb(t,this._rdate)},e.prototype.exdate=function(t){Wb(t,this._exdate)},e.prototype.rrules=function(){return this._rrule.map(function(t){return Ru(t.toString())})},e.prototype.exrules=function(){return this._exrule.map(function(t){return Ru(t.toString())})},e.prototype.rdates=function(){return this._rdate.map(function(t){return new Date(t.getTime())})},e.prototype.exdates=function(){return this._exdate.map(function(t){return new Date(t.getTime())})},e.prototype.valueOf=function(){var t=[];return!this._rrule.length&&this._dtstart&&(t=t.concat(Ka({dtstart:this._dtstart}))),this._rrule.forEach(function(n){t=t.concat(n.toString().split(`
`))}),this._exrule.forEach(function(n){t=t.concat(n.toString().split(`
`).map(function(s){return s.replace(/^RRULE:/,"EXRULE:")}).filter(function(s){return!/^DTSTART/.test(s)}))}),this._rdate.length&&t.push(qb("RDATE",this._rdate,this.tzid())),this._exdate.length&&t.push(qb("EXDATE",this._exdate,this.tzid())),t},e.prototype.toString=function(){return this.valueOf().join(`
`)},e.prototype.clone=function(){var t=new e(!!this._cache);return this._rrule.forEach(function(n){return t.rrule(n.clone())}),this._exrule.forEach(function(n){return t.exrule(n.clone())}),this._rdate.forEach(function(n){return t.rdate(new Date(n.getTime()))}),this._exdate.forEach(function(n){return t.exdate(new Date(n.getTime()))}),t},e}(J);function Ub(r,e){if(!(r instanceof J))throw new TypeError(String(r)+" is not RRule instance");De(e.map(String),String(r))||e.push(r)}function Wb(r,e){if(!(r instanceof Date))throw new TypeError(String(r)+" is not Date instance");De(e.map(Number),Number(r))||(e.push(r),se.sort(e))}function qb(r,e,t){var n=!t||t.toUpperCase()==="UTC",s=n?"".concat(r,":"):"".concat(r,";TZID=").concat(t,":"),a=e.map(function(o){return se.timeToUntilString(o.valueOf(),n)}).join(",");return"".concat(s).concat(a)}function zr(r,e){return r!==null&&e===null?-1:r===null&&e!==null?1:r!==null&&e!==null?r.isValid()&&!e.isValid()?-1:!r.isValid()&&e.isValid()||r.isAfter(e)?1:r.isBefore(e)?-1:0:0}var Rt=class{constructor({rrule:e,baseOnToday:t,referenceDate:n,startDate:s,scheduledDate:a,dueDate:o}){this.rrule=e,this.baseOnToday=t,this.referenceDate=n,this.startDate=s,this.scheduledDate=a,this.dueDate=o}static fromText({recurrenceRuleText:e,startDate:t,scheduledDate:n,dueDate:s}){try{let a=e.match(/^([a-zA-Z0-9, !]+?)( when done)?$/i);if(a==null)return null;let o=a[1].trim(),l=a[2]!==void 0,c=J.parseText(o);if(c!==null){let f=null;s?f=window.moment(s):n?f=window.moment(n):t&&(f=window.moment(t)),!l&&f!==null?c.dtstart=window.moment(f).startOf("day").utc(!0).toDate():c.dtstart=window.moment().startOf("day").utc(!0).toDate();let p=new J(c);return new Rt({rrule:p,baseOnToday:l,referenceDate:f,startDate:t,scheduledDate:n,dueDate:s})}}catch(a){}return null}toText(){let e=this.rrule.toText();return this.baseOnToday&&(e+=" when done"),e}next(){let e=this.nextReferenceDate();if(e!==null){let t=null,n=null,s=null;if(this.referenceDate){if(this.startDate){let a=window.moment.duration(this.startDate.diff(this.referenceDate));t=window.moment(e),t.add(Math.round(a.asDays()),"days")}if(this.scheduledDate){let a=window.moment.duration(this.scheduledDate.diff(this.referenceDate));n=window.moment(e),n.add(Math.round(a.asDays()),"days")}if(this.dueDate){let a=window.moment.duration(this.dueDate.diff(this.referenceDate));s=window.moment(e),s.add(Math.round(a.asDays()),"days")}}return{startDate:t,scheduledDate:n,dueDate:s}}return null}identicalTo(e){return this.baseOnToday!==e.baseOnToday||zr(this.startDate,e.startDate)!==0||zr(this.scheduledDate,e.scheduledDate)!==0||zr(this.dueDate,e.dueDate)!==0?!1:this.toText()===e.toText()}nextReferenceDate(){if(this.baseOnToday){let e=window.moment();return this.nextReferenceDateFromToday(e).toDate()}else return this.nextReferenceDateFromOriginalReferenceDate().toDate()}nextReferenceDateFromToday(e){let t=new J(tr(Ae({},this.rrule.origOptions),{dtstart:e.startOf("day").utc(!0).toDate()}));return this.nextAfter(e.endOf("day"),t)}nextReferenceDateFromOriginalReferenceDate(){var t;let e=window.moment((t=this.referenceDate)!=null?t:void 0).endOf("day");return this.nextAfter(e,this.rrule)}nextAfter(e,t){e.utc(!0);let n=window.moment(t.after(e.toDate())),s=this.toText(),a=s.match(/every( \d+)? month(s)?(.*)?/);a!==null&&(s.includes(" on ")||(n=Rt.nextAfterMonths(e,n,t,a[1])));let o=s.match(/every( \d+)? year(s)?(.*)?/);return o!==null&&(n=Rt.nextAfterYears(e,n,t,o[1])),Rt.addTimezone(n)}static nextAfterMonths(e,t,n,s){let a=1;for(s!==void 0&&(a=Number.parseInt(s.trim(),10));Rt.isSkippingTooManyMonths(e,t,a);)t=Rt.fromOneDayEarlier(e,n);return t}static isSkippingTooManyMonths(e,t,n){let s=t.month()-e.month();return s+=(t.year()-e.year())*12,s>n}static nextAfterYears(e,t,n,s){let a=1;for(s!==void 0&&(a=Number.parseInt(s.trim(),10));Rt.isSkippingTooManyYears(e,t,a);)t=Rt.fromOneDayEarlier(e,n);return t}static isSkippingTooManyYears(e,t,n){return t.year()-e.year()>n}static fromOneDayEarlier(e,t){e.subtract(1,"days").endOf("day");let n=t.origOptions;return n.dtstart=e.startOf("day").toDate(),t=new J(n),window.moment(t.after(e.toDate()))}static addTimezone(e){return window.moment.utc(e).local(!0).startOf("day")}};var Yh=5;function Uh(r,e){let t=[r.startDateSymbol,r.scheduledDateSymbol,r.dueDateSymbol].join("|");return(n,s,a)=>{let o=[];return o=o.concat(LI(n,s,a,t,e)),o=o.concat(YI(n,s,a,r.recurrenceSymbol)),o=o.concat(FI(n,s,a,r)),o.length>0&&!o.some(l=>l.suggestionType==="match")&&o.unshift({suggestionType:"empty",displayText:"\u23CE",appendText:`
`}),o=o.slice(0,a.autoSuggestMaxItems),o}}function FI(r,e,t,n){let s=c=>Object.values(n.prioritySymbols).some(f=>f.length>0&&c.includes(f)),a=[];if(r.includes(n.dueDateSymbol)||a.push({displayText:`${n.dueDateSymbol} due date`,appendText:`${n.dueDateSymbol} `}),r.includes(n.startDateSymbol)||a.push({displayText:`${n.startDateSymbol} start date`,appendText:`${n.startDateSymbol} `}),r.includes(n.scheduledDateSymbol)||a.push({displayText:`${n.scheduledDateSymbol} scheduled date`,appendText:`${n.scheduledDateSymbol} `}),s(r)||(a.push({displayText:`${n.prioritySymbols.Highest} highest priority`,appendText:`${n.prioritySymbols.Highest} `}),a.push({displayText:`${n.prioritySymbols.High} high priority`,appendText:`${n.prioritySymbols.High} `}),a.push({displayText:`${n.prioritySymbols.Medium} medium priority`,appendText:`${n.prioritySymbols.Medium} `}),a.push({displayText:`${n.prioritySymbols.Low} low priority`,appendText:`${n.prioritySymbols.Low} `}),a.push({displayText:`${n.prioritySymbols.Lowest} lowest priority`,appendText:`${n.prioritySymbols.Lowest} `})),r.includes(n.recurrenceSymbol)||a.push({displayText:`${n.recurrenceSymbol} recurring (repeat)`,appendText:`${n.recurrenceSymbol} `}),!r.includes(n.createdDateSymbol)){let f=ir.parseDate("today",!0).format(ie.dateFormat);a.push({textToMatch:`${n.createdDateSymbol} created`,displayText:`${n.createdDateSymbol} created today (${f})`,appendText:`${n.createdDateSymbol} ${f} `})}let o=Wh(r,/([a-zA-Z'_-]*)/g,e),l=[];if(o&&o.length>0){let c=o[0];if(c.length>=Math.max(1,t.autoSuggestMinMatch)){let f=a.filter(p=>(p.textToMatch||p.displayText).toLowerCase().includes(c.toLowerCase()));for(let p of f)l.push({suggestionType:"match",displayText:p.displayText,appendText:p.appendText,insertAt:o.index,insertSkip:c.length})}}return l.length===0&&t.autoSuggestMinMatch===0?a:l}function LI(r,e,t,n,s){let a=["today","tomorrow","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","next week","next month","next year"],o=[],l=new RegExp(`(${n})\\s*([0-9a-zA-Z ]*)`,"ug"),c=Wh(r,l,e);if(c&&c.length>=2){let f=c[1],p=c[2];if(p.length<t.autoSuggestMinMatch)return[];let g=p&&p.length>1?ir.parseDate(fi(p),!0):null;g&&g.isValid()&&o.push({displayText:`${g.format(ie.dateFormat)}`,appendText:`${f} ${g.format(ie.dateFormat)} `,insertAt:c.index,insertSkip:c[0].length});let T=1,S=a.filter(b=>p&&p.length>=T&&b.toLowerCase().includes(p.toLowerCase())).slice(0,s);S.length===0&&(S=a.slice(0,s));for(let b of S){let C=`${ir.parseDate(b,!0).format(ie.dateFormat)}`;o.push({suggestionType:"match",displayText:`${b} (${C})`,appendText:`${f} ${C} `,insertAt:c.index,insertSkip:c[0].length})}}return o}function YI(r,e,t,n){var c;let s=["every","every day","every week","every month","every month on the","every year","every week on Sunday","every week on Monday","every week on Tuesday","every week on Wednesday","every week on Thursday","every week on Friday","every week on Saturday"],a=[],o=new RegExp(`(${n})\\s*([0-9a-zA-Z ]*)`,"ug"),l=Wh(r,o,e);if(l&&l.length>=2){let f=l[1],p=l[2];if(p.length<t.autoSuggestMinMatch)return[];if(p.length>0){let b=(c=Rt.fromText({recurrenceRuleText:p,startDate:null,scheduledDate:null,dueDate:null}))==null?void 0:c.toText();if(b){let x=`${f} ${b} `;if(a.push({suggestionType:"match",displayText:`\u2705 ${b}`,appendText:x,insertAt:l.index,insertSkip:l[0].length}),l[0]==x)return[]}}let g=1,T=t.autoSuggestMaxItems/2,S=s.filter(b=>p&&p.length>=g&&b.toLowerCase().includes(p.toLowerCase())).slice(0,T);S.length===0&&p.trim().length===0&&(S=s.slice(0,T));for(let b of S)a.push({suggestionType:"match",displayText:`${b}`,appendText:`${f} ${b} `,insertAt:l.index,insertSkip:l[0].length})}return a}function Wh(r,e,t){let n=r.matchAll(e);for(let s of n)if((s==null?void 0:s.index)&&s.index<=t&&t<=s.index+s[0].length)return s}var Za=class{constructor(){this.hideTaskCount=!1;this.hideBacklinks=!1;this.hidePriority=!1;this.hideCreatedDate=!1;this.hideStartDate=!1;this.hideScheduledDate=!1;this.hideDoneDate=!1;this.hideDueDate=!1;this.hideRecurrenceRule=!1;this.hideEditButton=!1;this.hideUrgency=!0;this.shortMode=!1;this.explainQuery=!1}},Bn=class{constructor(e,t){this.defaultLayout=["description","priority","recurrenceRule","createdDate","startDate","scheduledDate","dueDate","doneDate","blockLink"];this.hiddenComponents=[];this.specificClasses=[];e?this.options=e:this.options=new Za,t?this.layoutComponents=t:this.layoutComponents=this.defaultLayout,this.layoutComponents=this.applyOptions(this.options)}applyOptions(e){let t=(a,o,l)=>o?(this.specificClasses.push(`tasks-layout-hide-${l}`),this.hiddenComponents.push(l),a.filter(c=>c!=l)):a,n=(a,o)=>{a&&this.specificClasses.push(`tasks-layout-hide-${o}`)},s=this.layoutComponents;return s=t(s,e.hidePriority,"priority"),s=t(s,e.hideRecurrenceRule,"recurrenceRule"),s=t(s,e.hideCreatedDate,"createdDate"),s=t(s,e.hideStartDate,"startDate"),s=t(s,e.hideScheduledDate,"scheduledDate"),s=t(s,e.hideDueDate,"dueDate"),s=t(s,e.hideDoneDate,"doneDate"),n(e.hideUrgency,"urgency"),n(e.hideBacklinks,"backlinks"),n(e.hideEditButton,"edit-button"),e.shortMode&&this.specificClasses.push("tasks-layout-short-mode"),s}};var qh={prioritySymbols:{Highest:"\u{1F53A}",High:"\u23EB",Medium:"\u{1F53C}",Low:"\u{1F53D}",Lowest:"\u23EC",None:""},startDateSymbol:"\u{1F6EB}",createdDateSymbol:"\u2795",scheduledDateSymbol:"\u23F3",dueDateSymbol:"\u{1F4C5}",doneDateSymbol:"\u2705",recurrenceSymbol:"\u{1F501}",TaskFormatRegularExpressions:{priorityRegex:/([🔺⏫🔼🔽⏬])$/u,startDateRegex:/🛫 *(\d{4}-\d{2}-\d{2})$/u,createdDateRegex:/➕ *(\d{4}-\d{2}-\d{2})$/u,scheduledDateRegex:/[⏳⌛] *(\d{4}-\d{2}-\d{2})$/u,dueDateRegex:/[📅📆🗓] *(\d{4}-\d{2}-\d{2})$/u,doneDateRegex:/✅ *(\d{4}-\d{2}-\d{2})$/u,recurrenceRegex:/🔁 ?([a-zA-Z0-9, !]+)$/iu}},Es=class{constructor(e){this.symbols=e}serialize(e){let t=new Bn,n="";for(let s of t.layoutComponents)n+=this.componentToString(e,t,s);return n}componentToString(e,t,n){var g;let{prioritySymbols:s,startDateSymbol:a,createdDateSymbol:o,scheduledDateSymbol:l,doneDateSymbol:c,recurrenceSymbol:f,dueDateSymbol:p}=this.symbols;switch(n){case"description":return e.description;case"priority":{let T="";return e.priority==="0"?T=" "+s.Highest:e.priority==="1"?T=" "+s.High:e.priority==="2"?T=" "+s.Medium:e.priority==="4"?T=" "+s.Low:e.priority==="5"&&(T=" "+s.Lowest),T}case"startDate":return e.startDate?t.options.shortMode?" "+a:` ${a} ${e.startDate.format(ie.dateFormat)}`:"";case"createdDate":return e.createdDate?t.options.shortMode?" "+o:` ${o} ${e.createdDate.format(ie.dateFormat)}`:"";case"scheduledDate":return!e.scheduledDate||e.scheduledDateIsInferred?"":t.options.shortMode?" "+l:` ${l} ${e.scheduledDate.format(ie.dateFormat)}`;case"doneDate":return e.doneDate?t.options.shortMode?" "+c:` ${c} ${e.doneDate.format(ie.dateFormat)}`:"";case"dueDate":return e.dueDate?t.options.shortMode?" "+p:` ${p} ${e.dueDate.format(ie.dateFormat)}`:"";case"recurrenceRule":return e.recurrence?t.options.shortMode?" "+f:` ${f} ${e.recurrence.toText()}`:"";case"blockLink":return(g=e.blockLink)!=null?g:"";default:throw new Error(`Don't know how to render task component of type '${n}'`)}}parsePriority(e){let{prioritySymbols:t}=this.symbols;switch(e){case t.Lowest:return"5";case t.Low:return"4";case t.Medium:return"2";case t.High:return"1";case t.Highest:return"0";default:return"3"}}deserialize(e){let{TaskFormatRegularExpressions:t}=this.symbols,n,s="3",a=null,o=null,l=null,c=null,f=null,p="",g=null,T="",S=20,b=0;do{n=!1;let x=e.match(t.priorityRegex);x!==null&&(s=this.parsePriority(x[1]),e=e.replace(t.priorityRegex,"").trim(),n=!0);let C=e.match(t.doneDateRegex);C!==null&&(c=window.moment(C[1],ie.dateFormat),e=e.replace(t.doneDateRegex,"").trim(),n=!0);let G=e.match(t.dueDateRegex);G!==null&&(l=window.moment(G[1],ie.dateFormat),e=e.replace(t.dueDateRegex,"").trim(),n=!0);let K=e.match(t.scheduledDateRegex);K!==null&&(o=window.moment(K[1],ie.dateFormat),e=e.replace(t.scheduledDateRegex,"").trim(),n=!0);let B=e.match(t.startDateRegex);B!==null&&(a=window.moment(B[1],ie.dateFormat),e=e.replace(t.startDateRegex,"").trim(),n=!0);let de=e.match(t.createdDateRegex);de!==null&&(f=window.moment(de[1],ie.dateFormat),e=e.replace(t.createdDateRegex,"").trim(),n=!0);let ue=e.match(t.recurrenceRegex);ue!==null&&(p=ue[1].trim(),e=e.replace(t.recurrenceRegex,"").trim(),n=!0);let ye=e.match(ie.hashTagsFromEnd);if(ye!=null){e=e.replace(ie.hashTagsFromEnd,"").trim(),n=!0;let Q=ye[0].trim();T=T.length>0?[Q,T].join(" "):Q}b++}while(n&&b<=S);return p.length>0&&(g=Rt.fromText({recurrenceRuleText:p,startDate:a,scheduledDate:o,dueDate:l})),T.length>0&&(e+=" "+T),{description:e,priority:s,startDate:a,createdDate:f,scheduledDate:o,dueDate:l,doneDate:c,recurrence:g,tags:Ge.extractHashtags(e)}}};function Ds(r){let e=["(?:",/(?=[^\]]+\])\[/,"|",/(?=[^)]+\))\(/,")",/ */,r,/ */,/[)\]]/,/(?: *,)?/,/$/].map(t=>t instanceof RegExp?t.source:t).join("");return new RegExp(e,r.flags)}var jh={prioritySymbols:{Highest:"priority:: highest",High:"priority:: high",Medium:"priority:: medium",Low:"priority:: low",Lowest:"priority:: lowest",None:""},startDateSymbol:"start::",createdDateSymbol:"created::",scheduledDateSymbol:"scheduled::",dueDateSymbol:"due::",doneDateSymbol:"completion::",recurrenceSymbol:"repeat::",TaskFormatRegularExpressions:{priorityRegex:Ds(/priority:: *(highest|high|medium|low|lowest)/),startDateRegex:Ds(/start:: *(\d{4}-\d{2}-\d{2})/),createdDateRegex:Ds(/created:: *(\d{4}-\d{2}-\d{2})/),scheduledDateRegex:Ds(/scheduled:: *(\d{4}-\d{2}-\d{2})/),dueDateRegex:Ds(/due:: *(\d{4}-\d{2}-\d{2})/),doneDateRegex:Ds(/completion:: *(\d{4}-\d{2}-\d{2})/),recurrenceRegex:Ds(/repeat:: *([a-zA-Z0-9, !]+)/)}},xu=class extends Es{constructor(){super(jh)}parsePriority(e){switch(e){case"highest":return"0";case"high":return"1";case"medium":return"2";case"low":return"4";case"lowest":return"5";default:return"3"}}componentToString(e,t,n){let s=super.componentToString(e,t,n);return s!==""&&!["blockLink","description"].includes(n)?`  [${s.trim()}]`:s}};var Dr=(o=>(o.TODO="TODO",o.DONE="DONE",o.IN_PROGRESS="IN_PROGRESS",o.CANCELLED="CANCELLED",o.NON_TASK="NON_TASK",o.EMPTY="EMPTY",o))(Dr||{}),xt=class{constructor(e,t,n,s,a="TODO"){this.symbol=e,this.name=t,this.nextStatusSymbol=n,this.availableAsCommand=s,this.type=a}};var Xt=class{get symbol(){return this.configuration.symbol}get name(){return this.configuration.name}get nextStatusSymbol(){return this.configuration.nextStatusSymbol}get availableAsCommand(){return this.configuration.availableAsCommand}get type(){return this.configuration.type}constructor(e){this.configuration=e}static makeDone(){return new Xt(new xt("x","Done"," ",!0,"DONE"))}static makeEmpty(){return new Xt(new xt("","EMPTY","",!0,"EMPTY"))}static makeTodo(){return new Xt(new xt(" ","Todo","x",!0,"TODO"))}static makeCancelled(){return new Xt(new xt("-","Cancelled"," ",!0,"CANCELLED"))}static makeInProgress(){return new Xt(new xt("/","In Progress","x",!0,"IN_PROGRESS"))}static getTypeForUnknownSymbol(e){switch(e){case"x":case"X":return"DONE";case"/":return"IN_PROGRESS";case"-":return"CANCELLED";case"":return"EMPTY";case" ":default:return"TODO"}}static getTypeFromStatusTypeString(e){return Dr[e]||"TODO"}static createUnknownStatus(e){return new Xt(new xt(e,"Unknown","x",!1,"TODO"))}static createFromImportedValue(e){let t=e[0],n=Xt.getTypeFromStatusTypeString(e[3]);return new Xt(new xt(t,e[1],e[2],!1,n))}isCompleted(){return this.type==="DONE"}previewText(){let e="";return Xt.tasksPluginCanCreateCommandsForStatuses()&&this.availableAsCommand&&(e=" Available as a command."),`- [${this.symbol}] => [${this.nextStatusSymbol}], name: '${this.name}', type: '${this.configuration.type}'.${e}`}static tasksPluginCanCreateCommandsForStatuses(){return!1}},me=Xt;me.DONE=Xt.makeDone(),me.EMPTY=Xt.makeEmpty(),me.TODO=Xt.makeTodo();var Pu=class{constructor(e=!1,t=!1){this.ignoreSortInstructions=e,this.showTaskHiddenData=t}};var _t=class{constructor(){this.coreStatuses=[me.makeTodo().configuration,me.makeDone().configuration],this.customStatuses=[me.makeInProgress().configuration,me.makeCancelled().configuration]}static addStatus(e,t){e.push(t)}static replaceStatus(e,t,n){let s=this.findStatusIndex(t,e);return s<=-1?!1:(e.splice(s,1,n),!0)}static findStatusIndex(e,t){let n=new me(e);return t.findIndex(s=>new me(s).previewText()==n.previewText())}static deleteStatus(e,t){let n=this.findStatusIndex(t,e);return n<=-1?!1:(e.splice(n,1),!0)}static deleteAllCustomStatuses(e){e.customStatuses.splice(0)}static resetAllCustomStatuses(e){_t.deleteAllCustomStatuses(e),new _t().customStatuses.forEach(n=>{_t.addStatus(e.customStatuses,n)})}static bulkAddStatusCollection(e,t){let n=[];return t.forEach(s=>{e.customStatuses.find(o=>o.symbol==s[0]&&o.name==s[1]&&o.nextStatusSymbol==s[2])?n.push(`The status ${s[1]} (${s[0]}) is already added.`):_t.addStatus(e.customStatuses,me.createFromImportedValue(s))}),n}static applyToStatusRegistry(e,t){t.clearStatuses(),e.coreStatuses.forEach(n=>{t.add(n)}),e.customStatuses.forEach(n=>{t.add(n)})}};var jb=[{index:9999,internalName:"INTERNAL_TESTING_ENABLED_BY_DEFAULT",displayName:"Test Item. Used to validate the Feature Framework.",description:"Description",enabledByDefault:!0,stable:!1}];var Vr=class{constructor(e,t,n,s,a,o){this.internalName=e;this.index=t;this.description=n;this.displayName=s;this.enabledByDefault=a;this.stable=o}static get values(){let e=[];return jb.forEach(t=>{e=[...e,new Vr(t.internalName,t.index,t.description,t.displayName,t.enabledByDefault,t.stable)]}),e}static get settingsFlags(){let e={};return Vr.values.forEach(t=>{e[t.internalName]=t.enabledByDefault}),e}static fromString(e){for(let t of Vr.values)if(e===t.internalName)return t;throw new RangeError(`Illegal argument passed to fromString(): ${e} does not correspond to any available Feature ${this.prototype.constructor.name}`)}};function Au(r){return r.replace(/([.*+?^${}()|[\]/\\])/g,"\\$1")}var Sr=class{static get(){let{globalFilter:e}=oe();return e}static set(e){ft({globalFilter:e})}static reset(){ft({globalFilter:Sr.empty})}static isEmpty(){return Sr.get()===Sr.empty}static equals(e){return Sr.get()===e}static includedIn(e){let t=Sr.get();return e.includes(t)}static prependTo(e){return Sr.get()+" "+e}static removeAsWordFrom(e){if(Sr.isEmpty())return e;let t=RegExp("(^|\\s)"+Au(Sr.get())+"($|\\s)","ug");return e.search(t)>-1&&(e=e.replace(t,"$1$2").replace("  "," ").trim()),e}static removeAsSubstringFrom(e){let t=Sr.get();return e.replace(t,"").trim()}static removeAsSubstringFromDependingOnSettings(e){let{removeGlobalFilter:t}=oe();return t?Sr.removeAsSubstringFrom(e):e}},Le=Sr;Le.empty="";var Tn={tasksPluginEmoji:{displayName:"Tasks Emoji Format",taskSerializer:new Es(qh),buildSuggestions:Uh(qh,Yh)},dataview:{displayName:"Dataview",taskSerializer:new xu,buildSuggestions:Uh(jh,Yh)}},WI={globalQuery:"",globalFilter:Le.empty,removeGlobalFilter:!1,taskFormat:"tasksPluginEmoji",setCreatedDate:!1,setDoneDate:!0,autoSuggestInEditor:!0,autoSuggestMinMatch:0,autoSuggestMaxItems:6,provideAccessKeys:!0,useFilenameAsScheduledDate:!1,filenameAsDateFolders:[],recurrenceOnNextLine:!1,statusSettings:new _t,features:Vr.settingsFlags,generalSettings:{},headingOpened:{},debugSettings:new Pu},zn=Ae({},WI),oe=()=>{for(let r in Vr.settingsFlags)zn.features[r]===void 0&&(zn.features[r]=Vr.settingsFlags[r]);return zn.statusSettings.customStatuses.forEach((r,e,t)=>{var s,a;let n=me.getTypeFromStatusTypeString(r.type);t[e]=new xt((s=r.symbol)!=null?s:" ",r.name,(a=r.nextStatusSymbol)!=null?a:"x",r.availableAsCommand,n)}),Ae({},zn)},ft=r=>(zn=Ae(Ae({},zn),r),oe());var Ss=(r,e)=>(zn.generalSettings[r]=e,oe()),Gb=r=>{var e;return(e=zn.features[r])!=null?e:!1};function Xa(){return Tn[oe().taskFormat]}function $h(){return{source:oe().globalQuery}}var He=class{constructor(){this._registeredStatuses=[];this.addDefaultStatusTypes()}get registeredStatuses(){return this._registeredStatuses.filter(({symbol:e})=>e!==me.EMPTY.symbol)}static getInstance(){return He.instance||(He.instance=new He),He.instance}add(e){this.hasSymbol(e.symbol)||(e instanceof me?this._registeredStatuses.push(e):this._registeredStatuses.push(new me(e)))}bySymbol(e){return this.hasSymbol(e)?this.getSymbol(e):me.EMPTY}bySymbolOrCreate(e){return this.hasSymbol(e)?this.getSymbol(e):me.createUnknownStatus(e)}byName(e){return this._registeredStatuses.filter(({name:t})=>t===e).length>0?this._registeredStatuses.filter(({name:t})=>t===e)[0]:me.EMPTY}resetToDefaultStatuses(){this.clearStatuses(),this.addDefaultStatusTypes()}clearStatuses(){this._registeredStatuses=[]}getNextStatus(e){if(e.nextStatusSymbol!==""){let t=this.bySymbol(e.nextStatusSymbol);if(t!==null)return t}return me.EMPTY}getNextStatusOrCreate(e){let t=this.getNextStatus(e);return t.type!=="EMPTY"?t:me.createUnknownStatus(e.nextStatusSymbol)}findUnknownStatuses(e){let t=e.filter(a=>!this.hasSymbol(a.symbol)),n=new He,s=[];return t.forEach(a=>{if(n.hasSymbol(a.symbol))return;let o=He.copyStatusWithNewName(a,`Unknown (${a.symbol})`);s.push(o),n.add(o)}),s}static copyStatusWithNewName(e,t){let n=new xt(e.symbol,t,e.nextStatusSymbol,e.availableAsCommand,e.type);return new me(n)}getSymbol(e){return this._registeredStatuses.filter(({symbol:t})=>t===e)[0]}hasSymbol(e){return this._registeredStatuses.find(t=>t.symbol===e)!==void 0}addDefaultStatusTypes(){[me.makeTodo(),me.makeInProgress(),me.makeDone(),me.makeCancelled()].forEach(t=>{this.add(t)})}};var Fr=class{static calculate(e){let t=0;if(e.dueDate!==null){let n=Math.round(window.moment().diff(e.dueDate)/Fr.milliSecondsPerDay),s;n>=7?s=1:n>=-14?s=(n+14)*.8/21+.2:s=.2,t+=s*Fr.dueCoefficient}switch(e.scheduledDate!==null&&window.moment().isSameOrAfter(e.scheduledDate)&&(t+=1*Fr.scheduledCoefficient),e.startDate!==null&&window.moment().isBefore(e.startDate)&&(t+=1*Fr.startedCoefficient),e.priority){case"0":t+=1.5*Fr.priorityCoefficient;break;case"1":t+=1*Fr.priorityCoefficient;break;case"2":t+=.65*Fr.priorityCoefficient;break;case"3":t+=.325*Fr.priorityCoefficient;break;case"5":t-=.3*Fr.priorityCoefficient;break}return t}},bn=Fr;bn.dueCoefficient=12,bn.scheduledCoefficient=5,bn.startedCoefficient=-3,bn.priorityCoefficient=6,bn.milliSecondsPerDay=1e3*60*60*24;var tv=require("obsidian");var to=require("obsidian");var Vb=In(vu()),qI=require("obsidian"),Kb=In(zb());var Gh=class extends Kb.EventEmitter2{constructor(){super(...arguments);this.options={minLevels:{"":"info",tasks:"info"}};this.consoleLoggerRegistered=!1;this.arrAvg=t=>t.reduce((n,s)=>n+s,0)/t.length}configure(t){return this.options=Object.assign({},this.options,t),this}getLogger(t){let n="none",s="";for(let a in this.options.minLevels)t.startsWith(a)&&a.length>=s.length&&(n=this.options.minLevels[a],s=a);return new Hh(this,t,n)}onLogEntry(t){return this.on("log",t),this}registerConsoleLogger(){return this.consoleLoggerRegistered?this:(this.onLogEntry(t=>{let n=`[${(0,Vb.default)().format("YYYY-MM-DD-HH:mm:ss.SSS")}][${t.level}][${t.module}]`;switch(t.traceId&&(n+=`[${t.traceId}]`),n+=` ${t.message}`,t.objects===void 0&&(t.objects=""),t.level){case"trace":console.trace(n,t.objects);break;case"debug":console.debug(n,t.objects);break;case"info":console.info(n,t.objects);break;case"warn":console.warn(n,t.objects);break;case"error":console.error(n,t.objects);break;default:console.log(`{${t.level}} ${n}`,t.objects)}}),this.consoleLoggerRegistered=!0,this)}},Nu=new Gh,Hh=class{constructor(e,t,n){this.levels={trace:1,debug:2,info:3,warn:4,error:5};this.logManager=e,this.module=t,this.minLevel=this.levelToInt(n)}levelToInt(e){return e.toLowerCase()in this.levels?this.levels[e.toLowerCase()]:99}log(e,t,n){if(this.levelToInt(e)<this.minLevel)return;let a={level:e,module:this.module,message:t,objects:n,traceId:void 0};this.logManager.emit("log",a)}trace(e,t){this.log("trace",e,t)}debug(e,t){this.log("debug",e,t)}info(e,t){this.log("info",e,t)}warn(e,t){this.log("warn",e,t)}error(e,t){this.log("error",e,t)}logWithId(e,t,n,s){if(this.levelToInt(e)<this.minLevel)return;let o={level:e,module:this.module,message:n,objects:s,traceId:t};this.logManager.emit("log",o)}traceWithId(e,t,n){this.logWithId("trace",e,t,n)}debugWithId(e,t,n){this.logWithId("debug",e,t,n)}infoWithId(e,t,n){this.logWithId("info",e,t,n)}warnWithId(e,t,n){this.logWithId("warn",e,t,n)}errorWithId(e,t,n){this.logWithId("error",e,t,n)}};var Ja,Bh,zh,jI=["md"],eo=Nu.getLogger("tasks"),Zb=({metadataCache:r,vault:e,workspace:t})=>{Ja=r,Bh=e,zh=t},Fu=t=>X(void 0,[t],function*({originalTask:r,newTasks:e}){if(Bh===void 0||Ja===void 0||zh===void 0){Cu("Tasks: cannot use File before initializing it.");return}Array.isArray(e)||(e=[e]),eo.debug(`replaceTaskWithTasks entered. ${r.path}`),Xb({originalTask:r,newTasks:e,vault:Bh,metadataCache:Ja,workspace:zh,previousTries:0})});function Cu(r){console.error(r),new to.Notice(r,15e3)}function Qb(r){console.warn(r),new to.Notice(r,1e4)}function $I(r){eo.debug(r)}var Vn=class extends Error{},Iu=class extends Error{},Xb=o=>X(void 0,[o],function*({originalTask:r,newTasks:e,vault:t,metadataCache:n,workspace:s,previousTries:a}){eo.debug(`tryRepetitive after ${a} previous tries`);let l=()=>{if(a>10){let f=`Tasks: Could not find the correct task line to update.

The task line not updated is:
${r.originalMarkdown}

In this markdown file:
"${r.taskLocation.path}"

Note: further clicks on this checkbox will usually now be ignored until the file is opened (or certain, specific edits are made - it's complicated).

Recommendations:

1. Close all panes that have the above file open, and then re-open the file.

2. Check for exactly identical copies of the task line, in this file, and see if you can make them different.
`;Cu(f);return}let c=Math.min(Math.pow(10,a),100);eo.debug(`timeout = ${c}`),setTimeout(()=>{Xb({originalTask:r,newTasks:e,vault:t,metadataCache:n,workspace:s,previousTries:a+1})},c)};try{let[c,f,p]=yield Jb(r,t),g=[...p.slice(0,c),...e.map(T=>T.toFileLineString()),...p.slice(c+1)];yield t.modify(f,g.join(`
`))}catch(c){if(c instanceof Vn)return c.message&&Qb(c.message),l();if(c instanceof Iu)return l();c instanceof Error&&Cu(c.message)}});function Jb(r,e){return X(this,null,function*(){if(Ja===void 0)throw new Vn;let t=e.getAbstractFileByPath(r.path);if(!(t instanceof to.TFile))throw new Vn(`Tasks: No file found for task ${r.description}. Retrying ...`);if(!jI.includes(t.extension))throw new Error(`Tasks: Does not support files with the ${t.extension} file extension.`);let n=Ja.getFileCache(t);if(n==null||n===null)throw new Vn(`Tasks: No file cache found for file ${t.path}. Retrying ...`);let s=n.listItems;if(s===void 0||s.length===0)throw new Vn(`Tasks: No list items found in file cache of ${t.path}. Retrying ...`);let o=(yield e.read(t)).split(`
`),l=GI(r,o,s,$I);if(l===void 0)throw new Iu;return[l,t,o]})}function Vh(r,e){return X(this,null,function*(){try{let[t,n,s]=yield Jb(r,e);return[t,n]}catch(t){t instanceof Vn?t.message&&Qb(t.message):t instanceof Error&&Cu(t.message)}})}function ev(r,e){return r<e.length}function GI(r,e,t,n){let s=HI(r,e);return s!==void 0||(s=BI(r,e),s!==void 0)?s:zI(r,e,t,n)}function HI(r,e){let t=r.taskLocation.lineNumber;if(ev(t,e)&&e[t]===r.originalMarkdown)return eo.debug(`Found original markdown at original line number ${t}`),t}function BI(r,e){let t=[];for(let n=0;n<e.length;n++)e[n]===r.originalMarkdown&&t.push(n);if(t.length===1)return t[0]}function zI(r,e,t,n){let s,a=0;for(let o of t){let l=o.position.start.line;if(!ev(l,e))return;if(l<r.taskLocation.sectionStart||o.task===void 0)continue;let c=e[l];if(Le.includedIn(c)){if(a===r.taskLocation.sectionIndex){if(c===r.originalMarkdown)s=l;else{n(`Tasks: Unable to find task in file ${r.taskLocation.path}.
Expected task:
${r.originalMarkdown}
Found task:
${c}`);return}break}a++}}return s}var Kn={description:"task-description",priority:"task-priority",dueDate:"task-due",startDate:"task-start",createdDate:"task-created",scheduledDate:"task-scheduled",doneDate:"task-done",recurrenceRule:"task-recurring",blockLink:""},VI=7,KI="far";function ZI(r,e,t,n){return X(this,null,function*(){if(!n)throw new Error("Must call the Obsidian renderer with an Obsidian Component object");yield tv.MarkdownRenderer.renderMarkdown(r,e,t,n)})}function rv(r,e,t=null){return X(this,null,function*(){var l;t||(t=ZI);let n=document.createElement("li");e.parentUlElement.appendChild(n),n.classList.add("task-list-item","plugin-tasks-list-item");let s=document.createElement("span");n.appendChild(s),s.classList.add("tasks-list-text");let a=yield QI(r,e,s,t);for(let c in a)n.dataset[c]=a[c];let o=document.createElement("input");return n.appendChild(o),o.classList.add("task-list-item-checkbox"),o.type="checkbox",r.status.symbol!==" "&&(o.checked=!0,n.classList.add("is-checked")),o.addEventListener("click",c=>{c.preventDefault(),c.stopPropagation(),o.disabled=!0;let f=r.toggleWithRecurrenceInUsersOrder();Fu({originalTask:r,newTasks:f})}),n.prepend(o),n.setAttribute("data-task",r.status.symbol.trim()),n.setAttribute("data-line",e.listIndex.toString()),n.setAttribute("data-task-status-name",r.status.name),n.setAttribute("data-task-status-type",r.status.type),o.setAttribute("data-line",e.listIndex.toString()),(l=e.layoutOptions)!=null&&l.shortMode&&rF({task:r,element:s,isFilenameUnique:e.isFilenameUnique}),n})}function QI(r,e,t,n){return X(this,null,function*(){let s={},a=new Bn(e.layoutOptions),o=Tn.tasksPluginEmoji.taskSerializer;for(let l of a.layoutComponents){let c=o.componentToString(r,a,l);if(c){l==="description"&&(c=Le.removeAsSubstringFromDependingOnSettings(c));let f=document.createElement("span");if(t.appendChild(f),f){let p=document.createElement("span");f.appendChild(p),yield XI(p,c,l,r,n,e.obsidianComponent);let[g,T]=Kh(l,r);JI(l,p),f.classList.add(...g);for(let S in T)f.dataset[S]=T[S];s=Ae(Ae({},s),T)}}}for(let l of a.hiddenComponents){let[c,f]=Kh(l,r);s=Ae(Ae({},s),f)}if(s.taskPriority===void 0){let[l,c]=Kh("priority",r);s=Ae(Ae({},s),c)}return s})}function XI(r,e,t,n,s,a){return X(this,null,function*(){if(t==="description"){let{debugSettings:o}=oe();o.showTaskHiddenData&&(e+=`<br>\u{1F41B} <b>${n.lineNumber}</b> . ${n.sectionStart} . ${n.sectionIndex} . '<code>${n.originalMarkdown}</code>'<br>'<code>${n.path}</code>' > '<code>${n.precedingHeader}</code>'<br>`),yield s(e,r,n.path,a);let l=r.querySelector("blockquote"),c=l!=null?l:r,f=c.querySelector("p");if(f!==null){for(;f.firstChild;)c.insertBefore(f.firstChild,f);f.remove()}r.querySelectorAll("p").forEach(p=>{p.hasChildNodes()||p.remove()}),r.querySelectorAll(".footnotes").forEach(p=>{p.remove()})}else r.innerHTML=e})}function Kh(r,e){let t=[],n={},s=(a,o)=>{let l=eF(a);l&&(n[o]=l)};switch(r){case"description":t.push(Kn.description);break;case"priority":{let a=null;e.priority==="0"?a="highest":e.priority==="1"?a="high":e.priority==="2"?a="medium":e.priority==="4"?a="low":e.priority==="5"?a="lowest":a="normal",n.taskPriority=a,t.push(Kn.priority);break}case"createdDate":{let a=e.createdDate;a&&(t.push(Kn.createdDate),s(a,"taskCreated"));break}case"dueDate":{let a=e.dueDate;a&&(t.push(Kn.dueDate),s(a,"taskDue"));break}case"startDate":{let a=e.startDate;a&&(t.push(Kn.startDate),s(a,"taskStart"));break}case"scheduledDate":{let a=e.scheduledDate;a&&(t.push(Kn.scheduledDate),s(a,"taskScheduled"));break}case"doneDate":{let a=e.doneDate;a&&(t.push(Kn.doneDate),s(a,"taskDone"));break}case"recurrenceRule":{t.push(Kn.recurrenceRule);break}}return[t,n]}function JI(r,e){if(r==="description"){let t=e.getElementsByClassName("tag");for(let n=0;n<t.length;n++){let s=t[n].textContent;if(s){let a=tF(s),o=t[n];a&&(o.dataset.tagName=a)}}}}function eF(r){let e=window.moment().startOf("day"),t="",n=e.diff(r,"days");return isNaN(n)?null:n===0?"today":(n>0?t+="past-":n<0&&(t+="future-"),Math.abs(n)<=VI?t+=Math.abs(n).toString()+"d":t+=KI,t)}function tF(r){let e=/["&\x00\r\n]/g,t=r.replace(e,"-");return t=t.replace(/^[-_]+/,""),t.length>0?t:null}function rF({task:r,element:e,isFilenameUnique:t}){let{recurrenceSymbol:n,startDateSymbol:s,createdDateSymbol:a,scheduledDateSymbol:o,dueDateSymbol:l,doneDateSymbol:c}=Tn.tasksPluginEmoji.taskSerializer.symbols;e.addEventListener("mouseenter",()=>{let f=e.createDiv();f.addClasses(["tooltip","pop-up"]),r.recurrence&&f.createDiv().setText(`${n} ${r.recurrence.toText()}`),r.createdDate&&f.createDiv().setText(ro({signifier:a,date:r.createdDate})),r.startDate&&f.createDiv().setText(ro({signifier:s,date:r.startDate})),r.scheduledDate&&f.createDiv().setText(ro({signifier:o,date:r.scheduledDate})),r.dueDate&&f.createDiv().setText(ro({signifier:l,date:r.dueDate})),r.doneDate&&f.createDiv().setText(ro({signifier:c,date:r.doneDate}));let p=r.getLinkText({isFilenameUnique:t});p&&f.createDiv().setText(`\u{1F517} ${p}`),e.addEventListener("mouseleave",()=>{f.remove()})})}function ro({signifier:r,date:e}){return`${r} ${e.format(ie.dateFormat)} (${e.from(window.moment().startOf("day"))})`}var Jt=class{static fromPath(e){let{useFilenameAsScheduledDate:t,filenameAsDateFolders:n}=oe();return!t||!this.matchesAnyFolder(n,e)?null:this.extractDateFromPath(e)}static matchesAnyFolder(e,t){return e.length===0?!0:e.some(n=>t.startsWith(n+"/"))}static extractDateFromPath(e){let t=Math.max(0,e.lastIndexOf("/")+1),n=e.lastIndexOf("."),s=e.substring(t,n),a=/(\d{4})-(\d{2})-(\d{2})/.exec(s);if(a||(a=/(\d{4})(\d{2})(\d{2})/.exec(s)),a){let o=window.moment([parseInt(a[1]),parseInt(a[2])-1,parseInt(a[3])]);if(o.isValid())return o}return null}static canApplyFallback({startDate:e,scheduledDate:t,dueDate:n}){return e===null&&n===null&&t===null}static updateTaskPath(e,t,n){let s=e.scheduledDate,a=e.scheduledDateIsInferred;return n===null?a&&(a=!1,s=null):a?s=n:this.canApplyFallback(e)&&(s=n,a=!0),new Ge(tr(Ae({},e),{taskLocation:e.taskLocation.fromRenamedFile(t),scheduledDate:s,scheduledDateIsInferred:a}))}static removeInferredStatusIfNeeded(e,t){let n=e.scheduledDateIsInferred?e.scheduledDate:null;return t.map(s=>(n!==null&&!n.isSame(s.scheduledDate,"day")&&(s=new Ge(tr(Ae({},s),{scheduledDateIsInferred:!1}))),s))}};var ur=class{},ie=ur;ie.dateFormat="YYYY-MM-DD",ie.indentationRegex=/^([\s\t>]*)/,ie.listMarkerRegex=/([-*]|[0-9]+\.)/,ie.checkboxRegex=/\[(.)\]/u,ie.afterCheckboxRegex=/ *(.*)/u,ie.taskRegex=new RegExp(ur.indentationRegex.source+ur.listMarkerRegex.source+" +"+ur.checkboxRegex.source+ur.afterCheckboxRegex.source,"u"),ie.nonTaskRegex=new RegExp(ur.indentationRegex.source+ur.listMarkerRegex.source+"? *("+ur.checkboxRegex.source+")?"+ur.afterCheckboxRegex.source,"u"),ie.listItemRegex=new RegExp(ur.indentationRegex.source+ur.listMarkerRegex.source),ie.blockLinkRegex=/ \^[a-zA-Z0-9-]+$/u,ie.hashTags=/(^|\s)#[^ !@#$%^&*(),.?":{}|<>]*/g,ie.hashTagsFromEnd=new RegExp(ur.hashTags.source+"$");var Ge=class{constructor({status:e,description:t,taskLocation:n,indentation:s,listMarker:a,priority:o,createdDate:l,startDate:c,scheduledDate:f,dueDate:p,doneDate:g,recurrence:T,blockLink:S,tags:b,originalMarkdown:x,scheduledDateIsInferred:C}){this._urgency=null;this.status=e,this.description=t,this.indentation=s,this.listMarker=a,this.taskLocation=n,this.tags=b,this.priority=o,this.createdDate=l,this.startDate=c,this.scheduledDate=f,this.dueDate=p,this.doneDate=g,this.recurrence=T,this.blockLink=S,this.originalMarkdown=x,this.scheduledDateIsInferred=C}static fromLine({line:e,taskLocation:t,fallbackDate:n}){let s=e.match(ie.taskRegex);if(s===null)return null;let a=s[4].trim();if(!Le.includedIn(a))return null;let o=a,l=s[1],c=s[2],f=s[3],p=He.getInstance().bySymbolOrCreate(f),g=o.match(ie.blockLinkRegex),T=g!==null?g[0]:"";T!==""&&(o=o.replace(ie.blockLinkRegex,"").trim());let{taskSerializer:S}=Xa(),b=S.deserialize(o),x=!1;return Jt.canApplyFallback(b)&&n!==null&&(b.scheduledDate=n,x=!0),b.tags=b.tags.map(C=>C.trim()),b.tags=b.tags.filter(C=>!Le.equals(C)),new Ge(tr(Ae({},b),{status:p,indentation:l,listMarker:c,taskLocation:t,blockLink:T,originalMarkdown:e,scheduledDateIsInferred:x}))}toLi(e){return X(this,null,function*(){return rv(this,e)})}toString(){return Xa().taskSerializer.serialize(this)}toFileLineString(){return`${this.indentation}${this.listMarker} [${this.status.symbol}] ${this.toString()}`}toggle(){let e=He.getInstance().getNextStatusOrCreate(this.status),t=null,n=null;if(e.isCompleted()){let{setDoneDate:o}=oe();o&&(t=window.moment()),this.recurrence!==null&&(n=this.recurrence.next())}let s=new Ge(tr(Ae({},this),{status:e,doneDate:t})),a=[];if(n!==null){let{setCreatedDate:o}=oe(),l=null;o&&(l=window.moment());let c=He.getInstance().getNextStatusOrCreate(e),f=new Ge(tr(Ae(Ae({},this),n),{status:c,blockLink:"",createdDate:l}));a.push(f)}return a.push(s),a}toggleWithRecurrenceInUsersOrder(){let e=this.toggle(),{recurrenceOnNextLine:t}=oe();return t?e.reverse():e}get urgency(){return this._urgency===null&&(this._urgency=bn.calculate(this)),this._urgency}get path(){return this.taskLocation.path}get filename(){let e=this.path.match(/([^/]+)\.md$/);return e!==null?e[1]:null}get lineNumber(){return this.taskLocation.lineNumber}get sectionStart(){return this.taskLocation.sectionStart}get sectionIndex(){return this.taskLocation.sectionIndex}get precedingHeader(){return this.taskLocation.precedingHeader}getLinkText({isFilenameUnique:e}){let t;return e?t=this.filename:t="/"+this.path,t===null?null:(this.precedingHeader!==null&&this.precedingHeader!==t&&(t=t+" > "+this.precedingHeader),t)}static tasksListsIdentical(e,t){return e.length!==t.length?!1:e.every((n,s)=>n.identicalTo(t[s]))}identicalTo(e){let t=["status","description","path","indentation","listMarker","lineNumber","sectionStart","sectionIndex","precedingHeader","priority","blockLink","scheduledDateIsInferred"];for(let a of t)if(this[a]!==e[a])return!1;if(this.tags.length!==e.tags.length||!this.tags.every(function(a,o){return a===e.tags[o]}))return!1;t=["createdDate","startDate","scheduledDate","dueDate","doneDate"];for(let a of t){let o=this[a],l=e[a];if(zr(o,l)!==0)return!1}let n=this.recurrence,s=e.recurrence;return n===null&&s!==null||n!==null&&s===null?!1:!(n&&s&&!n.identicalTo(s))}static extractHashtags(e){var t,n;return(n=(t=e.match(ie.hashTags))==null?void 0:t.map(s=>s.trim()))!=null?n:[]}};var no=class{constructor(e){this.fetch=e;this._value=void 0}get value(){return this._value===void 0&&(this._value=this.fetch()),this._value}};var Ft=class{constructor(e,t,n,s,a){this._path=e,this._lineNumber=t,this._sectionStart=n,this._sectionIndex=s,this._precedingHeader=a}static fromUnknownPosition(e){return new Ft(e,0,0,0,null)}fromRenamedFile(e){return new Ft(e,this.lineNumber,this.sectionStart,this.sectionIndex,this.precedingHeader)}get path(){return this._path}get lineNumber(){return this._lineNumber}get sectionStart(){return this._sectionStart}get sectionIndex(){return this._sectionIndex}get precedingHeader(){return this._precedingHeader}};var Os=class{constructor({metadataCache:e,vault:t,events:n}){this.metadataCache=e,this.metadataCacheEventReferences=[],this.vault=t,this.vaultEventReferences=[],this.events=n,this.eventsEventReferences=[],this.tasksMutex=new Ro,this.state="Cold",this.tasks=[],this.loadedAfterFirstResolve=!1,this.subscribeToCache(),this.subscribeToVault(),this.subscribeToEvents(),this.loadVault()}unload(){for(let e of this.metadataCacheEventReferences)this.metadataCache.offref(e);for(let e of this.vaultEventReferences)this.vault.offref(e);for(let e of this.eventsEventReferences)this.events.off(e)}getTasks(){return this.tasks}getState(){return this.state}notifySubscribers(){this.events.triggerCacheUpdate({tasks:this.tasks,state:this.state})}subscribeToCache(){let e=this.metadataCache.on("resolved",()=>X(this,null,function*(){this.loadedAfterFirstResolve||(this.loadedAfterFirstResolve=!0,this.loadVault())}));this.metadataCacheEventReferences.push(e);let t=this.metadataCache.on("changed",n=>{this.tasksMutex.runExclusive(()=>{this.indexFile(n)})});this.metadataCacheEventReferences.push(t)}subscribeToVault(){let{useFilenameAsScheduledDate:e}=oe(),t=this.vault.on("create",a=>{a instanceof gi.TFile&&this.tasksMutex.runExclusive(()=>{this.indexFile(a)})});this.vaultEventReferences.push(t);let n=this.vault.on("delete",a=>{a instanceof gi.TFile&&this.tasksMutex.runExclusive(()=>{this.tasks=this.tasks.filter(o=>o.path!==a.path),this.notifySubscribers()})});this.vaultEventReferences.push(n);let s=this.vault.on("rename",(a,o)=>{a instanceof gi.TFile&&this.tasksMutex.runExclusive(()=>{let l=new no(()=>Jt.fromPath(a.path));this.tasks=this.tasks.map(c=>c.path===o?e?Jt.updateTaskPath(c,a.path,l.value):new Ge(tr(Ae({},c),{taskLocation:c.taskLocation.fromRenamedFile(a.path)})):c),this.notifySubscribers()})});this.vaultEventReferences.push(s)}subscribeToEvents(){let e=this.events.onRequestCacheUpdate(t=>{t({tasks:this.tasks,state:this.state})});this.eventsEventReferences.push(e)}loadVault(){return this.tasksMutex.runExclusive(()=>X(this,null,function*(){this.state="Initializing",yield Promise.all(this.vault.getMarkdownFiles().map(e=>this.indexFile(e))),this.state="Warm",this.notifySubscribers()}))}indexFile(e){return X(this,null,function*(){let t=this.metadataCache.getFileCache(e);if(t==null)return;let n=this.tasks.filter(o=>o.path===e.path),s=t.listItems,a=[];if(s!==void 0){let o=yield this.vault.cachedRead(e);a=this.getTasksFromFileContent(o,s,t,e)}Ge.tasksListsIdentical(n,a)||(this.getState()=="Warm"&&console.debug(`At least one task, its line number or its heading has changed in ${e.path}: triggering a refresh of all active Tasks blocks in Live Preview and Reading mode views.`),this.tasks=this.tasks.filter(o=>o.path!==e.path),this.tasks.push(...a),this.notifySubscribers())})}getTasksFromFileContent(e,t,n,s){let a=[],o=e.split(`
`),l=o.length,c=new no(()=>Jt.fromPath(s.path)),f=null,p=0;for(let g of t)if(g.task!==void 0){let T=g.position.start.line;if(T>=l)return console.log(`${s.path} Obsidian gave us a line number ${T} past the end of the file. ${l}.`),a;if((f===null||f.position.end.line<T)&&(f=Os.getSection(T,n.sections),p=0),f===null)continue;let S=o[T];if(S===void 0){console.log(`${s.path}: line ${T} - ignoring 'undefined' line.`);continue}let b;try{b=Ge.fromLine({line:S,taskLocation:new Ft(s.path,T,f.position.start.line,p,Os.getPrecedingHeader(T,n.headings)),fallbackDate:c.value})}catch(x){this.reportTaskParsingErrorToUser(x,s,g,S);continue}b!==null&&(p++,a.push(b))}return a}reportTaskParsingErrorToUser(e,t,n,s){let a=`There was an error reading one of the tasks in this vault.
The following task has been ignored, to prevent Tasks queries getting stuck with 'Loading Tasks ...'
Error: ${e}
File: ${t.path}
Line number: ${n.position.start.line}
Task line: ${s}

Please create a bug report for this message at
https://github.com/obsidian-tasks-group/obsidian-tasks/issues/new/choose
to help us find and fix the underlying issue.

Include:
- either a screenshot of the error popup, or copy the text from the console, if on a desktop machine.
- the output from running the Obsidian command 'Show debug info'

The error popup will only be shown when Tasks is starting up, but if the error persists,
it will be shown in the console every time this file is edited during the Obsidian
session.
`;console.error(a),e instanceof Error&&console.error(e.stack),this.state==="Initializing"&&new gi.Notice(a,1e4)}static getSection(e,t){if(t===void 0)return null;for(let n of t)if(n.position.start.line<=e&&n.position.end.line>=e)return n;return null}static getPrecedingHeader(e,t){if(t===void 0)return null;let n=null;for(let s of t){if(s.position.start.line>e)return n;n=s.heading}return n}};var ap=require("obsidian");var bv=require("obsidian");function Rs(){}function Xh(r){return r()}function sv(){return Object.create(null)}function xs(r){r.forEach(Xh)}function av(r){return typeof r=="function"}function ov(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function uv(r){return Object.keys(r).length===0}var lv=!1;function nF(){lv=!0}function sF(){lv=!1}function L(r,e){r.appendChild(e)}function _i(r,e,t){r.insertBefore(e,t||null)}function Ps(r){r.parentNode.removeChild(r)}function Jh(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function ae(r){return document.createElement(r)}function iF(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function qt(r){return document.createTextNode(r)}function Se(){return qt(" ")}function Vt(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function cv(r){return function(e){return e.preventDefault(),r.call(this,e)}}function H(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function aF(r){return Array.from(r.childNodes)}function ep(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function Lr(r,e){r.value=e==null?"":e}function tp(r,e){for(let t=0;t<r.options.length;t+=1){let n=r.options[t];if(n.__value===e){n.selected=!0;return}}r.selectedIndex=-1}function dv(r){let e=r.querySelector(":checked")||r.options[0];return e&&e.__value}function Yr(r,e,t){r.classList[t?"add":"remove"](e)}var Ms=class{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=iF(t.nodeName):this.e=ae(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)_i(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(Ps)}};var ao;function io(r){ao=r}function oF(){if(!ao)throw new Error("Function called outside component initialization");return ao}function rp(r){oF().$$.on_mount.push(r)}var so=[];var Uu=[],Yu=[],iv=[],uF=Promise.resolve(),Qh=!1;function lF(){Qh||(Qh=!0,uF.then(fv))}function oo(r){Yu.push(r)}var Zh=new Set,Lu=0;function fv(){let r=ao;do{for(;Lu<so.length;){let e=so[Lu];Lu++,io(e),cF(e.$$)}for(io(null),so.length=0,Lu=0;Uu.length;)Uu.pop()();for(let e=0;e<Yu.length;e+=1){let t=Yu[e];Zh.has(t)||(Zh.add(t),t())}Yu.length=0}while(so.length);for(;iv.length;)iv.pop()();Qh=!1,Zh.clear(),io(r)}function cF(r){if(r.fragment!==null){r.update(),xs(r.before_update);let e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(oo)}}var dF=new Set;function fF(r,e){r&&r.i&&(dF.delete(r),r.i(e))}var Cj=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function hF(r,e,t,n){let{fragment:s,on_mount:a,on_destroy:o,after_update:l}=r.$$;s&&s.m(e,t),n||oo(()=>{let c=a.map(Xh).filter(av);o?o.push(...c):xs(c),r.$$.on_mount=[]}),l.forEach(oo)}function hv(r,e){let t=r.$$;t.fragment!==null&&(xs(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function pF(r,e){r.$$.dirty[0]===-1&&(so.push(r),lF(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function pv(r,e,t,n,s,a,o,l=[-1]){let c=ao;io(r);let f=r.$$={fragment:null,ctx:null,props:a,update:Rs,not_equal:s,bound:sv(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:sv(),dirty:l,skip_bound:!1,root:e.target||c.$$.root};o&&o(f.root);let p=!1;if(f.ctx=t?t(r,e.props||{},(g,T,...S)=>{let b=S.length?S[0]:T;return f.ctx&&s(f.ctx[g],f.ctx[g]=b)&&(!f.skip_bound&&f.bound[g]&&f.bound[g](b),p&&pF(r,g)),T}):[],f.update(),p=!0,xs(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){nF();let g=aF(e.target);f.fragment&&f.fragment.l(g),g.forEach(Ps)}else f.fragment&&f.fragment.c();e.intro&&fF(r.$$.fragment),hF(r,e.target,e.anchor,e.customElement),sF(),fv()}io(c)}var mF;typeof HTMLElement=="function"&&(mF=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:r}=this.$$;this.$$.on_disconnect=r.map(Xh).filter(av);for(let e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(r,e,t){this[r]=t}disconnectedCallback(){xs(this.$$.on_disconnect)}$destroy(){hv(this,1),this.$destroy=Rs}$on(r,e){let t=this.$$.callbacks[r]||(this.$$.callbacks[r]=[]);return t.push(e),()=>{let n=t.indexOf(e);n!==-1&&t.splice(n,1)}}$set(r){this.$$set&&!uv(r)&&(this.$$.skip_bound=!0,this.$$set(r),this.$$.skip_bound=!1)}});var Wu=class{$destroy(){hv(this,1),this.$destroy=Rs}$on(e,t){let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{let s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!uv(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var sp=In(gt());function mv(r,e,t){let n=r.slice();return n[45]=e[t],n}function yv(r,e,t){let n=r.slice();return n[48]=e[t].value,n[49]=e[t].label,n[50]=e[t].symbol,n[51]=e[t].accessKey,n[52]=e[t].accessKeyIndex,n}function yF(r){let e,t=r[50]+"",n;return{c(){e=ae("span"),n=qt(t)},m(s,a){_i(s,e,a),L(e,n)},p:Rs,d(s){s&&Ps(e)}}}function gv(r){let e,t,n,s,a,o,l,c,f=r[49].substring(0,r[52])+"",p,g,T=r[49].substring(r[52],r[52]+1)+"",S,b,x=r[49].substring(r[52]+1)+"",C,G,K=r[50]&&r[50].charCodeAt(0)>=256,B,de,ue,ye,Q=K&&yF(r);return{c(){e=ae("span"),t=ae("input"),o=Se(),l=ae("label"),c=ae("span"),p=qt(f),g=ae("span"),S=qt(T),b=ae("span"),C=qt(x),G=Se(),Q&&Q.c(),de=Se(),H(t,"type","radio"),H(t,"id",n="priority-"+r[48]),t.__value=s=r[48],t.value=t.__value,H(t,"accesskey",a=r[15](r[51])),r[33][0].push(t),H(g,"class","accesskey"),H(l,"for",B="priority-"+r[48])},m(ee,rt){_i(ee,e,rt),L(e,t),t.checked=t.__value===r[1].priority,L(e,o),L(e,l),L(l,c),L(c,p),L(l,g),L(g,S),L(l,b),L(b,C),L(l,G),Q&&Q.m(l,null),L(e,de),ue||(ye=Vt(t,"change",r[32]),ue=!0)},p(ee,rt){rt[0]&32768&&a!==(a=ee[15](ee[51]))&&H(t,"accesskey",a),rt[0]&3&&(t.checked=t.__value===ee[1].priority),K&&Q.p(ee,rt)},d(ee){ee&&Ps(e),r[33][0].splice(r[33][0].indexOf(t),1),Q&&Q.d(),ue=!1,ye()}}}function _v(r){let e,t=r[45].name+"",n,s,a=r[45].symbol+"",o,l,c;return{c(){e=ae("option"),n=qt(t),s=qt(" ["),o=qt(a),l=qt("]"),e.__value=c=r[45],e.value=e.__value},m(f,p){_i(f,e,p),L(e,n),L(e,s),L(e,o),L(e,l)},p(f,p){p[0]&1&&t!==(t=f[45].name+"")&&ep(n,t),p[0]&1&&a!==(a=f[45].symbol+"")&&ep(o,a),p[0]&1&&c!==(c=f[45])&&(e.__value=c,e.value=e.__value)},d(f){f&&Ps(e)}}}function gF(r){let e,t,n,s,a,o,l,c,f,p,g,T,S,b,x,C,G,K,B,de,ue,ye,Q,ee,rt,Tt,z,W,P,te,Y,le,y,_,w,k,D,M,E,I,A,N,q,Ee,ge,fe,Ie,V,qe,ze,ht,Or,nt,je,pt,bt,On,Ii,$e,Ws,ts,mt,he,Xr,Pt,rs,ho,Wr,Mn,vt,Fi,dr,Jr,Ye,Rn,qs,ns,xn,ss,fr,Pn,po,en,mo,hr,pr,$,js,yo,yt,is,Pe,mr=r[20],Lt=[];for(let j=0;j<mr.length;j+=1)Lt[j]=gv(yv(r,mr,j));let tt=r[0],Je=[];for(let j=0;j<tt.length;j+=1)Je[j]=_v(mv(r,tt,j));return{c(){e=ae("div"),t=ae("form"),n=ae("div"),s=ae("label"),s.innerHTML='Descrip<span class="accesskey">t</span>ion',a=Se(),o=ae("textarea"),c=Se(),f=ae("div"),p=ae("label"),g=qt("Priority"),S=Se();for(let j=0;j<Lt.length;j+=1)Lt[j].c();b=Se(),x=ae("div"),C=ae("label"),C.textContent="Recurs",G=Se(),K=ae("input"),de=Se(),ue=ae("code"),ye=qt(r[16]),Q=Se(),ee=new Ms(!1),rt=Se(),Tt=ae("label"),Tt.textContent="Due",z=Se(),W=ae("input"),te=Se(),Y=ae("code"),le=qt(r[19]),y=Se(),_=new Ms(!1),w=Se(),k=ae("label"),k.textContent="Scheduled",D=Se(),M=ae("input"),I=Se(),A=ae("code"),N=qt(r[18]),q=Se(),Ee=new Ms(!1),ge=Se(),fe=ae("label"),fe.innerHTML='St<span class="accesskey">a</span>rt',Ie=Se(),V=ae("input"),ze=Se(),ht=ae("code"),Or=qt(r[17]),nt=Se(),je=new Ms(!1),pt=Se(),bt=ae("div"),On=ae("label"),On.innerHTML=`Only
                    <span class="accesskey-first">future</span> dates:`,Ii=Se(),$e=ae("input"),ts=Se(),mt=ae("div"),he=ae("label"),he.innerHTML='Stat<span class="accesskey">u</span>s',Xr=Se(),Pt=ae("select");for(let j=0;j<Je.length;j+=1)Je[j].c();ho=Se(),Wr=ae("div"),Mn=ae("div"),vt=ae("label"),vt.textContent="Completed:",Fi=Se(),dr=ae("input"),Ye=Se(),Rn=ae("div"),qs=ae("span"),qs.textContent="Created on:",ns=Se(),xn=ae("code"),ss=Se(),fr=ae("div"),Pn=ae("span"),Pn.textContent="Done on:",po=Se(),en=ae("code"),mo=Se(),hr=ae("div"),pr=ae("button"),$=qt("Apply"),yo=Se(),yt=ae("button"),yt.textContent="Cancel",H(s,"for","description"),H(o,"id","description"),H(o,"type","text"),H(o,"class","tasks-modal-description"),H(o,"placeholder","Take out the trash"),H(o,"accesskey",l=r[15]("t")),H(n,"class","tasks-modal-section"),H(p,"for",T="priority-"+r[1].priority),H(f,"class","tasks-modal-section tasks-modal-priorities"),H(C,"for","recurrence"),H(C,"class","accesskey-first"),H(K,"id","recurrence"),H(K,"type","text"),H(K,"placeholder","Try 'every 2 weeks on Thursday'."),H(K,"accesskey",B=r[15]("r")),Yr(K,"tasks-modal-error",!r[8]),ee.a=null,H(Tt,"for","due"),H(Tt,"class","accesskey-first"),H(W,"id","due"),H(W,"type","text"),H(W,"placeholder",np),H(W,"accesskey",P=r[15]("d")),Yr(W,"tasks-modal-error",!r[7]),_.a=null,H(k,"for","scheduled"),H(k,"class","accesskey-first"),H(M,"id","scheduled"),H(M,"type","text"),H(M,"placeholder",np),H(M,"accesskey",E=r[15]("s")),Yr(M,"tasks-modal-error",!r[5]),Ee.a=null,H(fe,"for","start"),H(V,"id","start"),H(V,"type","text"),H(V,"placeholder",np),H(V,"accesskey",qe=r[15]("a")),Yr(V,"tasks-modal-error",!r[3]),je.a=null,H(On,"for","forwardOnly"),H($e,"id","forwardOnly"),H($e,"type","checkbox"),H($e,"class","task-list-item-checkbox tasks-modal-checkbox"),H($e,"accesskey",Ws=r[15]("f")),H(x,"class","tasks-modal-section tasks-modal-dates"),H(he,"for","status"),H(Pt,"id","status-type"),H(Pt,"class","dropdown"),H(Pt,"accesskey",rs=r[15]("u")),r[1].status===void 0&&oo(()=>r[39].call(Pt)),H(mt,"class","tasks-modal-section"),H(vt,"for","status"),H(dr,"id","status"),H(dr,"type","checkbox"),H(dr,"class","task-list-item-checkbox tasks-modal-checkbox"),dr.checked=Jr=r[1].status.isCompleted(),dr.disabled=!0,H(Wr,"class","tasks-modal-section tasks-modal-status"),pr.disabled=js=!r[14],H(pr,"type","submit"),H(pr,"class","mod-cta"),H(yt,"type","button"),H(hr,"class","tasks-modal-section tasks-modal-buttons"),Yr(t,"with-accesskeys",r[9]),H(e,"class","tasks-modal")},m(j,ne){_i(j,e,ne),L(e,t),L(t,n),L(n,s),L(n,a),L(n,o),Lr(o,r[1].description),r[31](o),L(t,c),L(t,f),L(f,p),L(p,g),L(f,S);for(let ce=0;ce<Lt.length;ce+=1)Lt[ce].m(f,null);L(t,b),L(t,x),L(x,C),L(x,G),L(x,K),Lr(K,r[1].recurrenceRule),L(x,de),L(x,ue),L(ue,ye),L(ue,Q),ee.m(r[12],ue),L(x,rt),L(x,Tt),L(x,z),L(x,W),Lr(W,r[1].dueDate),L(x,te),L(x,Y),L(Y,le),L(Y,y),_.m(r[6],Y),L(x,w),L(x,k),L(x,D),L(x,M),Lr(M,r[1].scheduledDate),L(x,I),L(x,A),L(A,N),L(A,q),Ee.m(r[4],A),L(x,ge),L(x,fe),L(x,Ie),L(x,V),Lr(V,r[1].startDate),L(x,ze),L(x,ht),L(ht,Or),L(ht,nt),je.m(r[2],ht),L(x,pt),L(x,bt),L(bt,On),L(bt,Ii),L(bt,$e),$e.checked=r[1].forwardOnly,L(t,ts),L(t,mt),L(mt,he),L(mt,Xr),L(mt,Pt);for(let ce=0;ce<Je.length;ce+=1)Je[ce].m(Pt,null);tp(Pt,r[1].status),L(t,ho),L(t,Wr),L(Wr,Mn),L(Mn,vt),L(Mn,Fi),L(Mn,dr),L(Wr,Ye),L(Wr,Rn),L(Rn,qs),L(Rn,ns),L(Rn,xn),xn.innerHTML=r[11],L(Wr,ss),L(Wr,fr),L(fr,Pn),L(fr,po),L(fr,en),en.innerHTML=r[13],L(t,mo),L(t,hr),L(hr,pr),L(pr,$),L(hr,yo),L(hr,yt),is||(Pe=[Vt(o,"input",r[30]),Vt(o,"keydown",r[23]),Vt(o,"paste",r[24]),Vt(o,"drop",r[24]),Vt(f,"keyup",r[21]),Vt(K,"input",r[34]),Vt(W,"input",r[35]),Vt(M,"input",r[36]),Vt(V,"input",r[37]),Vt($e,"change",r[38]),Vt(Pt,"change",r[39]),Vt(yt,"click",r[22]),Vt(t,"submit",cv(r[25]))],is=!0)},p(j,ne){if(ne[0]&32768&&l!==(l=j[15]("t"))&&H(o,"accesskey",l),ne[0]&3&&Lr(o,j[1].description),ne[0]&3&&T!==(T="priority-"+j[1].priority)&&H(p,"for",T),ne[0]&1081346){mr=j[20];let ce;for(ce=0;ce<mr.length;ce+=1){let $t=yv(j,mr,ce);Lt[ce]?Lt[ce].p($t,ne):(Lt[ce]=gv($t),Lt[ce].c(),Lt[ce].m(f,null))}for(;ce<Lt.length;ce+=1)Lt[ce].d(1);Lt.length=mr.length}if(ne[0]&32768&&B!==(B=j[15]("r"))&&H(K,"accesskey",B),ne[0]&3&&K.value!==j[1].recurrenceRule&&Lr(K,j[1].recurrenceRule),ne[0]&256&&Yr(K,"tasks-modal-error",!j[8]),ne[0]&4096&&ee.p(j[12]),ne[0]&32768&&P!==(P=j[15]("d"))&&H(W,"accesskey",P),ne[0]&3&&W.value!==j[1].dueDate&&Lr(W,j[1].dueDate),ne[0]&128&&Yr(W,"tasks-modal-error",!j[7]),ne[0]&64&&_.p(j[6]),ne[0]&32768&&E!==(E=j[15]("s"))&&H(M,"accesskey",E),ne[0]&3&&M.value!==j[1].scheduledDate&&Lr(M,j[1].scheduledDate),ne[0]&32&&Yr(M,"tasks-modal-error",!j[5]),ne[0]&16&&Ee.p(j[4]),ne[0]&32768&&qe!==(qe=j[15]("a"))&&H(V,"accesskey",qe),ne[0]&3&&V.value!==j[1].startDate&&Lr(V,j[1].startDate),ne[0]&8&&Yr(V,"tasks-modal-error",!j[3]),ne[0]&4&&je.p(j[2]),ne[0]&32768&&Ws!==(Ws=j[15]("f"))&&H($e,"accesskey",Ws),ne[0]&3&&($e.checked=j[1].forwardOnly),ne[0]&1){tt=j[0];let ce;for(ce=0;ce<tt.length;ce+=1){let $t=mv(j,tt,ce);Je[ce]?Je[ce].p($t,ne):(Je[ce]=_v($t),Je[ce].c(),Je[ce].m(Pt,null))}for(;ce<Je.length;ce+=1)Je[ce].d(1);Je.length=tt.length}ne[0]&32768&&rs!==(rs=j[15]("u"))&&H(Pt,"accesskey",rs),ne[0]&3&&tp(Pt,j[1].status),ne[0]&3&&Jr!==(Jr=j[1].status.isCompleted())&&(dr.checked=Jr),ne[0]&2048&&(xn.innerHTML=j[11]),ne[0]&8192&&(en.innerHTML=j[13]),ne[0]&16384&&js!==(js=!j[14])&&(pr.disabled=js),ne[0]&512&&Yr(t,"with-accesskeys",j[9])},i:Rs,o:Rs,d(j){j&&Ps(e),r[31](null),Jh(Lt,j),Jh(Je,j),is=!1,xs(Pe)}}}var np="Try 'Monday' or 'tomorrow', or [td|tm|yd|tw|nw|we] then space.";function _F(r,e,t){let n;var s;let{task:a}=e,{onSubmit:o}=e,{statusOptions:l}=e,{prioritySymbols:c,recurrenceSymbol:f,startDateSymbol:p,scheduledDateSymbol:g,dueDateSymbol:T}=Tn.tasksPluginEmoji.taskSerializer.symbols,S,b={description:"",status:me.TODO,priority:"none",recurrenceRule:"",createdDate:"",startDate:"",scheduledDate:"",dueDate:"",doneDate:"",forwardOnly:!0},x=!0,C="",G="",K=!0,B="",de=!0,ue="",ye=!0,Q="",ee=!0,rt="",Tt=!1,z=!0,W=!0,P=[{value:"lowest",label:"Lowest",symbol:c.Lowest,accessKey:"o",accessKeyIndex:1},{value:"low",label:"Low",symbol:c.Low,accessKey:"l",accessKeyIndex:0},{value:"none",label:"Normal",symbol:c.None,accessKey:"n",accessKeyIndex:0},{value:"medium",label:"Medium",symbol:c.Medium,accessKey:"m",accessKeyIndex:0},{value:"high",label:"High",symbol:c.High,accessKey:"h",accessKeyIndex:0},{value:"highest",label:"Highest",symbol:c.Highest,accessKey:"i",accessKeyIndex:1}];function te(V,qe,ze=void 0){if(!qe)return`<i>no ${V} date</i>`;let ht=sp.parseDate(qe,ze,{forwardDate:ze!=null});return ht!==null?window.moment(ht).format("YYYY-MM-DD"):`<i>invalid ${V} date</i>`}function Y(V,qe){return te(V,qe,b.forwardOnly?new Date:void 0)}function le(V){let qe=null,ze=sp.parseDate(V,new Date,{forwardDate:b.forwardOnly});return ze!==null&&(qe=window.moment(ze)),qe}rp(()=>{let{provideAccessKeys:V}=oe();t(9,z=V);let qe=Le.removeAsWordFrom(a.description);(qe!=a.description||!Le.includedIn(a.description))&&(Tt=!0);let ze="none";a.priority==="5"?ze="lowest":a.priority==="4"?ze="low":a.priority==="2"?ze="medium":a.priority==="1"?ze="high":a.priority==="0"&&(ze="highest"),t(1,b={description:qe,status:a.status,priority:ze,recurrenceRule:a.recurrence?a.recurrence.toText():"",createdDate:a.createdDate?a.createdDate.format("YYYY-MM-DD"):"",startDate:a.startDate?a.startDate.format("YYYY-MM-DD"):"",scheduledDate:a.scheduledDate?a.scheduledDate.format("YYYY-MM-DD"):"",dueDate:a.dueDate?a.dueDate.format("YYYY-MM-DD"):"",doneDate:a.doneDate?a.doneDate.format("YYYY-MM-DD"):"",forwardOnly:!0}),setTimeout(()=>{S.focus()},10)});let y=V=>{if(V.key&&!V.altKey&&!V.ctrlKey){let qe=P.find(ze=>ze.label.charAt(0).toLowerCase()==V.key);qe&&t(1,b.priority=qe.value,b)}},_=()=>{o([])},w=V=>{V.key==="Enter"&&(V.preventDefault(),W&&D())},k=()=>{setTimeout(()=>{t(1,b.description=b.description.replace(/[\r\n]+/g," "),b)},0)},D=()=>{let V=b.description.trim();Tt&&(V=Le.prependTo(V));let qe=le(b.startDate),ze=le(b.scheduledDate),ht=le(b.dueDate),Or=null;b.recurrenceRule&&(Or=Rt.fromText({recurrenceRuleText:b.recurrenceRule,startDate:qe,scheduledDate:ze,dueDate:ht}));let nt;switch(b.priority){case"lowest":nt="5";break;case"low":nt="4";break;case"medium":nt="2";break;case"high":nt="1";break;case"highest":nt="0";break;default:nt="3"}let je=new Ge(Object.assign(Object.assign({},a),{description:V,status:b.status,priority:nt,recurrence:Or,startDate:qe,scheduledDate:ze,dueDate:ht,doneDate:window.moment(b.doneDate,"YYYY-MM-DD").isValid()?window.moment(b.doneDate,"YYYY-MM-DD"):null}));o([je])},M=[[]];function E(){b.description=this.value,t(1,b),t(6,ue),t(2,G),t(4,B),t(0,l)}function I(V){Uu[V?"unshift":"push"](()=>{S=V,t(10,S)})}function A(){b.priority=this.__value,t(1,b),t(6,ue),t(2,G),t(4,B),t(0,l)}function N(){b.recurrenceRule=this.value,t(1,b),t(6,ue),t(2,G),t(4,B),t(0,l)}function q(){b.dueDate=this.value,t(1,b),t(6,ue),t(2,G),t(4,B),t(0,l)}function Ee(){b.scheduledDate=this.value,t(1,b),t(6,ue),t(2,G),t(4,B),t(0,l)}function ge(){b.startDate=this.value,t(1,b),t(6,ue),t(2,G),t(4,B),t(0,l)}function fe(){b.forwardOnly=this.checked,t(1,b),t(6,ue),t(2,G),t(4,B),t(0,l)}function Ie(){b.status=dv(this),t(1,b),t(6,ue),t(2,G),t(4,B),t(0,l)}return r.$$set=V=>{"task"in V&&t(26,a=V.task),"onSubmit"in V&&t(27,o=V.onSubmit),"statusOptions"in V&&t(0,l=V.statusOptions)},r.$$.update=()=>{if(r.$$.dirty[0]&512){e:t(15,n=V=>z?V:null)}if(r.$$.dirty[0]&66){e:t(1,b.dueDate=fi(b.dueDate),b),t(6,ue=Y("due",b.dueDate)),t(7,ye=!ue.includes("invalid"))}if(r.$$.dirty[0]&6){e:t(1,b.startDate=fi(b.startDate),b),t(2,G=Y("start",b.startDate)),t(3,K=!G.includes("invalid"))}if(r.$$.dirty[0]&18){e:t(1,b.scheduledDate=fi(b.scheduledDate),b),t(4,B=Y("scheduled",b.scheduledDate)),t(5,de=!B.includes("invalid"))}if(r.$$.dirty[0]&268435458){e:if(t(8,ee=!0),!b.recurrenceRule)t(12,Q="<i>not recurring</>");else{let V=t(28,s=Rt.fromText({recurrenceRuleText:b.recurrenceRule,startDate:null,scheduledDate:null,dueDate:null}))===null||s===void 0?void 0:s.toText();V?t(12,Q=V):(t(12,Q="<i>invalid recurrence rule</i>"),t(8,ee=!1))}}if(r.$$.dirty[0]&2){e:t(29,x=b.description.trim()!=="")}if(r.$$.dirty[0]&536871336){e:t(14,W=ye&&ee&&de&&K&&x)}if(r.$$.dirty[0]&2){e:t(11,C=te("created",b.createdDate)),t(13,rt=te("done",b.doneDate))}},[l,b,G,K,B,de,ue,ye,ee,z,S,C,Q,rt,W,n,f,p,g,T,P,y,_,w,k,D,a,o,s,x,E,I,A,M,N,q,Ee,ge,fe,Ie]}var ip=class extends Wu{constructor(e){super(),pv(this,e,_F,gF,ov,{task:26,onSubmit:27,statusOptions:0},null,[-1,-1])}},Tv=ip;var Zn=class extends bv.Modal{constructor({app:t,task:n,onSubmit:s}){super(t);this.task=n,this.onSubmit=a=>{a.length&&s(a),this.close()}}onOpen(){this.titleEl.setText("Create or edit Task");let{contentEl:t}=this,n=this.getKnownStatusesAndCurrentTaskStatusIfNotKnown();new Tv({target:t,props:{task:this.task,statusOptions:n,onSubmit:this.onSubmit}})}getKnownStatusesAndCurrentTaskStatusIfNotKnown(){let t=He.getInstance().registeredStatuses;return He.getInstance().bySymbol(this.task.status.symbol)===me.EMPTY&&t.push(this.task.status),t}onClose(){let{contentEl:t}=this;t.empty()}};var qu=({line:r,path:e})=>{var b,x;let t=Jt.fromPath(e),n=Ge.fromLine({line:r,taskLocation:Ft.fromUnknownPosition(e),fallbackDate:t});if(n!==null)return n;let{setCreatedDate:s}=oe(),a=null;s&&(a=window.moment());let o=r.match(ie.nonTaskRegex);if(o===null)return console.error("Tasks: Cannot create task on line:",r),new Ge({status:me.TODO,description:"",taskLocation:Ft.fromUnknownPosition(e),indentation:"",listMarker:"-",priority:"3",createdDate:a,startDate:null,scheduledDate:null,dueDate:null,doneDate:null,recurrence:null,blockLink:"",tags:[],originalMarkdown:"",scheduledDateIsInferred:!1});let l=o[1],c=(b=o[2])!=null?b:"-",f=(x=o[4])!=null?x:" ",p=He.getInstance().bySymbolOrCreate(f),g=o[5],T=r.match(ie.blockLinkRegex),S=T!==null?T[0]:"";return S!==""&&(g=g.replace(ie.blockLinkRegex,"")),new Ge({status:p,description:g,taskLocation:Ft.fromUnknownPosition(e),indentation:l,listMarker:c,blockLink:S,priority:"3",createdDate:a,startDate:null,scheduledDate:null,dueDate:null,doneDate:null,recurrence:null,tags:[],originalMarkdown:"",scheduledDateIsInferred:!1})};var vv=(r,e,t,n)=>{var g;if(r)return t instanceof ap.MarkdownView;if(!(t instanceof ap.MarkdownView))return;let s=(g=t.file)==null?void 0:g.path;if(s===void 0)return;let o=e.getCursor().line,l=e.getLine(o),c=qu({line:l,path:s}),f=T=>{let S=Jt.removeInferredStatusIfNeeded(c,T).map(b=>b.toFileLineString()).join(`
`);e.setLine(o,S)};new Zn({app:n,task:c,onSubmit:f}).open()};var op=require("obsidian");var wv=(r,e,t)=>{var c;if(r)return t instanceof op.MarkdownView;if(!(t instanceof op.MarkdownView))return;let n=(c=t.file)==null?void 0:c.path;if(n===void 0)return;let s=e.getCursor(),a=s.line,o=e.getLine(a),l=TF(o,n);e.setLine(a,l.text),e.setCursor(bF(s,l))},TF=(r,e)=>{let t=Ge.fromLine({line:r,taskLocation:Ft.fromUnknownPosition(e),fallbackDate:null});if(t!==null){let n=t.toggleWithRecurrenceInUsersOrder().map(s=>s.toFileLineString());return{text:n.join(`
`),moveTo:{line:n.length-1}}}else{let n=r.match(ie.taskRegex);if(n!==null){let s=n[3],o=He.getInstance().bySymbol(s).nextStatusSymbol;return{text:r.replace(ie.taskRegex,`$1- [${o}] $4`)}}else if(ie.listItemRegex.test(r)){let s=r.replace(ie.listItemRegex,"$1$2 [ ]");return{text:s,moveTo:{ch:s.length}}}else{let s=r.replace(ie.indentationRegex,"$1- ");return{text:s,moveTo:{ch:s.length}}}}},bF=(r,e)=>{var a;let t={line:0,ch:r.ch},n=Ae(Ae({},t),(a=e.moveTo)!=null?a:{}),s=e.text.split(`
`)[n.line].length;return{line:r.line+n.line,ch:Math.min(n.ch,s)}};var ju=class{get app(){return this.plugin.app}constructor({plugin:e}){this.plugin=e,e.addCommand({id:"edit-task",name:"Create or edit task",icon:"pencil",editorCheckCallback:(t,n,s)=>vv(t,n,s,this.app)}),e.addCommand({id:"toggle-done",name:"Toggle task done",icon:"check-in-circle",editorCheckCallback:wv})}};var $u=class{constructor({obsidianEvents:e}){this.obsidianEvents=e}onCacheUpdate(e){return this.obsidianEvents.on("obsidian-tasks-plugin:cache-update",e)}triggerCacheUpdate(e){this.obsidianEvents.trigger("obsidian-tasks-plugin:cache-update",e)}onRequestCacheUpdate(e){return this.obsidianEvents.on("obsidian-tasks-plugin:request-cache-update",e)}triggerRequestCacheUpdate(e){this.obsidianEvents.trigger("obsidian-tasks-plugin:request-cache-update",e)}off(e){this.obsidianEvents.offref(e)}};var kv=require("obsidian");var Gu=class{constructor({plugin:e}){this.markdownPostProcessor=this._markdownPostProcessor.bind(this);e.registerMarkdownPostProcessor(this._markdownPostProcessor.bind(this))}_markdownPostProcessor(e,t){return X(this,null,function*(){var p;let n=new kv.MarkdownRenderChild(e);t.addChild(n);let s=e.findAll(".task-list-item").filter(g=>{var b;let T=(b=g.textContent)==null?void 0:b.split(`
`);if(T===void 0)return!1;let S=null;for(let x=0;x<T.length;x=x+1)if(T[x]!==""){S=T[x];break}return S===null?!1:Le.includedIn(S)});if(s.length===0)return;let a=t.sourcePath,o=t.getSectionInfo(e);if(o===null)return;let l=o.text.split(`
`),c=0,f=[];for(let g=o.lineStart;g<=o.lineEnd;g++){let T=l[g];if(T===void 0)continue;let S=null,b=Ge.fromLine({line:T,taskLocation:new Ft(a,g,o.lineStart,c,S),fallbackDate:null});b!==null&&(f.push(b),c++)}for(let g=0;g<s.length;g++){let T=f[g],S=s[g];if(T===void 0||S===void 0)continue;let b=(p=S.getAttr("data-line"))!=null?p:"0",x=Number.parseInt(b,10),C=yield T.toLi({parentUlElement:e,listIndex:x,obsidianComponent:n}),G=S.childNodes;for(let de=0;de<G.length;de=de+1){let ue=G[de];ue.nodeName.toLowerCase()==="div"?C.prepend(ue):ue.nodeName.toLowerCase()==="ul"&&C.append(ue)}let K=S.querySelectorAll("[data-footnote-id]"),B=C.querySelectorAll("[data-footnote-id]");if(K.length===B.length)for(let de=0;de<K.length;de++)B[de].replaceWith(K[de]);S.replaceWith(C)}})}};var Ev=require("@codemirror/view"),Dv=require("obsidian");var Sv=()=>Ev.ViewPlugin.fromClass(up),up=class{constructor(e){this.view=e,this.handleClickEvent=this.handleClickEvent.bind(this),this.view.dom.addEventListener("click",this.handleClickEvent)}destroy(){this.view.dom.removeEventListener("click",this.handleClickEvent)}handleClickEvent(e){let{target:t}=e;if(!t||!(t instanceof HTMLInputElement)||t.type!=="checkbox")return!1;let n=t.closest("ul.plugin-tasks-query-result, div.callout-content");if(n){if(n.matches("div.callout-content")){let T=`obsidian-tasks-plugin warning: Tasks cannot add or remove completion dates or make the next copy of a recurring task for tasks written inside a callout when you click their checkboxes in Live Preview. 
If you wanted Tasks to do these things, please undo your change, then either click the line of the task and use the "Toggle Task Done" command, or switch to Reading View to click the checkbox.`;console.warn(T),new Dv.Notice(T,45e3)}return!1}let{state:s}=this.view,a=this.view.posAtDOM(t),o=s.doc.lineAt(a),l=Ge.fromLine({line:o.text,taskLocation:Ft.fromUnknownPosition(""),fallbackDate:null});if(console.debug(`Live Preview Extension: toggle called. Position: ${a} Line: ${o.text}`),l===null)return!1;e.preventDefault();let f=l.toggleWithRecurrenceInUsersOrder().map(T=>T.toFileLineString()).join(s.lineBreak),p=s.update({changes:{from:o.from,to:o.to,insert:f}});this.view.dispatch(p);let g=t.checked;return setTimeout(()=>{t.checked=g},1),!0}};var Ni=require("obsidian");var vn=class{constructor(e,t,n){this.property=e,this.comparator=vn.maybeReverse(n,t)}static maybeReverse(e,t){return e?vn.makeReversedComparator(t):t}static makeReversedComparator(e){return(t,n)=>e(t,n)*-1}};var Ti=class{constructor(e,t,n){this.property=e,this.grouper=t,this.reverse=n}};var Qe=class{canCreateFilterForLine(e){return Qe.lineMatchesFilter(this.filterRegExp(),e)}static lineMatchesFilter(e,t){return e?e.test(t):!1}static getMatch(e,t){return e?t.match(e):null}fieldNameSingular(){return this.fieldName()}fieldNameSingularEscaped(){return Au(this.fieldNameSingular())}supportsSorting(){return!1}createSorterFromLine(e){if(!this.supportsSorting())return null;let t=Qe.getMatch(this.sorterRegExp(),e);if(t===null)return null;let n=!!t[1];return this.createSorter(n)}sorterRegExp(){if(!this.supportsSorting())throw Error(`sorterRegExp() unimplemented for ${this.fieldNameSingular()}`);return new RegExp(`^sort by ${this.fieldNameSingularEscaped()}( reverse)?`)}comparator(){throw Error(`comparator() unimplemented for ${this.fieldNameSingular()}`)}createSorter(e){return new vn(this.fieldNameSingular(),this.comparator(),e)}createNormalSorter(){return this.createSorter(!1)}createReverseSorter(){return this.createSorter(!0)}supportsGrouping(){return!1}createGrouperFromLine(e){if(!this.supportsGrouping())return null;let t=Qe.getMatch(this.grouperRegExp(),e);if(t===null)return null;let n=!!t[1];return this.createGrouper(n)}grouperRegExp(){if(!this.supportsGrouping())throw Error(`grouperRegExp() unimplemented for ${this.fieldNameSingular()}`);return new RegExp(`^group by ${this.fieldNameSingularEscaped()}( reverse)?$`)}grouper(){throw Error(`grouper() unimplemented for ${this.fieldNameSingular()}`)}createGrouper(e){return new Ti(this.fieldNameSingular(),this.grouper(),e)}createNormalGrouper(){return this.createGrouper(!1)}createReverseGrouper(){return this.createGrouper(!0)}};var Xe=class{constructor(e,t=[],n=""){this.description=e,this.symbol=n,this.children=t}static booleanAnd(e){return this.combineOrCreateExplanation("All of",e,"AND")}static booleanOr(e){return this.combineOrCreateExplanation("At least one of",e,"OR")}static booleanNot(e){return new Xe("None of",e,"NOT")}static booleanXor(e){return new Xe("Exactly one of",e,"XOR")}asString(e=""){if(this.children.length==0)return e+this.description;let t=e;this.symbol===""?t+=this.description:(t+=this.symbol,this.children.length>1&&(t+=` (${this.description})`),t+=":");let n=e+"  ";for(let s=0;s<this.children.length;s++)t+=`
${this.children[s].asString(n)}`;return t}static combineOrCreateExplanation(e,t,n){if(t.length===2){let s=t[0],a=t[1];if(s.symbol===n&&a.symbol==="")return s.children.push(a),s}return new Xe(e,t,n)}};var er=class{constructor(e,t,n){this.instruction=e,this.explanation=n,this.filterFunction=t}explainFilterIndented(e){let t=this.explanation;return t.asString()===this.instruction?`${e}${this.instruction}
`:`${e}${this.instruction} =>
${t.asString("  ")}
`}},Be=class{constructor(e){this.instruction=e}get filter(){return this._filter}set filter(e){this._filter=e}get filterFunction(){if(this._filter)return this._filter.filterFunction}static fromFilter(e){let t=new Be(e.instruction);return t.filter=e,t}static fromError(e,t){let n=new Be(e);return n.error=t,n}};var Hu=class{constructor(e,t){this._instruction=e,this._filter=t}canCreateFilterForLine(e){return e==this._instruction}createFilterOrErrorMessage(e){let t=new Be(e);return e===this._instruction?(t.filter=new er(e,this._filter,new Xe(e)),t):(t.error=`do not understand filter: ${e}`,t)}};var Kr=class{constructor(){this._filters=[]}add(e,t){this._filters.push(new Hu(e,t))}canCreateFilterForLine(e){for(let t of this._filters)if(t.canCreateFilterForLine(e))return!0;return!1}createFilterOrErrorMessage(e){for(let n of this._filters){let s=n.createFilterOrErrorMessage(e);if(s.error===void 0)return s}let t=new Be(e);return t.error=`do not understand filter: ${e}`,t}};var Qn=class extends Qe{constructor(){super(...arguments);this._filters=new Kr}canCreateFilterForLine(t){return this._filters.canCreateFilterForLine(t)}createFilterOrErrorMessage(t){return this._filters.createFilterOrErrorMessage(t)}filterRegExp(){return null}};var Zr=class extends Qn{constructor(){super(),this._filters.add("done",e=>e.status.type==="DONE"||e.status.type==="CANCELLED"||e.status.type==="NON_TASK"),this._filters.add("not done",e=>e.status.type==="TODO"||e.status.type==="IN_PROGRESS")}fieldName(){return"status"}supportsSorting(){return!0}comparator(){return(e,t)=>{let n=Zr.oldStatusName(e),s=Zr.oldStatusName(t);return n<s?1:n>s?-1:0}}static oldStatusName(e){return e.status.symbol===" "?"Todo":"Done"}supportsGrouping(){return!0}grouper(){return e=>[Zr.oldStatusName(e)]}};var jt=class extends Qe{constructor(t=null){super();t!==null?this.filterInstructions=t:(this.filterInstructions=new Kr,this.filterInstructions.add(`has ${this.fieldName()} date`,n=>this.date(n)!==null),this.filterInstructions.add(`no ${this.fieldName()} date`,n=>this.date(n)===null),this.filterInstructions.add(`${this.fieldName()} date is invalid`,n=>{let s=this.date(n);return s!==null&&!s.isValid()}))}canCreateFilterForLine(t){return this.filterInstructions.canCreateFilterForLine(t)?!0:super.canCreateFilterForLine(t)}createFilterOrErrorMessage(t){let n=this.filterInstructions.createFilterOrErrorMessage(t);if(n.filter!==void 0)return n;let s=new Be(t),a=Qe.getMatch(this.filterRegExp(),t);if(a!==null){let o=a[1],l=a[2],c=a[3],f=ir.parseDateRange(c);if(!f.isValid()){let p=ir.parseDate(o);p.isValid()&&(f=new Bt(p,p))}if(!f.isValid())s.error="do not understand "+this.fieldName()+" date";else{let p=this.buildFilterFunction(l,f),g=jt.buildExplanation(this.fieldNameForExplanation(),l,this.filterResultIfFieldMissing(),f);s.filter=new er(t,p,g)}}else s.error="do not understand query filter ("+this.fieldName()+" date)";return s}buildFilterFunction(t,n){let s;return t==="before"?s=a=>a?a.isBefore(n.start):this.filterResultIfFieldMissing():t==="after"?s=a=>a?a.isAfter(n.end):this.filterResultIfFieldMissing():s=a=>a?a.isSameOrAfter(n.start)&&a.isSameOrBefore(n.end):this.filterResultIfFieldMissing(),this.getFilter(s)}getFilter(t){return n=>t(this.date(n))}filterRegExp(){return new RegExp(`^${this.fieldNameForFilterInstruction()} ((before|after|on|in)? ?(.*))`)}fieldNameForFilterInstruction(){return this.fieldName()}static buildExplanation(t,n,s,a){let o,l="YYYY-MM-DD (dddd Do MMMM YYYY)",c;switch(n){case"before":o=n,c=a.start.format(l);break;case"after":o=n,c=a.end.format(l);break;default:if(a.start.isSame(a.end))o="on",c=a.start.format(l);else{let p=`${t} date is between:`,g=[new Xe(`${a.start.format(l)} and`),new Xe(`${a.end.format(l)} inclusive`)];return s&&g.push(new Xe(`OR no ${t} date`)),new Xe(p,g)}break}let f=`${t} date is ${o} ${c}`;return s&&(f+=` OR no ${t} date`),new Xe(f)}fieldNameForExplanation(){return this.fieldName()}supportsSorting(){return!0}comparator(){return(t,n)=>zr(this.date(t),this.date(n))}supportsGrouping(){return!0}grouper(){return t=>{let n=this.date(t);return n===null?["No "+this.fieldName()+" date"]:[n.format("YYYY-MM-DD dddd")]}}};var bi=class extends jt{fieldName(){return"due"}date(e){return e.dueDate}filterResultIfFieldMissing(){return!1}};var lp=class extends Qe{createFilterOrErrorMessage(e){let t=new Be(e),n=Qe.getMatch(this.filterRegExp(),e);if(n!==null){let s=n[5],a=null;switch(s){case"lowest":a="5";break;case"low":a="4";break;case"none":a="3";break;case"medium":a="2";break;case"high":a="1";break;case"highest":a="0";break}if(a===null)return t.error="do not understand priority",t;let o=e,l;switch(n[3]){case"above":l=c=>c.priority.localeCompare(a)<0;break;case"below":l=c=>c.priority.localeCompare(a)>0;break;case"not":l=c=>c.priority!==a;break;default:l=c=>c.priority===a,o=`${this.fieldName()} is ${s}`}t.filter=new er(e,l,new Xe(o))}else t.error="do not understand query filter (priority)";return t}fieldName(){return"priority"}filterRegExp(){return lp.priorityRegexp}supportsSorting(){return!0}comparator(){return(e,t)=>e.priority.localeCompare(t.priority)}supportsGrouping(){return!0}grouper(){return e=>{let t="ERROR";switch(e.priority){case"1":t="High";break;case"0":t="Highest";break;case"2":t="Medium";break;case"3":t="None";break;case"4":t="Low";break;case"5":t="Lowest";break}return[`Priority ${e.priority}: ${t}`]}}},As=lp;As.priorityRegexp=/^priority(\s+is)?(\s+(above|below|not))?(\s+(lowest|low|none|medium|high|highest))$/;var vi=class{matchesAnyOf(e){return e.some(t=>this.matches(t))}};var wi=class extends vi{constructor(t){super();this.stringToFind=t}matches(t){return wi.stringIncludesCaseInsensitive(t,this.stringToFind)}static stringIncludesCaseInsensitive(t,n){return t.toLocaleLowerCase().includes(n.toLocaleLowerCase())}};var ki=class extends vi{constructor(t){super();this.regex=t}static validateAndConstruct(t){let n=/\/((?![*+?])(?:[^\r\n[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*])+)\/((?:g(?:im?|mi?)?|i(?:gm?|mg?)?|m(?:gi?|ig?)?)?)/,s=t.match(n);if(s!==null){let a=new RegExp(s[1],s[2]);return new ki(a)}else return null}matches(t){return t.match(this.regex)!==null}};var Ke=class extends Qe{createFilterOrErrorMessage(e){let t=Qe.getMatch(this.filterRegExp(),e);if(t===null)return Be.fromError(e,`do not understand query filter (${this.fieldName()})`);let[n,s,a]=t,o=null;if(s.includes("include"))o=new wi(a);else if(s.includes("regex")&&(o=ki.validateAndConstruct(a),o===null))return Be.fromError(e,`cannot parse regex (${this.fieldName()}); check your leading and trailing slashes for your query`);if(o===null)return Be.fromError(e,`do not understand query filter (${this.fieldName()})`);let l=s.match(/not/)!==null,c=new er(e,this.getFilter(o,l),new Xe(e));return Be.fromFilter(c)}fieldPattern(){return this.fieldNameSingularEscaped()}filterOperatorPattern(){return"includes|does not include|regex matches|regex does not match"}filterRegExp(){return new RegExp(`^(?:${this.fieldPattern()}) (${this.filterOperatorPattern()}) (.*)`)}getFilter(e,t){return n=>{let s=e.matches(this.value(n));return t?!s:s}}comparator(){return(e,t)=>this.value(e).localeCompare(this.value(t),void 0,{numeric:!0})}grouper(){return e=>[this.value(e)]}static escapeMarkdownCharacters(e){return e.replace(/\\/g,"\\\\").replace(/_/g,"\\_")}};var Ei=class extends Ke{fieldName(){return"path"}value(e){return e.path}supportsSorting(){return!0}supportsGrouping(){return!0}grouper(){return e=>[Ke.escapeMarkdownCharacters(e.path.replace(".md",""))]}};var Di=class extends Qe{canCreateFilterForLine(e){return!1}createFilterOrErrorMessage(e){return Be.fromError(e,"Filtering by urgency is not yet supported")}fieldName(){return"urgency"}filterRegExp(){throw Error(`filterRegExp() unimplemented for ${this.fieldName()}`)}supportsSorting(){return!0}comparator(){return(e,t)=>t.urgency-e.urgency}supportsGrouping(){return!0}grouper(){return e=>[`${e.urgency.toFixed(2)}`]}};var Si=class{static by(e,t){let n=[new Di().comparator(),new Zr().comparator(),new bi().comparator(),new As().comparator(),new Ei().comparator()],s=[];for(let a of e)s.push(a.comparator);return t.sort(Si.makeCompositeComparator([...s,...n]))}static makeCompositeComparator(e){return(t,n)=>{for(let s of e){let a=s(t,n);if(a!==0)return a}return 0}}};var Bu=class{constructor(e,t,n){this.nestingLevel=e,this.displayName=t,this.property=n}};var zu=class{constructor(e,t){this.lastHeadingAtLevel=new Array;this.groupers=t;let s=e.keys().next().value.length;for(let a=0;a<s;a++)this.lastHeadingAtLevel.push("")}getHeadingsForTaskGroup(e){let t=new Array;for(let n=0;n<e.length;n++){let s=e[n];if(s!=this.lastHeadingAtLevel[n]){t.push(new Bu(n,s,this.groupers[n].property));for(let a=n;a<e.length;a++)this.lastHeadingAtLevel[a]="";this.lastHeadingAtLevel[n]=s}}return t}};var Vu=class{constructor(e){this.children=new Map;this.values=[];this.values=e}generateAllPaths(e=[]){let t=new Map;if(this.children.size==0)return t.set([...e],this.values),t;for(let[n,s]of this.children)e.push(n),s.generateAllPaths(e).forEach((o,l)=>t.set(l,o)),e.pop();return t}};var Ku=class extends Vu{},Zu=class{constructor(e,t){this.root=new Ku(t),this.buildGroupingTree(e)}buildGroupingTree(e){let t=[this.root];for(let n of e){let s=[];for(let a of t)for(let o of a.values){let l=n.grouper(o);for(let c of l){let f=a.children.get(c);f===void 0&&(f=new Ku([]),a.children.set(c,f),s.push(f)),f.values.push(o)}}t=s}}generateTaskTreeStorage(){return this.root.generateAllPaths()}};var Qu=class{constructor(e,t){this.groups=e,this.groupHeadings=[],this.tasks=t}setGroupHeadings(e){for(let t of e)this.groupHeadings.push(t)}applyTaskLimit(e){this.tasks=this.tasks.slice(0,e)}tasksAsStringOfLines(){let e="";for(let t of this.tasks)e+=t.toFileLineString()+`
`;return e}toString(){let e=`
`;e+=`Group names: [${this.groups}]
`;for(let t of this.groupHeadings)e+=`${"#".repeat(4+t.nestingLevel)} [${t.property}] ${t.displayName}
`;return e+=this.tasksAsStringOfLines(),e}};var Xu=class{constructor(e,t){this._groups=new Array;this._totalTaskCount=0;this._totalTaskCount=t.length,this._groupers=e;let s=new Zu(e,t).generateTaskTreeStorage();this.addTaskGroups(s),this.sortTaskGroups(),this.setGroupsHeadings(s)}get groupers(){return this._groupers}get groups(){return this._groups}totalTasksCount(){return this._totalTaskCount}toString(){let e="";e+=`Groupers (if any):
`;for(let n of this._groupers){let s=n.reverse?" reverse":"";e+=`- ${n.property}${s}
`}for(let n of this.groups)e+=n.toString(),e+=`
---
`;return e+=`
${this.totalTasksCount()} tasks
`,e}addTaskGroups(e){for(let[t,n]of e){let s=new Qu(t,n);this.addTaskGroup(s)}}addTaskGroup(e){this._groups.push(e)}sortTaskGroups(){let e=(t,n)=>{let s=t.groups,a=n.groups;for(let o=0;o<s.length;o++){let l=this._groupers[o],c=s[o].localeCompare(a[o],void 0,{numeric:!0});if(c!==0)return l.reverse?-c:c}return 0};this._groups.sort(e)}setGroupsHeadings(e){let t=new zu(e,this._groupers);for(let n of this._groups)n.setGroupHeadings(t.getHeadingsForTaskGroup(n.groups))}applyTaskLimit(e){this._groupers.length!==0&&(this._groups.forEach(t=>{t.applyTaskLimit(e)}),this.calculateTotalTaskCount())}calculateTotalTaskCount(){let e=[];this._groups.forEach(n=>{e=[...e,...n.tasks]});let t=[...new Set(e)];this._totalTaskCount=t.length}};var Ns=class extends Ke{fieldName(){return"description"}value(e){return Le.removeAsSubstringFrom(e.description)}supportsSorting(){return!0}comparator(){return(e,t)=>{let n=Ns.cleanDescription(e.description),s=Ns.cleanDescription(t.description);return n.localeCompare(s,void 0,{numeric:!0})}}static cleanDescription(e){e=Le.removeAsSubstringFrom(e);let t=/^\[\[?([^\]]*)]]?/,n=e.match(t);if(n!==null){let s=n[1];e=s.substring(s.indexOf("|")+1)+e.replace(t,"")}return e=this.replaceFormatting(e,/^\*\*([^*]+)\*\*/),e=this.replaceFormatting(e,/^\*([^*]+)\*/),e=this.replaceFormatting(e,/^==([^=]+)==/),e=this.replaceFormatting(e,/^__([^_]+)__/),e=this.replaceFormatting(e,/^_([^_]+)_/),e}static replaceFormatting(e,t){let n=e.match(t);return n!==null&&(e=n[1]+e.replace(t,"")),e}};var Ju=class extends jt{fieldName(){return"created"}date(e){return e.createdDate}filterResultIfFieldMissing(){return!1}};var el=class extends jt{fieldName(){return"done"}date(e){return e.doneDate}filterResultIfFieldMissing(){return!1}};var tl=class extends Qn{constructor(){super(),this._filters.add("exclude sub-items",e=>{if(e.indentation==="")return!0;let t=e.indentation.lastIndexOf(">");return t===-1?!1:/^ ?$/.test(e.indentation.slice(t+1))})}fieldName(){return"exclude"}};var rl=class extends Ke{fieldName(){return"heading"}value(e){return e.precedingHeader?e.precedingHeader:""}supportsSorting(){return!0}supportsGrouping(){return!0}grouper(){return e=>e.precedingHeader===null||e.precedingHeader.length===0?["(No heading)"]:[e.precedingHeader]}};var nl=class extends jt{fieldName(){return"scheduled"}date(e){return e.scheduledDate}filterResultIfFieldMissing(){return!1}};var sl=class extends jt{fieldName(){return"start"}fieldNameForFilterInstruction(){return"starts"}date(e){return e.startDate}filterResultIfFieldMissing(){return!0}};var Oi=class extends jt{constructor(){let e=new Kr;e.add("has happens date",t=>this.dates(t).some(n=>n!==null)),e.add("no happens date",t=>!this.dates(t).some(n=>n!==null)),super(e)}fieldName(){return"happens"}fieldNameForExplanation(){return"due, start or scheduled"}date(e){return this.earliestDate(e)}dates(e){return Array.of(e.startDate,e.scheduledDate,e.dueDate)}earliestDate(e){return new Oi().dates(e).sort(zr)[0]}filterResultIfFieldMissing(){return!1}getFilter(e){return t=>this.dates(t).some(n=>e(n))}};var il=class extends Qn{constructor(){super(),this._filters.add("is recurring",e=>e.recurrence!==null),this._filters.add("is not recurring",e=>e.recurrence===null)}fieldName(){return"recurring"}supportsSorting(){return!0}comparator(){return(e,t)=>e.recurrence!==null&&t.recurrence===null?-1:e.recurrence===null&&t.recurrence!==null?1:0}supportsGrouping(){return!0}grouper(){return e=>e.recurrence!==null?["Recurring"]:["Not Recurring"]}};var al=class extends Ke{fieldNamePlural(){return this.fieldNameSingular()+"s"}fieldName(){return`${this.fieldNameSingular()}/${this.fieldNamePlural()}`}fieldPattern(){return`${this.fieldNameSingular()}|${this.fieldNamePlural()}`}filterOperatorPattern(){return`${super.filterOperatorPattern()}|include|do not include`}value(e){return this.values(e).join(", ")}getFilter(e,t){return n=>{let s=e.matchesAnyOf(this.values(n));return t?!s:s}}createGrouper(e){return new Ti(this.fieldNamePlural(),this.grouper(),e)}grouperRegExp(){if(!this.supportsGrouping())throw Error(`grouperRegExp() unimplemented for ${this.fieldNameSingular()}`);return new RegExp(`^group by ${this.fieldNamePlural()}( reverse)?$`)}};var Cs=class extends al{constructor(){super();this.filterInstructions=new Kr,this.filterInstructions.add(`has ${this.fieldNameSingular()}`,t=>this.values(t).length>0),this.filterInstructions.add(`has ${this.fieldNamePlural()}`,t=>this.values(t).length>0),this.filterInstructions.add(`no ${this.fieldNameSingular()}`,t=>this.values(t).length===0),this.filterInstructions.add(`no ${this.fieldNamePlural()}`,t=>this.values(t).length===0)}createFilterOrErrorMessage(t){let n=this.filterInstructions.createFilterOrErrorMessage(t);return n.filter!==void 0?n:super.createFilterOrErrorMessage(t)}canCreateFilterForLine(t){return this.filterInstructions.canCreateFilterForLine(t)?!0:super.canCreateFilterForLine(t)}fieldNameSingular(){return"tag"}values(t){return t.tags}supportsSorting(){return!0}createSorterFromLine(t){let n=t.match(this.sorterRegExp());if(n===null)return null;let s=!!n[1],a=isNaN(+n[2])?1:+n[2],o=Cs.makeCompareByTagComparator(a);return new vn(this.fieldNameSingular(),o,s)}sorterRegExp(){return/^sort by tag( reverse)?[\s]*(\d+)?/}comparator(){return Cs.makeCompareByTagComparator(1)}static makeCompareByTagComparator(t){return(n,s)=>{if(n.tags.length===0&&s.tags.length===0)return 0;if(n.tags.length===0)return 1;if(s.tags.length===0)return-1;let a=t-1;if(n.tags.length<t&&s.tags.length>=t)return 1;if(s.tags.length<t&&n.tags.length>=t)return-1;if(n.tags.length<t&&s.tags.length<t)return 0;let o=n.tags[a],l=s.tags[a];return o.localeCompare(l,void 0,{numeric:!0})}}supportsGrouping(){return!0}grouper(){return t=>t.tags.length==0?["(No tags)"]:t.tags}};var Uv=In(Yv());var cl=class extends Qe{constructor(){super(...arguments);this.basicBooleanRegexp=/(.*(AND|OR|XOR|NOT)\s*[("].*|\(.+\))/g;this.supportedOperators=["AND","OR","XOR","NOT"];this.subFields={}}filterRegExp(){return this.basicBooleanRegexp}createFilterOrErrorMessage(t){return this.parseLine(t)}fieldName(){return"boolean query"}parseLine(t){let n=new Be(t);if(t.length===0)return n.error="empty line",n;let s=this.preprocessExpression(t);try{let a=(0,Uv.parse)(s);for(let c of a)if(c.name==="IDENTIFIER"&&c.value){let f=c.value.trim();if(!(f in this.subFields)){let p=dl(f);if(p===null)return n.error=`couldn't parse sub-expression '${f}'`,n;if(p.error)return n.error=`couldn't parse sub-expression '${f}': ${p.error}`,n;p.filter&&(this.subFields[f]=p.filter)}}else if(c.name==="OPERATOR"){if(c.value==null)return n.error="empty operator in boolean query",n;if(!this.supportedOperators.includes(c.value))return n.error=`unknown boolean operator '${c.value}'`,n}let o=c=>this.filterTaskWithParsedQuery(c,a),l=this.constructExplanation(a);return n.filter=new er(t,o,l),n}catch(a){let o=a instanceof Error?a.message:"unknown error type";return n.error=`malformed boolean query -- ${o} (check the documentation for guidelines)`,n}return n}preprocessExpression(t){return t.replace(/\(([^()]+)\)/g,'("$1")')}filterTaskWithParsedQuery(t,n){let s=l=>l==="true",a=l=>l?"true":"false",o=[];for(let l of n)if(l.name==="IDENTIFIER"){if(l.value==null)throw Error("null token value");let f=this.subFields[l.value.trim()].filterFunction(t);o.push(a(f))}else if(l.name==="OPERATOR")if(l.value==="NOT"){let c=s(o.pop());o.push(a(!c))}else if(l.value==="OR"){let c=s(o.pop()),f=s(o.pop());o.push(a(c||f))}else if(l.value==="AND"){let c=s(o.pop()),f=s(o.pop());o.push(a(c&&f))}else if(l.value==="XOR"){let c=s(o.pop()),f=s(o.pop());o.push(a(c&&!f||!c&&f))}else throw Error("Unsupported operator: "+l.value);else throw Error("Unsupported token type: "+l);return s(o[0])}constructExplanation(t){let n=[];for(let s of t)if(s.name==="IDENTIFIER"){if(s.value==null)throw Error("null token value");let a=this.subFields[s.value.trim()];n.push(a.explanation)}else if(s.name==="OPERATOR")if(s.value==="NOT"){let a=n.pop();n.push(Xe.booleanNot([a]))}else if(s.value==="OR"){let a=n.pop(),o=n.pop();n.push(Xe.booleanOr([o,a]))}else if(s.value==="AND"){let a=n.pop(),o=n.pop();n.push(Xe.booleanAnd([o,a]))}else if(s.value==="XOR"){let a=n.pop(),o=n.pop();n.push(Xe.booleanXor([o,a]))}else throw Error("Unsupported operator: "+s.value);else throw Error("Unsupported token type: "+s);return n[0]}};var fl=class extends Ke{fieldName(){return"filename"}value(e){let t=e.filename;return t===null?"":t+".md"}supportsSorting(){return!0}supportsGrouping(){return!0}grouper(){return e=>{let t=e.filename;return t===null?["Unknown Location"]:["[["+t+"]]"]}}};var hl=class extends Ke{constructor(){super()}fieldName(){return"status.name"}value(e){return e.status.name}supportsSorting(){return!0}supportsGrouping(){return!0}};var Jn=class extends Qe{canCreateFilterForLine(e){let t=new RegExp(`^(?:${this.fieldNameSingularEscaped()})`);return Qe.lineMatchesFilter(t,e)}createFilterOrErrorMessage(e){let t=Qe.getMatch(this.filterRegExp(),e);if(t===null)return this.helpMessage(e);let[n,s,a]=t,o=Dr[a.toUpperCase()];if(!o)return this.helpMessage(e);let l;switch(s){case"is":l=c=>c.status.type===o;break;case"is not":l=c=>c.status.type!==o;break;default:return this.helpMessage(e)}return Be.fromFilter(new er(e,l,new Xe(e)))}filterRegExp(){return new RegExp(`^(?:${this.fieldNameSingularEscaped()}) (is|is not) ([^ ]+)$`)}helpMessage(e){let t=Object.values(Dr).filter(s=>s!=="EMPTY").join(" "),n=`Invalid ${this.fieldNameSingular()} instruction: '${e}'.
    Allowed options: 'is' and 'is not' (without quotes).
    Allowed values:  ${t}
                     Note: values are case-insensitive,
                           so 'in_progress' works too, for example.
    Example:         ${this.fieldNameSingular()} is not NON_TASK`;return Be.fromError(e,n)}fieldName(){return"status.type"}value(e){return e.status.type}supportsSorting(){return!0}comparator(){return(e,t)=>{let n=Jn.groupName(e),s=Jn.groupName(t);return n.localeCompare(s,void 0,{numeric:!0})}}supportsGrouping(){return!0}grouper(){return e=>[Jn.groupName(e)]}static groupName(e){let t;switch(e.status.type){case"IN_PROGRESS":t="1";break;case"TODO":t="2";break;case"DONE":t="3";break;case"CANCELLED":t="4";break;case"NON_TASK":t="5";break;case"EMPTY":t="6";break}return t+" "+e.status.type}};var pl=class extends Ke{fieldName(){return"recurrence"}value(e){return e.recurrence!==null?e.recurrence.toText():""}supportsGrouping(){return!0}grouper(){return e=>e.recurrence!==null?[e.recurrence.toText()]:["None"]}};var ml=class extends Ke{fieldName(){return"folder"}value(e){let t=e.path,n=e.filename+".md",s=t.substring(0,t.lastIndexOf(n));return s===""?"/":s}supportsGrouping(){return!0}grouper(){return e=>[Ke.escapeMarkdownCharacters(this.value(e))]}};var yl=class extends Ke{fieldName(){return"root"}value(e){let t=e.path.replace(/\\/g,"/");t.charAt(0)==="/"&&(t=t.substring(1));let n=t.indexOf("/");return n==-1?"/":t.substring(0,n+1)}supportsGrouping(){return!0}grouper(){return e=>[Ke.escapeMarkdownCharacters(this.value(e))]}};var gl=class extends Ke{fieldName(){return"backlink"}value(e){let t=e.getLinkText({isFilenameUnique:!0});return t===null?"Unknown Location":t}createFilterOrErrorMessage(e){return Be.fromError(e,"backlink field does not support filtering")}canCreateFilterForLine(e){return!1}supportsGrouping(){return!0}grouper(){return e=>{let t=e.filename;if(t===null)return["Unknown Location"];let n=Ke.escapeMarkdownCharacters(t);return e.precedingHeader&&e.precedingHeader!==t&&(n+=" > "+e.precedingHeader),[n]}}};var vp=[()=>new hl,()=>new Jn,()=>new Zr,()=>new il,()=>new As,()=>new Oi,()=>new Ju,()=>new sl,()=>new nl,()=>new bi,()=>new el,()=>new Ei,()=>new ml,()=>new yl,()=>new gl,()=>new Ns,()=>new Cs,()=>new rl,()=>new tl,()=>new fl,()=>new Di,()=>new pl,()=>new cl];function dl(r){for(let e of vp){let t=e();if(t.canCreateFilterForLine(r))return t.createFilterOrErrorMessage(r)}return null}function Wv(r){let e=/^sort by /;if(r.match(e)===null)return null;for(let t of vp){let s=t().createSorterFromLine(r);if(s)return s}return null}function qv(r){let e=/^group by /;if(r.match(e)===null)return null;for(let t of vp){let s=t().createGrouperFromLine(r);if(s)return s}return null}var Sn=class{constructor({source:e}){this._limit=void 0;this._taskGroupLimit=void 0;this._layoutOptions=new Za;this._filters=[];this._error=void 0;this._sorting=[];this._grouping=[];this.hideOptionsRegexp=/^(hide|show) (task count|backlink|priority|created date|start date|scheduled date|done date|due date|recurrence rule|edit button|urgency)/;this.shortModeRegexp=/^short/;this.explainQueryRegexp=/^explain/;this.limitRegexp=/^limit (groups )?(to )?(\d+)( tasks?)?/;this.commentRegexp=/^#.*/;this.source=e,e.split(`
`).map(t=>t.trim()).forEach(t=>{switch(!0){case t==="":break;case this.shortModeRegexp.test(t):this._layoutOptions.shortMode=!0;break;case this.explainQueryRegexp.test(t):this._layoutOptions.explainQuery=!0;break;case this.limitRegexp.test(t):this.parseLimit({line:t});break;case this.parseSortBy({line:t}):break;case this.parseGroupBy({line:t}):break;case this.hideOptionsRegexp.test(t):this.parseHideOptions({line:t});break;case this.commentRegexp.test(t):break;case this.parseFilter(t):break;default:this._error=`do not understand query: ${t}`}})}append(e){return this.source===""?e:e.source===""?this:new Sn({source:`${this.source}
${e.source}`})}explainQuery(){let e="",t=this.filters.length;if(t===0)e+="No filters supplied. All tasks will match the query.";else for(let s=0;s<t;s++)s>0&&(e+=`
`),e+=this.filters[s].explainFilterIndented("");e+=this.explainQueryLimits();let{debugSettings:n}=oe();return n.ignoreSortInstructions&&(e+=`

NOTE: All sort instructions, including default sort order, are disabled, due to 'ignoreSortInstructions' setting.`),e}explainQueryLimits(){let e="";function t(n){let s=`

At most ${n} task`;return n!==1&&(s+="s"),s}return this._limit!==void 0&&(e+=t(this._limit),e+=`.
`),this._taskGroupLimit!==void 0&&(e+=t(this._taskGroupLimit),e+=` per group (if any "group by" options are supplied).
`),e}get limit(){return this._limit}get layoutOptions(){return this._layoutOptions}get filters(){return this._filters}get sorting(){return this._sorting}get grouping(){return this._grouping}get error(){return this._error}applyQueryToTasks(e){this.filters.forEach(o=>{e=e.filter(o.filterFunction)});let{debugSettings:t}=oe(),s=(t.ignoreSortInstructions?e:Si.by(this.sorting,e)).slice(0,this.limit),a=new Xu(this.grouping,s);return this._taskGroupLimit!==void 0&&a.applyTaskLimit(this._taskGroupLimit),a}parseHideOptions({line:e}){let t=e.match(this.hideOptionsRegexp);if(t!==null){let n=t[1]==="hide";switch(t[2]){case"task count":this._layoutOptions.hideTaskCount=n;break;case"backlink":this._layoutOptions.hideBacklinks=n;break;case"priority":this._layoutOptions.hidePriority=n;break;case"created date":this._layoutOptions.hideCreatedDate=n;break;case"start date":this._layoutOptions.hideStartDate=n;break;case"scheduled date":this._layoutOptions.hideScheduledDate=n;break;case"due date":this._layoutOptions.hideDueDate=n;break;case"done date":this._layoutOptions.hideDoneDate=n;break;case"recurrence rule":this._layoutOptions.hideRecurrenceRule=n;break;case"edit button":this._layoutOptions.hideEditButton=n;break;case"urgency":this._layoutOptions.hideUrgency=n;break;default:this._error="do not understand hide/show option"}}}parseFilter(e){let t=dl(e);return t!=null?(t.filter?this._filters.push(t.filter):this._error=t.error,!0):!1}parseLimit({line:e}){let t=e.match(this.limitRegexp);if(t===null){this._error="do not understand query limit";return}let n=Number.parseInt(t[3],10);t[1]!==void 0?this._taskGroupLimit=n:this._limit=n}parseSortBy({line:e}){let t=Wv(e);return t?(this._sorting.push(t),!0):!1}parseGroupBy({line:e}){let t=qv(e);return t?(this._grouping.push(t),!0):!1}};function jv(r){let e="";Le.isEmpty()||(e+=`Only tasks containing the global filter '${Le.get()}'.

`);let t=new Sn($h());return t.source.trim()!==""&&(e+=`Explanation of the global query:

${t.explainQuery()}
`),e+=`Explanation of this Tasks code block query:

${new Sn({source:r}).explainQuery()}`,e}function _l(r){return new Sn($h()).append(new Sn({source:r}))}var Tl=class{constructor({plugin:e,events:t}){this.addQueryRenderChild=this._addQueryRenderChild.bind(this);this.app=e.app,this.events=t,e.registerMarkdownCodeBlockProcessor("tasks",this._addQueryRenderChild.bind(this))}_addQueryRenderChild(e,t,n){return X(this,null,function*(){n.addChild(new wp({app:this.app,events:this.events,container:t,source:e,filePath:n.sourcePath}))})}},wp=class extends Ni.MarkdownRenderChild{constructor({app:t,events:n,container:s,source:a,filePath:o}){super(s);switch(this.app=t,this.events=n,this.source=a,this.filePath=o,this.containerEl.className){case"block-language-tasks":this.query=_l(this.source),this.queryType="tasks";break;default:this.query=_l(this.source),this.queryType="tasks";break}}onload(){this.events.triggerRequestCacheUpdate(this.render.bind(this)),this.renderEventRef=this.events.onCacheUpdate(this.render.bind(this)),this.reloadQueryAtMidnight()}onunload(){this.renderEventRef!==void 0&&this.events.off(this.renderEventRef),this.queryReloadTimeout!==void 0&&clearTimeout(this.queryReloadTimeout)}reloadQueryAtMidnight(){let t=new Date;t.setHours(24,0,0,0);let n=new Date,s=t.getTime()-n.getTime();this.queryReloadTimeout=setTimeout(()=>{this.query=_l(this.source),this.events.triggerRequestCacheUpdate(this.render.bind(this)),this.reloadQueryAtMidnight()},s+1e3)}render(s){return X(this,arguments,function*({tasks:t,state:n}){var o;let a=this.containerEl.createEl("div");if(n==="Warm"&&this.query.error===void 0){console.debug(`Render ${this.queryType} called for a block in active file "${this.filePath}", to select from ${t.length} tasks: plugin state: ${n}`),this.query.layoutOptions.explainQuery&&this.createExplanation(a);let l=this.query.applyQueryToTasks(t);for(let f of l.groups){this.addGroupHeadings(a,f.groupHeadings);let{taskList:p}=yield this.createTasksList({tasks:f.tasks,content:a});a.appendChild(p)}let c=l.totalTasksCount();console.debug(`${c} of ${t.length} tasks displayed in a block in "${this.filePath}"`),this.addTaskCount(a,c)}else this.query.error!==void 0?a.createDiv().innerHTML=`<pre>Tasks query: ${this.query.error.replace(/\n/g,"<br>")}</pre>`:a.setText("Loading Tasks ...");(o=this.containerEl.firstChild)==null||o.replaceWith(a)})}createExplanation(t){let n=jv(this.source),s=t.createEl("pre");s.addClasses(["plugin-tasks-query-explanation"]),s.setText(n),t.appendChild(s)}createTasksList(s){return X(this,arguments,function*({tasks:t,content:n}){let a=t.length,o=new Bn(this.query.layoutOptions),l=n.createEl("ul");l.addClasses(["contains-task-list","plugin-tasks-query-result"]),l.addClasses(o.specificClasses);let c=this.getGroupingAttribute();c&&c.length>0&&(l.dataset.taskGroupBy=c);for(let f=0;f<a;f++){let p=t[f],g=this.isFilenameUnique({task:p}),T=yield p.toLi({parentUlElement:l,listIndex:f,layoutOptions:this.query.layoutOptions,isFilenameUnique:g,taskLayout:o,obsidianComponent:this});T.querySelectorAll("[data-footnote-id]").forEach(C=>C.remove());let b=this.query.layoutOptions.shortMode,x=T.createSpan("task-extras");this.query.layoutOptions.hideUrgency||this.addUrgency(x,p),this.query.layoutOptions.hideBacklinks||this.addBacklinks(x,p,b,g),this.query.layoutOptions.hideEditButton||this.addEditButton(x,p),l.appendChild(T)}return{taskList:l,tasksCount:a}})}addEditButton(t,n){t.createEl("a",{cls:"tasks-edit"}).onClickEvent(a=>{a.preventDefault();let o=c=>{Fu({originalTask:n,newTasks:Jt.removeInferredStatusIfNeeded(n,c)})};new Zn({app:this.app,task:n,onSubmit:o}).open()})}addUrgency(t,n){let s=new Intl.NumberFormat().format(n.urgency);t.createSpan({text:s,cls:"tasks-urgency"})}addGroupHeadings(t,n){for(let s of n)this.addGroupHeading(t,s)}addGroupHeading(t,n){return X(this,null,function*(){let s="h6";n.nestingLevel===0?s="h4":n.nestingLevel===1&&(s="h5");let a=t.createEl(s,{cls:"tasks-group-heading"});yield Ni.MarkdownRenderer.renderMarkdown(n.displayName,a,this.filePath,this)})}addBacklinks(t,n,s,a){var p;let o=t.createSpan({cls:"tasks-backlink"});s||o.append(" (");let l=o.createEl("a");l.rel="noopener",l.target="_blank",l.addClass("internal-link"),s&&l.addClass("internal-link-short-mode");let c;s?c=" \u{1F517}":c=(p=n.getLinkText({isFilenameUnique:a}))!=null?p:"",l.setText(c);let f=this.app.vault;l.addEventListener("click",g=>X(this,null,function*(){let T=yield Vh(n,f);if(T){let[S,b]=T;yield this.app.workspace.getLeaf(Ni.Keymap.isModEvent(g)).openFile(b,{eState:{line:S}})}})),l.addEventListener("mousedown",g=>X(this,null,function*(){if(g.button===1){let T=yield Vh(n,f);if(T){let[S,b]=T;yield this.app.workspace.getLeaf("tab").openFile(b,{eState:{line:S}})}}})),s||o.append(")")}addTaskCount(t,n){this.query.layoutOptions.hideTaskCount||t.createDiv({text:`${n} task${n!==1?"s":""}`,cls:"tasks-count"})}isFilenameUnique({task:t}){let n=t.path.match(/([^/]*)\..+$/i);if(n===null)return;let s=n[1];return this.app.vault.getMarkdownFiles().filter(o=>{if(o.basename===s)return!0}).length<2}getGroupingAttribute(){let t=[];for(let n of this.query.grouping)t.push(n.property);return t.join(",")}};var Ce=require("obsidian");function $v(){return[[" ","Unchecked","x","TODO"],["x","Checked"," ","DONE"],[">","Rescheduled","x","TODO"],["<","Scheduled","x","TODO"],["!","Important","x","TODO"],["-","Cancelled"," ","CANCELLED"],["/","In Progress","x","IN_PROGRESS"],["?","Question","x","TODO"],["*","Star","x","TODO"],["n","Note","x","TODO"],["l","Location","x","TODO"],["i","Information","x","TODO"],["I","Idea","x","TODO"],["S","Amount","x","TODO"],["p","Pro","x","TODO"],["c","Con","x","TODO"],["b","Bookmark","x","TODO"],['"',"Quote","x","TODO"],["0","Speech bubble 0","0","NON_TASK"],["1","Speech bubble 1","1","NON_TASK"],["2","Speech bubble 2","2","NON_TASK"],["3","Speech bubble 3","3","NON_TASK"],["4","Speech bubble 4","4","NON_TASK"],["5","Speech bubble 5","5","NON_TASK"],["6","Speech bubble 6","6","NON_TASK"],["7","Speech bubble 7","7","NON_TASK"],["8","Speech bubble 8","8","NON_TASK"],["9","Speech bubble 9","9","NON_TASK"]]}function Gv(){return[[" ","incomplete","x","TODO"],["x","complete / done"," ","DONE"],["-","cancelled"," ","CANCELLED"],[">","deferred","x","TODO"],["/","in progress, or half-done","x","IN_PROGRESS"],["!","Important","x","TODO"],["?","question","x","TODO"],["R","review","x","TODO"],["+","Inbox / task that should be processed later","x","TODO"],["b","bookmark","x","TODO"],["B","brainstorm","x","TODO"],["D","deferred or scheduled","x","TODO"],["I","Info","x","TODO"],["i","idea","x","TODO"],["N","note","x","TODO"],["Q","quote","x","TODO"],["W","win / success / reward","x","TODO"],["P","pro","x","TODO"],["C","con","x","TODO"]]}function Hv(){return[[" ","Unchecked","x","TODO"],["x","Checked"," ","DONE"],["-","Cancelled"," ","CANCELLED"],["/","In Progress","x","IN_PROGRESS"],[">","Deferred","x","TODO"],["!","Important","x","TODO"],["?","Question","x","TODO"],["r","Review","x","TODO"]]}function Bv(){return[[" ","Unchecked","x","TODO"],["x","Regular"," ","DONE"],["X","Checked"," ","DONE"],["-","Dropped"," ","CANCELLED"],[">","Forward","x","TODO"],["D","Date","x","TODO"],["?","Question","x","TODO"],["/","Half Done","x","IN_PROGRESS"],["+","Add","x","TODO"],["R","Research","x","TODO"],["!","Important","x","TODO"],["i","Idea","x","TODO"],["B","Brainstorm","x","TODO"],["P","Pro","x","TODO"],["C","Con","x","TODO"],["Q","Quote","x","TODO"],["N","Note","x","TODO"],["b","Bookmark","x","TODO"],["I","Information","x","TODO"],["p","Paraphrase","x","TODO"],["L","Location","x","TODO"],["E","Example","x","TODO"],["A","Answer","x","TODO"],["r","Reward","x","TODO"],["c","Choice","x","TODO"],["d","Doing","x","IN_PROGRESS"],["T","Time","x","TODO"],["@","Character / Person","x","TODO"],["t","Talk","x","TODO"],["O","Outline / Plot","x","TODO"],["~","Conflict","x","TODO"],["W","World","x","TODO"],["f","Clue / Find","x","TODO"],["F","Foreshadow","x","TODO"],["H","Favorite / Health","x","TODO"],["&","Symbolism","x","TODO"],["s","Secret","x","TODO"]]}function zv(){return[[" ","Unchecked","x","TODO"],["x","Checked"," ","DONE"],[">","Rescheduled","x","TODO"],["<","Scheduled","x","TODO"],["!","Important","x","TODO"],["-","Cancelled"," ","CANCELLED"],["/","In Progress","x","IN_PROGRESS"],["?","Question","x","TODO"],["*","Star","x","TODO"],["n","Note","x","TODO"],["l","Location","x","TODO"],["i","Information","x","TODO"],["I","Idea","x","TODO"],["S","Amount","x","TODO"],["p","Pro","x","TODO"],["c","Con","x","TODO"],["b","Bookmark","x","TODO"],["f","Fire","x","TODO"],["k","Key","x","TODO"],["w","Win","x","TODO"],["u","Up","x","TODO"],["d","Down","x","TODO"]]}function Vv(){return[[" ","to-do","x","TODO"],["/","incomplete","x","IN_PROGRESS"],["x","done"," ","DONE"],["-","canceled"," ","CANCELLED"],[">","forwarded","x","TODO"],["<","scheduling","x","TODO"],["?","question","x","TODO"],["!","important","x","TODO"],["*","star","x","TODO"],['"',"quote","x","TODO"],["l","location","x","TODO"],["b","bookmark","x","TODO"],["i","information","x","TODO"],["S","savings","x","TODO"],["I","idea","x","TODO"],["p","pros","x","TODO"],["c","cons","x","TODO"],["f","fire","x","TODO"],["k","key","x","TODO"],["w","win","x","TODO"],["u","up","x","TODO"],["d","down","x","TODO"]]}function Kv(){return[[" ","to-do","x","TODO"],["/","incomplete","x","IN_PROGRESS"],["x","done"," ","DONE"],["-","canceled"," ","CANCELLED"],[">","forwarded","x","TODO"],["<","scheduling","x","TODO"],["?","question","x","TODO"],["!","important","x","TODO"],["*","star","x","TODO"],['"',"quote","x","TODO"],["l","location","x","TODO"],["b","bookmark","x","TODO"],["i","information","x","TODO"],["S","savings","x","TODO"],["I","idea","x","TODO"],["p","pros","x","TODO"],["c","cons","x","TODO"],["f","fire","x","TODO"],["k","key","x","TODO"],["w","win","x","TODO"],["u","up","x","TODO"],["d","down","x","TODO"]]}var Zv=[{text:"Core Statuses",level:"h3",class:"",open:!0,notice:{class:"setting-item-description",text:null,html:"<p>These are the core statuses that Tasks supports natively, with no need for custom CSS styling or theming.</p><p>You can add edit and add your own custom statuses in the section below.</p>"},settings:[{name:"",description:"",type:"function",initialValue:"",placeholder:"",settingName:"insertTaskCoreStatusSettings",featureFlag:"",notice:null}]},{text:"Custom Statuses",level:"h3",class:"",open:!0,notice:{class:"setting-item-description",text:null,html:`<p>You should first <b>select and install a CSS Snippet or Theme</b> to style custom checkboxes.</p><p>Then, use the buttons below to set up your custom statuses, to match your chosen CSS checkboxes.</p><p><b>Note</b> Any statuses with the same symbol as any earlier statuses will be ignored. You can confirm the actually loaded statuses by running the 'Create or edit task' command and looking at the Status drop-down.</p><p></p><p>See the <a href="https://publish.obsidian.md/tasks/Getting+Started/Statuses">documentation</a> to get started!</p>`},settings:[{name:"",description:"",type:"function",initialValue:"",placeholder:"",settingName:"insertCustomTaskStatusSettings",featureFlag:"",notice:null}]}];var Ur=require("obsidian");var Ys=class{validate(e){let t=[];return t.push(...this.validateSymbol(e)),t.push(...this.validateName(e)),t.push(...this.validateNextSymbol(e)),t}validateStatusCollectionEntry(e){let[t,n,s,a]=e,o=[];if(o.push(...this.validateType(a)),t===s&&a!=="NON_TASK"&&o.push(`Status symbol '${t}' toggles to itself`),o.length>0)return o;let l=me.createFromImportedValue(e).configuration;return o.push(...this.validateSymbolTypeConventions(l)),o.push(...this.validate(l)),o}validateSymbol(e){return Ys.validateOneSymbol(e.symbol,"Task Status Symbol")}validateNextSymbol(e){return Ys.validateOneSymbol(e.nextStatusSymbol,"Task Next Status Symbol")}validateName(e){let t=[];return e.name.length===0&&t.push("Task Status Name cannot be empty."),t}validateType(e){let t=Dr[e],n=[];return t||n.push(`Status Type "${e}" is not a valid type`),t=="EMPTY"&&n.push('Status Type "EMPTY" is not permitted in user data'),n}validateSymbolTypeConventions(e){let t=[],n=e.symbol,s=new He,a=n==="X"?"x":n,o=s.bySymbol(a);return o.type!=="EMPTY"&&(e.nextStatusSymbol!==o.nextStatusSymbol&&t.push(`Next Status Symbol for symbol '${n}': '${e.nextStatusSymbol}' is inconsistent with convention '${o.nextStatusSymbol}'`),e.type!==o.type&&t.push(`Status Type for symbol '${n}': '${e.type}' is inconsistent with convention '${o.type}'`)),t}static validateOneSymbol(e,t){let n=[];return e.length===0&&n.push(`${t} cannot be empty.`),e.length>1&&n.push(`${t} ("${e}") must be a single character.`),n}};var Us=new Ys,cr=class extends Ur.Modal{constructor(t,n,s){super(t.app);this.plugin=t;this.saved=!1;this.error=!1;this.statusSymbol=n.symbol,this.statusName=n.name,this.statusNextSymbol=n.nextStatusSymbol,this.statusAvailableAsCommand=n.availableAsCommand,this.type=n.type,this.isCoreStatus=s}statusConfiguration(){return new xt(this.statusSymbol,this.statusName,this.statusNextSymbol,this.statusAvailableAsCommand,this.type)}display(){return X(this,null,function*(){let{contentEl:t}=this;t.empty();let n=t.createDiv(),s;new Ur.Setting(n).setName("Task Status Symbol").setDesc("This is the character between the square braces. (It can only be edited for Custom statuses, and not Core statuses.)").addText(f=>{s=f,f.setValue(this.statusSymbol).onChange(p=>{this.statusSymbol=p,cr.setValid(f,Us.validateSymbol(this.statusConfiguration()))})}).setDisabled(this.isCoreStatus).then(f=>{cr.setValid(s,Us.validateSymbol(this.statusConfiguration()))});let a;new Ur.Setting(n).setName("Task Status Name").setDesc("This is the friendly name of the task status.").addText(f=>{a=f,f.setValue(this.statusName).onChange(p=>{this.statusName=p,cr.setValid(f,Us.validateName(this.statusConfiguration()))})}).then(f=>{cr.setValid(a,Us.validateName(this.statusConfiguration()))});let o;new Ur.Setting(n).setName("Task Next Status Symbol").setDesc("When clicked on this is the symbol that should be used next.").addText(f=>{o=f,f.setValue(this.statusNextSymbol).onChange(p=>{this.statusNextSymbol=p,cr.setValid(f,Us.validateNextSymbol(this.statusConfiguration()))})}).then(f=>{cr.setValid(o,Us.validateNextSymbol(this.statusConfiguration()))}),new Ur.Setting(n).setName("Task Status Type").setDesc("Control how the status behaves for searching and toggling.").addDropdown(f=>{["TODO","IN_PROGRESS","DONE","CANCELLED","NON_TASK"].forEach(g=>{f.addOption(g,g)}),f.setValue(this.type).onChange(g=>{this.type=me.getTypeFromStatusTypeString(g)})}),me.tasksPluginCanCreateCommandsForStatuses()&&new Ur.Setting(n).setName("Available as command").setDesc("If enabled this status will be available as a command so you can assign a hotkey and toggle the status using it.").addToggle(f=>{f.setValue(this.statusAvailableAsCommand).onChange(p=>X(this,null,function*(){this.statusAvailableAsCommand=p}))});let l=t.createDiv(),c=new Ur.Setting(l);c.addButton(f=>(f.setTooltip("Save").setIcon("checkmark").onClick(()=>X(this,null,function*(){let p=Us.validate(this.statusConfiguration());if(p.length>0){let g=p.join(`
`)+`

Fix errors before saving.`;new Ur.Notice(g);return}this.saved=!0,this.close()})),f)),c.addExtraButton(f=>(f.setIcon("cross").setTooltip("Cancel").onClick(()=>{this.saved=!1,this.close()}),f))})}onOpen(){this.display()}static setValidationError(t){t.inputEl.addClass("tasks-settings-is-invalid")}static removeValidationError(t){t.inputEl.removeClass("tasks-settings-is-invalid")}static setValid(t,n){n.length===0?cr.removeValidationError(t):cr.setValidationError(t)}};var es=class extends Ce.PluginSettingTab{constructor({plugin:t}){super(t.app,t);this.customFunctions={insertTaskCoreStatusSettings:this.insertTaskCoreStatusSettings.bind(this),insertCustomTaskStatusSettings:this.insertCustomTaskStatusSettings.bind(this)};this.plugin=t}saveSettings(t){return X(this,null,function*(){yield this.plugin.saveSettings(),t&&this.display()})}display(){let{containerEl:t}=this;t.empty(),this.containerEl.addClass("tasks-settings"),t.createEl("h3",{text:"Tasks Settings"}),t.createEl("p",{cls:"tasks-setting-important",text:"Changing any settings requires a restart of obsidian."}),t.createEl("h4",{text:"Task Format Settings"}),new Ce.Setting(t).setName("Task Format").setDesc(es.createFragmentWithHTML('<p>The format that Tasks uses to read and write tasks.</p><p><b>Important:</b> Tasks currently only supports one format at a time. Selecting Dataview will currently <b>stop Tasks reading its own emoji signifiers</b>.</p><p>See the <a href="https://publish.obsidian.md/tasks/Reference/Task+Formats/About+Task+Formats">documentation</a>.</p>')).addDropdown(s=>{for(let a of Object.keys(Tn))s.addOption(a,Tn[a].displayName);s.setValue(oe().taskFormat).onChange(a=>X(this,null,function*(){ft({taskFormat:a}),yield this.plugin.saveSettings()}))}),t.createEl("h4",{text:"Global filter Settings"}),new Ce.Setting(t).setName("Global task filter").setDesc(es.createFragmentWithHTML('<p><b>Recommended: Leave empty if you want all checklist items in your vault to be tasks managed by this plugin.</b></p><p>Use a global filter if you want Tasks to only act on a subset of your "<code>- [ ]</code>" checklist items, so that a checklist item must include the specified string in its description in order to be considered a task.<p><p>For example, if you set the global filter to <code>#task</code>, the Tasks plugin will only handle checklist items tagged with <code>#task</code>.</br>Other checklist items will remain normal checklist items and not appear in queries or get a done date set.</p><p>See the <a href="https://publish.obsidian.md/tasks/Getting+Started/Global+Filter">documentation</a>.</p>')).addText(s=>{s.setPlaceholder("e.g. #task or TODO").setValue(Le.get()).onChange(a=>X(this,null,function*(){Le.set(a),yield this.plugin.saveSettings()}))}),new Ce.Setting(t).setName("Remove global filter from description").setDesc("Enabling this removes the string that you set as global filter from the task description when displaying a task.").addToggle(s=>{let a=oe();s.setValue(a.removeGlobalFilter).onChange(o=>X(this,null,function*(){ft({removeGlobalFilter:o}),yield this.plugin.saveSettings()}))}),t.createEl("h4",{text:"Global Query"}),NF(new Ce.Setting(t).setDesc(es.createFragmentWithHTML('<p>A query that is automatically included at the start of every Tasks block in the vault. Useful for adding default filters, or layout options.</p><p>See the <a href="https://publish.obsidian.md/tasks/Queries/Global+Query">documentation</a>.</p>')).addTextArea(s=>{let a=oe();s.inputEl.rows=4,s.setPlaceholder(`# For example...
path does not include _templates/
limit 300
show urgency`).setValue(a.globalQuery).onChange(o=>X(this,null,function*(){ft({globalQuery:o}),yield this.plugin.saveSettings()}))})),t.createEl("h4",{text:"Task Statuses"});let{headingOpened:n}=oe();Zv.forEach(s=>{this.addOneSettingsBlock(t,s,n)}),t.createEl("h4",{text:"Date Settings"}),new Ce.Setting(t).setName("Set created date on every added task").setDesc("Enabling this will add a timestamp \u2795 YYYY-MM-DD before other date values, when a task is created with 'Create or edit task', or by completing a recurring task.").addToggle(s=>{let a=oe();s.setValue(a.setCreatedDate).onChange(o=>X(this,null,function*(){ft({setCreatedDate:o}),yield this.plugin.saveSettings()}))}),new Ce.Setting(t).setName("Set done date on every completed task").setDesc("Enabling this will add a timestamp \u2705 YYYY-MM-DD at the end when a task is toggled to done.").addToggle(s=>{let a=oe();s.setValue(a.setDoneDate).onChange(o=>X(this,null,function*(){ft({setDoneDate:o}),yield this.plugin.saveSettings()}))}),new Ce.Setting(t).setName("Use filename as Scheduled date for undated tasks").setDesc(es.createFragmentWithHTML('Save time entering Scheduled (\u23F3) dates.</br>If this option is enabled, any undated tasks will be given a default Scheduled date extracted from their file name.</br>The date in the file name must be in one of <code>YYYY-MM-DD</code> or <code>YYYYMMDD</code> formats.</br>Undated tasks have none of Due (\u{1F4C5} ), Scheduled (\u23F3) and Start (\u{1F6EB}) dates.</br><p>See the <a href="https://publish.obsidian.md/tasks/Getting+Started/Use+Filename+as+Default+Date">documentation</a>.</p>')).addToggle(s=>{let a=oe();s.setValue(a.useFilenameAsScheduledDate).onChange(o=>X(this,null,function*(){ft({useFilenameAsScheduledDate:o}),yield this.plugin.saveSettings()}))}),new Ce.Setting(t).setName("Folders with default Scheduled dates").setDesc("Leave empty if you want to use default Scheduled dates everywhere, or enter a comma-separated list of folders.").addText(s=>X(this,null,function*(){let a=oe();yield this.plugin.saveSettings(),s.setValue(es.renderFolderArray(a.filenameAsDateFolders)).onChange(o=>X(this,null,function*(){let l=es.parseCommaSeparatedFolders(o);ft({filenameAsDateFolders:l}),yield this.plugin.saveSettings()}))})),t.createEl("h4",{text:"Recurring task Settings"}),new Ce.Setting(t).setName("Next recurrence appears on the line below").setDesc("Enabling this will make the next recurrence of a task appear on the line below the completed task. Otherwise the next recurrence will appear before the completed one.").addToggle(s=>{let{recurrenceOnNextLine:a}=oe();s.setValue(a).onChange(o=>X(this,null,function*(){ft({recurrenceOnNextLine:o}),yield this.plugin.saveSettings()}))}),t.createEl("h4",{text:"Auto-suggest Settings"}),new Ce.Setting(t).setName("Auto-suggest task content").setDesc("Enabling this will open an intelligent suggest menu while typing inside a recognized task line.").addToggle(s=>{let a=oe();s.setValue(a.autoSuggestInEditor).onChange(o=>X(this,null,function*(){ft({autoSuggestInEditor:o}),yield this.plugin.saveSettings()}))}),new Ce.Setting(t).setName("Minimum match length for auto-suggest").setDesc("If higher than 0, auto-suggest will be triggered only when the beginning of any supported keywords is recognized.").addSlider(s=>{let a=oe();s.setLimits(0,3,1).setValue(a.autoSuggestMinMatch).setDynamicTooltip().onChange(o=>X(this,null,function*(){ft({autoSuggestMinMatch:o}),yield this.plugin.saveSettings()}))}),new Ce.Setting(t).setName("Maximum number of auto-suggestions to show").setDesc('How many suggestions should be shown when an auto-suggest menu pops up (including the "\u23CE" option).').addSlider(s=>{let a=oe();s.setLimits(3,12,1).setValue(a.autoSuggestMaxItems).setDynamicTooltip().onChange(o=>X(this,null,function*(){ft({autoSuggestMaxItems:o}),yield this.plugin.saveSettings()}))}),t.createEl("h4",{text:"Dialog Settings"}),new Ce.Setting(t).setName("Provide access keys in dialogs").setDesc("If the access keys (keyboard shortcuts) for various controls in dialog boxes conflict with system keyboard shortcuts or assistive technology functionality that is important for you, you may want to deactivate them here.").addToggle(s=>{let a=oe();s.setValue(a.provideAccessKeys).onChange(o=>X(this,null,function*(){ft({provideAccessKeys:o}),yield this.plugin.saveSettings()}))})}addOneSettingsBlock(t,n,s){let a=t.createEl("details",{cls:"tasks-nested-settings",attr:Ae({},n.open||s[n.text]?{open:!0}:{})});a.empty(),a.ontoggle=()=>{s[n.text]=a.open,ft({headingOpened:s}),this.plugin.saveSettings()};let o=a.createEl("summary");if(new Ce.Setting(o).setHeading().setName(n.text),o.createDiv("collapser").createDiv("handle"),n.notice!==null){let l=a.createEl("div",{cls:n.notice.class,text:n.notice.text});n.notice.html!==null&&l.insertAdjacentHTML("beforeend",n.notice.html)}n.settings.forEach(l=>{if(!(l.featureFlag!==""&&!Gb(l.featureFlag))&&(l.type==="checkbox"?new Ce.Setting(a).setName(l.name).setDesc(l.description).addToggle(c=>{let f=oe();f.generalSettings[l.settingName]||Ss(l.settingName,l.initialValue),c.setValue(f.generalSettings[l.settingName]).onChange(p=>X(this,null,function*(){Ss(l.settingName,p),yield this.plugin.saveSettings()}))}):l.type==="text"?new Ce.Setting(a).setName(l.name).setDesc(l.description).addText(c=>{let f=oe();f.generalSettings[l.settingName]||Ss(l.settingName,l.initialValue);let p=g=>X(this,null,function*(){Ss(l.settingName,g),yield this.plugin.saveSettings()});c.setPlaceholder(l.placeholder.toString()).setValue(f.generalSettings[l.settingName].toString()).onChange((0,Ce.debounce)(p,500,!0))}):l.type==="textarea"?new Ce.Setting(a).setName(l.name).setDesc(l.description).addTextArea(c=>{let f=oe();f.generalSettings[l.settingName]||Ss(l.settingName,l.initialValue);let p=g=>X(this,null,function*(){Ss(l.settingName,g),yield this.plugin.saveSettings()});c.setPlaceholder(l.placeholder.toString()).setValue(f.generalSettings[l.settingName].toString()).onChange((0,Ce.debounce)(p,500,!0)),c.inputEl.rows=8,c.inputEl.cols=40}):l.type==="function"&&this.customFunctions[l.settingName](a,this),l.notice!==null)){let c=a.createEl("p",{cls:l.notice.class,text:l.notice.text});l.notice.html!==null&&c.insertAdjacentHTML("beforeend",l.notice.html)}})}static parseCommaSeparatedFolders(t){return t.split(",").map(n=>n.trim()).map(n=>n.replace(/^\/|\/$/g,"")).filter(n=>n!=="")}static renderFolderArray(t){return t.join(",")}insertTaskCoreStatusSettings(t,n){let{statusSettings:s}=oe();s.coreStatuses.forEach(a=>{Qv(t,a,s.coreStatuses,s,n,n.plugin,!0)})}insertCustomTaskStatusSettings(t,n){let{statusSettings:s}=oe();s.customStatuses.forEach(f=>{Qv(t,f,s.customStatuses,s,n,n.plugin,!1)}),t.createEl("div"),new Ce.Setting(t).addButton(f=>{f.setButtonText("Add New Task Status").setCta().onClick(()=>X(this,null,function*(){_t.addStatus(s.customStatuses,new xt("","","",!1,"TODO")),yield Ci(s,n)}))}).infoEl.remove();let o=[["AnuPpuccin Theme",$v()],["Aura Theme",Gv()],["Ebullientworks Theme",Hv()],["ITS Theme & SlRvb Checkboxes",Bv()],["Minimal Theme",Vv()],["Things Theme",Kv()],["LYT Mode Theme (Dark mode only)",zv()]];for(let[f,p]of o)new Ce.Setting(t).addButton(T=>{let S=`${f}: Add ${p.length} supported Statuses`;T.setButtonText(S).onClick(()=>X(this,null,function*(){yield AF(p,s,n)}))}).infoEl.remove();new Ce.Setting(t).addButton(f=>{f.setButtonText("Add All Unknown Status Types").setCta().onClick(()=>X(this,null,function*(){let g=this.plugin.getTasks().map(S=>S.status),T=He.getInstance().findUnknownStatuses(g);T.length!==0&&(T.forEach(S=>{_t.addStatus(s.customStatuses,S)}),yield Ci(s,n))}))}).infoEl.remove(),new Ce.Setting(t).addButton(f=>{f.setButtonText("Reset Custom Status Types to Defaults").setWarning().onClick(()=>X(this,null,function*(){_t.resetAllCustomStatuses(s),yield Ci(s,n)}))}).infoEl.remove()}},fo=es;fo.createFragmentWithHTML=t=>createFragment(n=>n.createDiv().innerHTML=t);function Qv(r,e,t,n,s,a,o){let l=r.createEl("pre");l.addClass("row-for-status"),l.textContent=new me(e).previewText();let c=new Ce.Setting(r);c.infoEl.replaceWith(l),o||c.addExtraButton(f=>{f.setIcon("cross").setTooltip("Delete").onClick(()=>X(this,null,function*(){_t.deleteStatus(t,e)&&(yield Ci(n,s))}))}),c.addExtraButton(f=>{f.setIcon("pencil").setTooltip("Edit").onClick(()=>X(this,null,function*(){let p=new cr(a,e,o);p.onClose=()=>X(this,null,function*(){p.saved&&_t.replaceStatus(t,e,p.statusConfiguration())&&(yield Ci(n,s))}),p.open()}))}),c.infoEl.remove()}function AF(r,e,t){return X(this,null,function*(){_t.bulkAddStatusCollection(e,r).forEach(s=>{new Ce.Notice(s)}),yield Ci(e,t)})}function Ci(r,e){return X(this,null,function*(){ft({statusSettings:r}),_t.applyToStatusRegistry(r,He.getInstance()),yield e.saveSettings(!0)})}function NF(r){let{settingEl:e,infoEl:t,controlEl:n}=r,s=n.querySelector("textarea");console.log({settingEl:e,infoEl:t,controlEl:n,textEl:s}),s!==null&&(e.style.display="block",t.style.marginRight="0px",s.style.minWidth="-webkit-fill-available")}var Xv=require("obsidian");var bl=class extends Xv.EditorSuggest{constructor(t,n){super(t);this.settings=n}onTrigger(t,n,s){if(!this.settings.autoSuggestInEditor)return null;let a=n.getLine(t.line);return Le.includedIn(a)&&a.match(ie.taskRegex)?{start:{line:t.line,ch:0},end:{line:t.line,ch:a.length},query:a}:null}getSuggestions(t){var o,l,c;let n=t.query,s=t.editor.getCursor();return((c=(l=(o=Xa()).buildSuggestions)==null?void 0:l.call(o,n,s.ch,this.settings))!=null?c:[]).map(f=>tr(Ae({},f),{context:t}))}renderSuggestion(t,n){n.setText(t.displayText)}selectSuggestion(t,n){var c,f,p;let s=t.context.editor;if(t.suggestionType==="empty"){this.close();let g=new KeyboardEvent("keydown",{code:"Enter",key:"Enter"});(f=(c=s==null?void 0:s.cm)==null?void 0:c.contentDOM)==null||f.dispatchEvent(g);return}let a=t.context.editor.getCursor(),o={line:a.line,ch:(p=t.insertAt)!=null?p:a.ch},l=t.insertSkip?{line:a.line,ch:o.ch+t.insertSkip}:void 0;t.context.editor.replaceRange(t.appendText,o,l),t.context.editor.setCursor({line:a.line,ch:o.ch+t.appendText.length})}};var Jv=(r,e)=>{let t,n=new Promise((o,l)=>{t=o});return e(r,o=>{let l=o.map(c=>c.toFileLineString()).join(`
`);t(l)}).open(),n};var ew=(r,e)=>{let t=qu({line:"",path:""});return new Zn({app:r,task:t,onSubmit:e})};var tw=r=>({createTaskLineModal:()=>Jv(r,ew)});var vl=class extends rw.Plugin{get apiV1(){return tw(app)}onload(){return X(this,null,function*(){Nu.registerConsoleLogger(),console.log('loading plugin "tasks"'),yield this.loadSettings(),this.addSettingTab(new fo({plugin:this})),Zb({metadataCache:this.app.metadataCache,vault:this.app.vault,workspace:this.app.workspace}),yield this.loadTaskStatuses();let t=new $u({obsidianEvents:this.app.workspace});this.cache=new Os({metadataCache:this.app.metadataCache,vault:this.app.vault,events:t}),this.inlineRenderer=new Gu({plugin:this}),this.queryRenderer=new Tl({plugin:this,events:t}),this.registerEditorExtension(Sv()),this.registerEditorSuggest(new bl(this.app,oe())),new ju({plugin:this})})}loadTaskStatuses(){return X(this,null,function*(){let{statusSettings:t}=oe();_t.applyToStatusRegistry(t,He.getInstance())})}onunload(){var t;console.log('unloading plugin "tasks"'),(t=this.cache)==null||t.unload()}loadSettings(){return X(this,null,function*(){let t=yield this.loadData();ft(t),yield this.loadTaskStatuses()})}saveSettings(){return X(this,null,function*(){yield this.saveData(oe())})}getTasks(){var t;return(t=this.cache)==null?void 0:t.getTasks()}};
/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! moment.js
//! momentjs.com
//! version : 2.29.4
